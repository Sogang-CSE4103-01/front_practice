{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.HoverToScroll = void 0;\nvar _keymap = require(\"@enact/core/keymap\");\nvar _util = require(\"@enact/core/util\");\nvar _spotlight = _interopRequireWildcard(require(\"@enact/spotlight\"));\nvar _pointer = require(\"@enact/spotlight/src/pointer\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _ThemeDecorator = require(\"../ThemeDecorator\");\nvar _HoverToScrollModule = _interopRequireDefault(require(\"./HoverToScroll.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _excluded = [\"scrollContainerHandle\"];\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    \"default\": e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n[\"default\"] = e, t && t.set(e, n), n;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nvar epsilon = _useScroll.constants.epsilon;\nvar nop = function nop() {};\nvar getBoundsPropertyNames = function getBoundsPropertyNames(direction) {\n  return direction === 'vertical' ? {\n    axis: 'y',\n    canScrollFunc: 'canScrollVertically',\n    clientSize: 'clientHeight',\n    maxPosition: 'maxTop',\n    scrollPosition: 'scrollTop'\n  } : {\n    axis: 'x',\n    canScrollFunc: 'canScrollHorizontally',\n    clientSize: 'clientWidth',\n    maxPosition: 'maxLeft',\n    scrollPosition: 'scrollLeft'\n  };\n};\nvar hoverToScrollMultiplier = {\n  horizontal: 0.015,\n  vertical: 0.04\n};\nvar directionToFocus = {\n  horizontal: {\n    before: 'right',\n    after: 'left'\n  },\n  vertical: {\n    before: 'down',\n    after: 'up'\n  }\n};\n\n/**\n * A hover area to scroll for a single direction.\n *\n * @class HoverToScrollBase\n * @memberof sandstone/useScroll.HoverToScroll\n * @ui\n * @private\n */\nvar HoverToScrollBase = function HoverToScrollBase(props) {\n  var direction = props.direction,\n    scrollContainer = props.scrollContainerHandle.current,\n    _props$scrollObserver = props.scrollObserver,\n    addObserverOnScroll = _props$scrollObserver.addObserverOnScroll,\n    removeObserverOnScroll = _props$scrollObserver.removeObserverOnScroll;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    hoveredPosition: null,\n    hoverToScrollRafId: null,\n    stopScrollByHover: false\n  });\n  var _useState = (0, _react.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    after = _useState2[0],\n    setAfter = _useState2[1];\n  var _useState3 = (0, _react.useState)(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    before = _useState4[0],\n    setBefore = _useState4[1];\n\n  // Functions\n\n  var handleGlobalKeyDown = (0, _react.useCallback)(function (_ref) {\n    var keyCode = _ref.keyCode;\n    var position = mutableRef.current.hoveredPosition;\n    if (scrollContainer.rtl && direction === 'horizontal') {\n      position = position === 'after' ? 'before' : 'after';\n    }\n    if ((0, _spotlight.getDirection)(keyCode) || (0, _keymap.is)('enter', keyCode)) {\n      _spotlight[\"default\"].focusNextFromPoint(directionToFocus[direction][position], (0, _pointer.getLastPointerPosition)());\n      scrollContainer.stop();\n    } else if ((0, _keymap.is)('pointerHide', keyCode)) {\n      mutableRef.current.stopScrollByHover = true;\n    }\n  }, [direction, scrollContainer]);\n  var startRaf = (0, _react.useCallback)(function (job) {\n    scrollContainer.isHoveringToScroll = true;\n    if (typeof window === 'object' && mutableRef.current.hoveredPosition) {\n      mutableRef.current.hoverToScrollRafId = window.requestAnimationFrame(job);\n      if (typeof document === 'object') {\n        document.addEventListener('keydown', handleGlobalKeyDown, {\n          capture: true\n        });\n      }\n    }\n  }, [handleGlobalKeyDown, scrollContainer]);\n  var stopRaf = (0, _react.useCallback)(function () {\n    scrollContainer.isHoveringToScroll = false;\n    if (typeof window === 'object' && mutableRef.current.hoverToScrollRafId !== null) {\n      window.cancelAnimationFrame(mutableRef.current.hoverToScrollRafId);\n      mutableRef.current.hoverToScrollRafId = null;\n      mutableRef.current.hoveredPosition = null;\n      mutableRef.current.stopScrollByHover = false;\n      if (typeof document === 'object') {\n        document.removeEventListener('keydown', handleGlobalKeyDown, {\n          capture: true\n        });\n      }\n    }\n  }, [handleGlobalKeyDown, scrollContainer]);\n  var getPointerEnterHandler = (0, _react.useCallback)(function (position) {\n    if (typeof window === 'object') {\n      var _getBoundsPropertyNam = getBoundsPropertyNames(direction),\n        axis = _getBoundsPropertyNam.axis,\n        clientSize = _getBoundsPropertyNam.clientSize,\n        maxPosition = _getBoundsPropertyNam.maxPosition,\n        scrollPosition = _getBoundsPropertyNam.scrollPosition;\n      var bounds = scrollContainer.getScrollBounds();\n      return function (_ref2) {\n        var pointerType = _ref2.pointerType;\n        if (pointerType === 'mouse') {\n          var distance = (position === 'before' ? -1 : 1) *\n          // scroll direction\n          bounds[clientSize] *\n          // scroll page size\n          hoverToScrollMultiplier[direction]; // a scrolling speed factor\n\n          mutableRef.current.hoveredPosition = position;\n          mutableRef.current.stopScrollByHover = false;\n          var scrollByHover = function scrollByHover() {\n            if (!mutableRef.current.stopScrollByHover && (0, _ThemeDecorator.getLastInputType)() === 'mouse') {\n              scrollContainer.scrollTo({\n                position: _defineProperty({}, axis, (0, _util.clamp)(0, bounds[maxPosition], scrollContainer[scrollPosition] + distance)),\n                animate: false\n              });\n              startRaf(scrollByHover);\n            } else {\n              stopRaf(); // for other type input during hovering\n            }\n          };\n\n          startRaf(scrollByHover);\n        }\n      };\n    } else {\n      return nop;\n    }\n  }, [direction, scrollContainer, startRaf, stopRaf]);\n  var update = (0, _react.useCallback)(function () {\n    var _getBoundsPropertyNam2 = getBoundsPropertyNames(direction),\n      canScrollFunc = _getBoundsPropertyNam2.canScrollFunc,\n      maxPosition = _getBoundsPropertyNam2.maxPosition,\n      scrollPosition = _getBoundsPropertyNam2.scrollPosition;\n    var canScroll = scrollContainer[canScrollFunc],\n      getScrollBounds = scrollContainer.getScrollBounds,\n      currentPosition = scrollContainer[scrollPosition];\n    var bounds = getScrollBounds();\n    var position = mutableRef.current.hoveredPosition;\n    var curAfter = false,\n      curBefore = false;\n    if (canScroll(bounds)) {\n      curAfter = currentPosition < bounds[maxPosition] - epsilon;\n      curBefore = currentPosition > 0;\n    }\n    if (after !== curAfter && position === 'after' || before !== curBefore && position === 'before') {\n      stopRaf();\n    }\n    setAfter(curAfter);\n    setBefore(curBefore);\n  }, [direction, after, before, scrollContainer, stopRaf]);\n\n  // Hooks\n\n  (0, _react.useLayoutEffect)(function () {\n    addObserverOnScroll(update);\n    return function () {\n      removeObserverOnScroll(update);\n    };\n  }, [update, addObserverOnScroll, removeObserverOnScroll]);\n  (0, _react.useLayoutEffect)(function () {\n    if (scrollContainer) {\n      var canScroll = scrollContainer[getBoundsPropertyNames(direction).canScrollFunc],\n        getScrollBounds = scrollContainer.getScrollBounds;\n      if (canScroll && getScrollBounds) {\n        update();\n      } else {\n        setAfter(null);\n        setBefore(null);\n      }\n    }\n  }, [update, direction, scrollContainer, props]);\n  (0, _react.useLayoutEffect)(function () {\n    return function () {\n      stopRaf(); // for hoverToScroll prop change during hovering\n    };\n  }, [stopRaf]);\n\n  // Render\n\n  var renderHoverArea = (0, _react.useCallback)(function (position) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n      className: (0, _classnames[\"default\"])(_HoverToScrollModule[\"default\"].hoverToScroll, _HoverToScrollModule[\"default\"][direction], _HoverToScrollModule[\"default\"][position]),\n      onPointerEnter: getPointerEnterHandler(position),\n      onPointerLeave: stopRaf\n    }, 'hover' + direction + position);\n  }, [direction, getPointerEnterHandler, stopRaf]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [before ? renderHoverArea('before') : null, after ? renderHoverArea('after') : null]\n  });\n};\nHoverToScrollBase.displayName = 'HoverToScrollBase';\nHoverToScrollBase.propTypes = /** @lends sandstone/useScroll.HoverToScroll.HoverToScrollBase.prototype */{\n  direction: _propTypes[\"default\"].string,\n  scrollContainerHandle: _propTypes[\"default\"].object\n};\n\n/**\n * A hover area to scroll.\n *\n * @class HoverToScroll\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\nvar HoverToScroll = exports.HoverToScroll = function HoverToScroll(_ref3) {\n  var scrollContainerHandle = _ref3.scrollContainerHandle,\n    rest = _objectWithoutProperties(_ref3, _excluded);\n  return scrollContainerHandle ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(HoverToScrollBase, _objectSpread(_objectSpread({\n      scrollContainerHandle: scrollContainerHandle\n    }, rest), {}, {\n      direction: \"horizontal\"\n    })), /*#__PURE__*/(0, _jsxRuntime.jsx)(HoverToScrollBase, _objectSpread(_objectSpread({\n      scrollContainerHandle: scrollContainerHandle\n    }, rest), {}, {\n      direction: \"vertical\"\n    }))]\n  }) : null;\n};\nHoverToScroll.displayName = 'HoverToScroll';\nHoverToScroll.propTypes = /** @lends sandstone/useScroll.HoverToScroll.prototype */{\n  scrollContainerHandle: _propTypes[\"default\"].object\n};\nvar _default = exports[\"default\"] = HoverToScroll;","map":{"version":3,"names":["Object","defineProperty","exports","value","HoverToScroll","_keymap","require","_util","_spotlight","_interopRequireWildcard","_pointer","_useScroll","_classnames","_interopRequireDefault","_propTypes","_react","_ThemeDecorator","_HoverToScrollModule","_jsxRuntime","_excluded","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","len","arr2","l","iterator","f","next","done","isArray","epsilon","constants","nop","getBoundsPropertyNames","direction","axis","canScrollFunc","clientSize","maxPosition","scrollPosition","hoverToScrollMultiplier","horizontal","vertical","directionToFocus","before","after","HoverToScrollBase","props","scrollContainer","scrollContainerHandle","current","_props$scrollObserver","scrollObserver","addObserverOnScroll","removeObserverOnScroll","mutableRef","useRef","hoveredPosition","hoverToScrollRafId","stopScrollByHover","_useState","useState","_useState2","setAfter","_useState3","_useState4","setBefore","handleGlobalKeyDown","useCallback","_ref","keyCode","position","rtl","getDirection","is","focusNextFromPoint","getLastPointerPosition","stop","startRaf","job","isHoveringToScroll","window","requestAnimationFrame","document","addEventListener","capture","stopRaf","cancelAnimationFrame","removeEventListener","getPointerEnterHandler","_getBoundsPropertyNam","bounds","getScrollBounds","_ref2","pointerType","distance","scrollByHover","getLastInputType","scrollTo","clamp","animate","update","_getBoundsPropertyNam2","canScroll","currentPosition","curAfter","curBefore","useLayoutEffect","renderHoverArea","jsx","className","hoverToScroll","onPointerEnter","onPointerLeave","jsxs","Fragment","children","displayName","propTypes","string","object","_ref3","rest","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/sandstone/useScroll/HoverToScroll.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.HoverToScroll = void 0;\nvar _keymap = require(\"@enact/core/keymap\");\nvar _util = require(\"@enact/core/util\");\nvar _spotlight = _interopRequireWildcard(require(\"@enact/spotlight\"));\nvar _pointer = require(\"@enact/spotlight/src/pointer\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _ThemeDecorator = require(\"../ThemeDecorator\");\nvar _HoverToScrollModule = _interopRequireDefault(require(\"./HoverToScroll.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _excluded = [\"scrollContainerHandle\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar epsilon = _useScroll.constants.epsilon;\nvar nop = function nop() {};\nvar getBoundsPropertyNames = function getBoundsPropertyNames(direction) {\n  return direction === 'vertical' ? {\n    axis: 'y',\n    canScrollFunc: 'canScrollVertically',\n    clientSize: 'clientHeight',\n    maxPosition: 'maxTop',\n    scrollPosition: 'scrollTop'\n  } : {\n    axis: 'x',\n    canScrollFunc: 'canScrollHorizontally',\n    clientSize: 'clientWidth',\n    maxPosition: 'maxLeft',\n    scrollPosition: 'scrollLeft'\n  };\n};\nvar hoverToScrollMultiplier = {\n  horizontal: 0.015,\n  vertical: 0.04\n};\nvar directionToFocus = {\n  horizontal: {\n    before: 'right',\n    after: 'left'\n  },\n  vertical: {\n    before: 'down',\n    after: 'up'\n  }\n};\n\n/**\n * A hover area to scroll for a single direction.\n *\n * @class HoverToScrollBase\n * @memberof sandstone/useScroll.HoverToScroll\n * @ui\n * @private\n */\nvar HoverToScrollBase = function HoverToScrollBase(props) {\n  var direction = props.direction,\n    scrollContainer = props.scrollContainerHandle.current,\n    _props$scrollObserver = props.scrollObserver,\n    addObserverOnScroll = _props$scrollObserver.addObserverOnScroll,\n    removeObserverOnScroll = _props$scrollObserver.removeObserverOnScroll;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    hoveredPosition: null,\n    hoverToScrollRafId: null,\n    stopScrollByHover: false\n  });\n  var _useState = (0, _react.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    after = _useState2[0],\n    setAfter = _useState2[1];\n  var _useState3 = (0, _react.useState)(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    before = _useState4[0],\n    setBefore = _useState4[1];\n\n  // Functions\n\n  var handleGlobalKeyDown = (0, _react.useCallback)(function (_ref) {\n    var keyCode = _ref.keyCode;\n    var position = mutableRef.current.hoveredPosition;\n    if (scrollContainer.rtl && direction === 'horizontal') {\n      position = position === 'after' ? 'before' : 'after';\n    }\n    if ((0, _spotlight.getDirection)(keyCode) || (0, _keymap.is)('enter', keyCode)) {\n      _spotlight[\"default\"].focusNextFromPoint(directionToFocus[direction][position], (0, _pointer.getLastPointerPosition)());\n      scrollContainer.stop();\n    } else if ((0, _keymap.is)('pointerHide', keyCode)) {\n      mutableRef.current.stopScrollByHover = true;\n    }\n  }, [direction, scrollContainer]);\n  var startRaf = (0, _react.useCallback)(function (job) {\n    scrollContainer.isHoveringToScroll = true;\n    if (typeof window === 'object' && mutableRef.current.hoveredPosition) {\n      mutableRef.current.hoverToScrollRafId = window.requestAnimationFrame(job);\n      if (typeof document === 'object') {\n        document.addEventListener('keydown', handleGlobalKeyDown, {\n          capture: true\n        });\n      }\n    }\n  }, [handleGlobalKeyDown, scrollContainer]);\n  var stopRaf = (0, _react.useCallback)(function () {\n    scrollContainer.isHoveringToScroll = false;\n    if (typeof window === 'object' && mutableRef.current.hoverToScrollRafId !== null) {\n      window.cancelAnimationFrame(mutableRef.current.hoverToScrollRafId);\n      mutableRef.current.hoverToScrollRafId = null;\n      mutableRef.current.hoveredPosition = null;\n      mutableRef.current.stopScrollByHover = false;\n      if (typeof document === 'object') {\n        document.removeEventListener('keydown', handleGlobalKeyDown, {\n          capture: true\n        });\n      }\n    }\n  }, [handleGlobalKeyDown, scrollContainer]);\n  var getPointerEnterHandler = (0, _react.useCallback)(function (position) {\n    if (typeof window === 'object') {\n      var _getBoundsPropertyNam = getBoundsPropertyNames(direction),\n        axis = _getBoundsPropertyNam.axis,\n        clientSize = _getBoundsPropertyNam.clientSize,\n        maxPosition = _getBoundsPropertyNam.maxPosition,\n        scrollPosition = _getBoundsPropertyNam.scrollPosition;\n      var bounds = scrollContainer.getScrollBounds();\n      return function (_ref2) {\n        var pointerType = _ref2.pointerType;\n        if (pointerType === 'mouse') {\n          var distance = (position === 'before' ? -1 : 1) *\n          // scroll direction\n          bounds[clientSize] *\n          // scroll page size\n          hoverToScrollMultiplier[direction]; // a scrolling speed factor\n\n          mutableRef.current.hoveredPosition = position;\n          mutableRef.current.stopScrollByHover = false;\n          var scrollByHover = function scrollByHover() {\n            if (!mutableRef.current.stopScrollByHover && (0, _ThemeDecorator.getLastInputType)() === 'mouse') {\n              scrollContainer.scrollTo({\n                position: _defineProperty({}, axis, (0, _util.clamp)(0, bounds[maxPosition], scrollContainer[scrollPosition] + distance)),\n                animate: false\n              });\n              startRaf(scrollByHover);\n            } else {\n              stopRaf(); // for other type input during hovering\n            }\n          };\n          startRaf(scrollByHover);\n        }\n      };\n    } else {\n      return nop;\n    }\n  }, [direction, scrollContainer, startRaf, stopRaf]);\n  var update = (0, _react.useCallback)(function () {\n    var _getBoundsPropertyNam2 = getBoundsPropertyNames(direction),\n      canScrollFunc = _getBoundsPropertyNam2.canScrollFunc,\n      maxPosition = _getBoundsPropertyNam2.maxPosition,\n      scrollPosition = _getBoundsPropertyNam2.scrollPosition;\n    var canScroll = scrollContainer[canScrollFunc],\n      getScrollBounds = scrollContainer.getScrollBounds,\n      currentPosition = scrollContainer[scrollPosition];\n    var bounds = getScrollBounds();\n    var position = mutableRef.current.hoveredPosition;\n    var curAfter = false,\n      curBefore = false;\n    if (canScroll(bounds)) {\n      curAfter = currentPosition < bounds[maxPosition] - epsilon;\n      curBefore = currentPosition > 0;\n    }\n    if (after !== curAfter && position === 'after' || before !== curBefore && position === 'before') {\n      stopRaf();\n    }\n    setAfter(curAfter);\n    setBefore(curBefore);\n  }, [direction, after, before, scrollContainer, stopRaf]);\n\n  // Hooks\n\n  (0, _react.useLayoutEffect)(function () {\n    addObserverOnScroll(update);\n    return function () {\n      removeObserverOnScroll(update);\n    };\n  }, [update, addObserverOnScroll, removeObserverOnScroll]);\n  (0, _react.useLayoutEffect)(function () {\n    if (scrollContainer) {\n      var canScroll = scrollContainer[getBoundsPropertyNames(direction).canScrollFunc],\n        getScrollBounds = scrollContainer.getScrollBounds;\n      if (canScroll && getScrollBounds) {\n        update();\n      } else {\n        setAfter(null);\n        setBefore(null);\n      }\n    }\n  }, [update, direction, scrollContainer, props]);\n  (0, _react.useLayoutEffect)(function () {\n    return function () {\n      stopRaf(); // for hoverToScroll prop change during hovering\n    };\n  }, [stopRaf]);\n\n  // Render\n\n  var renderHoverArea = (0, _react.useCallback)(function (position) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n      className: (0, _classnames[\"default\"])(_HoverToScrollModule[\"default\"].hoverToScroll, _HoverToScrollModule[\"default\"][direction], _HoverToScrollModule[\"default\"][position]),\n      onPointerEnter: getPointerEnterHandler(position),\n      onPointerLeave: stopRaf\n    }, 'hover' + direction + position);\n  }, [direction, getPointerEnterHandler, stopRaf]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [before ? renderHoverArea('before') : null, after ? renderHoverArea('after') : null]\n  });\n};\nHoverToScrollBase.displayName = 'HoverToScrollBase';\nHoverToScrollBase.propTypes = /** @lends sandstone/useScroll.HoverToScroll.HoverToScrollBase.prototype */{\n  direction: _propTypes[\"default\"].string,\n  scrollContainerHandle: _propTypes[\"default\"].object\n};\n\n/**\n * A hover area to scroll.\n *\n * @class HoverToScroll\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\nvar HoverToScroll = exports.HoverToScroll = function HoverToScroll(_ref3) {\n  var scrollContainerHandle = _ref3.scrollContainerHandle,\n    rest = _objectWithoutProperties(_ref3, _excluded);\n  return scrollContainerHandle ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(HoverToScrollBase, _objectSpread(_objectSpread({\n      scrollContainerHandle: scrollContainerHandle\n    }, rest), {}, {\n      direction: \"horizontal\"\n    })), /*#__PURE__*/(0, _jsxRuntime.jsx)(HoverToScrollBase, _objectSpread(_objectSpread({\n      scrollContainerHandle: scrollContainerHandle\n    }, rest), {}, {\n      direction: \"vertical\"\n    }))]\n  }) : null;\n};\nHoverToScroll.displayName = 'HoverToScroll';\nHoverToScroll.propTypes = /** @lends sandstone/useScroll.HoverToScroll.prototype */{\n  scrollContainerHandle: _propTypes[\"default\"].object\n};\nvar _default = exports[\"default\"] = HoverToScroll;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}