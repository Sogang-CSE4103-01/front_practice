{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Video\", {\n  enumerable: true,\n  get: function get() {\n    return _Video[\"default\"];\n  }\n});\nexports[\"default\"] = exports.VideoPlayerBase = exports.VideoPlayer = void 0;\nvar _ApiDecorator = _interopRequireDefault(require(\"@enact/core/internal/ApiDecorator\"));\nvar _dispatcher = require(\"@enact/core/dispatcher\");\nvar _util = require(\"@enact/core/util\");\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _platform = require(\"@enact/core/platform\");\nvar _propTypes = _interopRequireDefault(require(\"@enact/core/internal/prop-types\"));\nvar _I18nDecorator = require(\"@enact/i18n/I18nDecorator\");\nvar _util2 = require(\"@enact/i18n/util\");\nvar _spotlight = require(\"@enact/spotlight\");\nvar _SpotlightContainerDecorator = require(\"@enact/spotlight/SpotlightContainerDecorator\");\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _Announce = _interopRequireDefault(require(\"@enact/ui/AnnounceDecorator/Announce\"));\nvar _ComponentOverride = _interopRequireDefault(require(\"@enact/ui/ComponentOverride\"));\nvar _FloatingLayer = require(\"@enact/ui/FloatingLayer\");\nvar _FloatingLayerDecorator = require(\"@enact/ui/FloatingLayer/FloatingLayerDecorator\");\nvar _ForwardRef = _interopRequireDefault(require(\"@enact/ui/ForwardRef\"));\nvar _Media = _interopRequireDefault(require(\"@enact/ui/Media\"));\nvar _Slottable = _interopRequireDefault(require(\"@enact/ui/Slottable\"));\nvar _Touchable = _interopRequireDefault(require(\"@enact/ui/Touchable\"));\nvar _DurationFmt = _interopRequireDefault(require(\"ilib/lib/DurationFmt\"));\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\nvar _propTypes2 = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _Button = _interopRequireDefault(require(\"../Button\"));\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\nvar _MediaPlayer = require(\"../MediaPlayer\");\nvar _Overlay = _interopRequireDefault(require(\"./Overlay\"));\nvar _MediaTitle = _interopRequireDefault(require(\"./MediaTitle\"));\nvar _FeedbackContent = _interopRequireDefault(require(\"./FeedbackContent\"));\nvar _FeedbackTooltip = _interopRequireDefault(require(\"./FeedbackTooltip\"));\nvar _Video = _interopRequireDefault(require(\"./Video\"));\nvar _VideoPlayerModule = _interopRequireDefault(require(\"./VideoPlayer.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class;\nvar _excluded = [\"playerRef\"],\n  _excluded2 = [\"backButtonAriaLabel\", \"className\", \"disabled\", \"infoComponents\", \"initialJumpDelay\", \"jumpDelay\", \"loading\", \"locale\", \"mediaControlsComponent\", \"no5WayJump\", \"noAutoPlay\", \"noMiniFeedback\", \"noSlider\", \"noSpinner\", \"selection\", \"spotlightDisabled\", \"spotlightId\", \"style\", \"thumbnailComponent\", \"thumbnailSrc\", \"title\", \"videoComponent\"];\n/**\n * Provides Sandstone-themed video player components.\n *\n * @module sandstone/VideoPlayer\n * @exports Video\n * @exports VideoPlayer\n * @exports VideoPlayerBase\n */\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar isEnter = (0, _keymap.is)('enter');\nvar isLeft = (0, _keymap.is)('left');\nvar isRight = (0, _keymap.is)('right');\nvar jumpBackKeyCode = 37;\nvar jumpForwardKeyCode = 39;\nvar controlsHandleAboveSelectionKeys = [13, 16777221, jumpBackKeyCode, jumpForwardKeyCode];\nvar getControlsHandleAboveHoldConfig = function getControlsHandleAboveHoldConfig(_ref) {\n  var frequency = _ref.frequency,\n    time = _ref.time;\n  return {\n    events: [{\n      name: 'hold',\n      time: time\n    }],\n    frequency: frequency\n  };\n};\nvar shouldJump = function shouldJump(_ref2, _ref3) {\n  var disabled = _ref2.disabled,\n    no5WayJump = _ref2.no5WayJump;\n  var mediaControlsVisible = _ref3.mediaControlsVisible,\n    sourceUnavailable = _ref3.sourceUnavailable;\n  return !no5WayJump && !mediaControlsVisible && !(disabled || sourceUnavailable);\n};\nvar calcNumberValueOfPlaybackRate = function calcNumberValueOfPlaybackRate(rate) {\n  var pbArray = String(rate).split('/');\n  return pbArray.length > 1 ? parseInt(pbArray[0]) / parseInt(pbArray[1]) : parseFloat(rate);\n};\nvar RootComponent = function RootComponent(_ref4) {\n  var playerRef = _ref4.playerRef,\n    rest = _objectWithoutProperties(_ref4, _excluded);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", _objectSpread({\n    ref: playerRef\n  }, rest));\n};\nRootComponent.propTypes = {\n  /*\n   * Called with the reference to the mediaControls node.\n   *\n   * @type {Object|Function}\n   * @public\n   */\n  playerRef: _propTypes[\"default\"].ref\n};\nvar SpottableDiv = (0, _Touchable[\"default\"])((0, _Spottable.Spottable)('div'));\nvar RootContainer = (0, _ForwardRef[\"default\"])({\n  prop: 'playerRef'\n}, (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  defaultElement: [\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove), \".\".concat(_VideoPlayerModule[\"default\"].controlsFrame)]\n}, RootComponent));\nvar ControlsContainer = (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  straightOnly: true\n}, 'div');\nvar memoGetDurFmt = (0, _util.memoize)(function /* locale */\n() {\n  return new _DurationFmt[\"default\"]({\n    length: 'medium',\n    style: 'clock',\n    useNative: false\n  });\n});\nvar getDurFmt = function getDurFmt(locale) {\n  if (typeof window === 'undefined') return null;\n  return memoGetDurFmt(locale);\n};\nvar forwardWithState = function forwardWithState(type) {\n  return (0, _handle.adaptEvent)(function () {\n    return {\n      type: type\n    };\n  }, (0, _handle.handle)((0, _handle.adaptEvent)((0, _handle.call)('addStateToEvent'), (0, _handle.forwardWithPrevent)(type))));\n};\nvar forwardToggleMore = (0, _handle.forward)('onToggleMore');\n\n// provide forwarding of events on media controls\nvar forwardControlsAvailable = (0, _handle.forwardCustom)('onControlsAvailable');\nvar forwardPlay = forwardWithState('onPlay');\nvar forwardWillPlay = forwardWithState('onWillPlay');\nvar forwardPause = forwardWithState('onPause');\nvar forwardWillPause = forwardWithState('onWillPause');\nvar forwardRewind = forwardWithState('onRewind');\nvar forwardWillRewind = forwardWithState('onWillRewind');\nvar forwardFastForward = forwardWithState('onFastForward');\nvar forwardWillFastForward = forwardWithState('onWillFastForward');\nvar forwardJumpBackward = forwardWithState('onJumpBackward');\nvar forwardWillJumpBackward = forwardWithState('onWillJumpBackward');\nvar forwardJumpForward = forwardWithState('onJumpForward');\nvar forwardWillJumpForward = forwardWithState('onWillJumpForward');\nvar AnnounceState = {\n  // Video is loaded but additional announcements have not been made\n  READY: 0,\n  // The title should be announced\n  TITLE: 1,\n  // The title has been announce\n  TITLE_READ: 2,\n  // The infoComponents should be announce\n  INFO: 3,\n  // All announcements have been made\n  DONE: 4\n};\n\n/**\n * Every callback sent by {@link sandstone/VideoPlayer|VideoPlayer} receives a status package,\n * which includes an object with the following key/value pairs as the first argument:\n *\n * @typedef {Object} videoStatus\n * @memberof sandstone/VideoPlayer\n * @property {String} type - Type of event that triggered this callback\n * @property {Number} currentTime - Playback index of the media in seconds\n * @property {Number} duration - Media's entire duration in seconds\n * @property {Boolean} paused - Playing vs paused state. `true` means the media is paused\n * @property {Number} playbackRate - Current playback rate, as a number\n * @property {Number} proportionLoaded - A value between `0` and `1` representing the proportion of the media that has loaded\n * @property {Number} proportionPlayed - A value between `0` and `1` representing the proportion of the media that has already been shown\n *\n * @public\n */\n\n/**\n * A set of playback rates when media fast forwards, rewinds, slow-forwards, or slow-rewinds.\n *\n * The number used for each operation is proportional to the normal playing speed, 1. If the rate\n * is less than 1, it will play slower than normal speed, and, if it is larger than 1, it will play\n * faster. If it is negative, it will play backward.\n *\n * The order of numbers represents the incremental order of rates that will be used for each\n * operation. Note that rates can be expressed as decimals, strings, and fractions.\n * (e.g.: `0.5`, `'0.5'`, `'1/2'`).\n *\n * @typedef {Object} playbackRateHash\n * @memberof sandstone/VideoPlayer\n * @property {[]} fastForward - An array of playback rates when media fast forwards\n * @property {[]} rewind - An array of playback rates when media rewinds\n * @property {[]} slowForward - An array of playback rates when media slow-forwards\n * @property {[]} slowRewind - An array of playback rates when media slow-rewinds\n *\n * @public\n */\n\n/**\n * A player for video {@link sandstone/VideoPlayer.VideoPlayerBase}.\n *\n * @class VideoPlayerBase\n * @memberof sandstone/VideoPlayer\n * @ui\n * @public\n */\nvar VideoPlayerBase = exports.VideoPlayerBase = (_class = /*#__PURE__*/function (_Component) {\n  _inherits(VideoPlayerBase, _Component);\n  var _super = _createSuper(VideoPlayerBase);\n  function VideoPlayerBase(_props) {\n    var _this;\n    _classCallCheck(this, VideoPlayerBase);\n    _this = _super.call(this, _props);\n\n    // Internal State\n    //\n    // Internal Methods\n    //\n    _this.announceJob = new _util.Job(function (msg, clear) {\n      return _this.announceRef && _this.announceRef.announce(msg, clear);\n    }, 200);\n    _this.announce = function (msg, clear) {\n      _this.announceJob.start(msg, clear);\n    };\n    _this.activityDetected = function () {\n      _this.startAutoCloseTimeout();\n    };\n    _this.startAutoCloseTimeout = function () {\n      // If this.state.more is used as a reference for when this function should fire, timing for\n      // detection of when \"more\" is pressed vs when the state is updated is mismatched. Using an\n      // instance variable that's only set and used for this express purpose seems cleanest.\n      if (_this.props.autoCloseTimeout && _this.state.mediaControlsVisible) {\n        _this.autoCloseJob.startAfter(_this.props.autoCloseTimeout);\n      }\n    };\n    _this.stopAutoCloseTimeout = function () {\n      _this.autoCloseJob.stop();\n    };\n    _this.generateId = function () {\n      return Math.random().toString(36).substr(2, 8);\n    };\n    /**\n     * If the announce state is either ready to read the title or ready to read info, advance the\n     * state to \"read\".\n     *\n     * @returns {Boolean} Returns true to be used in event handlers\n     * @private\n     */\n    _this.markAnnounceRead = function () {\n      if (_this.state.announce === AnnounceState.TITLE) {\n        _this.setState({\n          announce: AnnounceState.TITLE_READ\n        });\n      } else if (_this.state.announce === AnnounceState.INFO) {\n        _this.setState({\n          announce: AnnounceState.DONE\n        });\n      }\n      return true;\n    };\n    /**\n     * Shows media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.showControls = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n      _this.startDelayedFeedbackHide();\n      _this.startDelayedTitleHide();\n      _this.setState(function (_ref5) {\n        var announce = _ref5.announce;\n        if (announce === AnnounceState.READY) {\n          // if we haven't read the title yet, do so this time\n          announce = AnnounceState.TITLE;\n        } else if (announce === AnnounceState.TITLE) {\n          // if we have read the title, advance to INFO so title isn't read again\n          announce = AnnounceState.TITLE_READ;\n        }\n        return {\n          announce: announce,\n          bottomControlsRendered: true,\n          feedbackAction: 'idle',\n          feedbackVisible: true,\n          mediaControlsVisible: true,\n          mediaSliderVisible: true,\n          miniFeedbackVisible: false,\n          titleVisible: true\n        };\n      });\n    };\n    /**\n     * Hides media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.hideControls = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.stopAutoCloseTimeout();\n      _this.setState({\n        feedbackAction: 'idle',\n        feedbackVisible: false,\n        mediaControlsVisible: false,\n        mediaSliderVisible: false,\n        miniFeedbackVisible: false,\n        infoVisible: false\n      });\n      _this.markAnnounceRead();\n    };\n    /**\n     * Toggles the media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.toggleControls = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.hideControls();\n      } else {\n        _this.showControls();\n      }\n    };\n    _this.doAutoClose = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.setState(function (_ref6) {\n        var mediaSliderVisible = _ref6.mediaSliderVisible,\n          miniFeedbackVisible = _ref6.miniFeedbackVisible;\n        return {\n          feedbackVisible: false,\n          mediaControlsVisible: false,\n          mediaSliderVisible: mediaSliderVisible && miniFeedbackVisible,\n          infoVisible: false\n        };\n      });\n      _this.markAnnounceRead();\n    };\n    _this.autoCloseJob = new _util.Job(_this.doAutoClose);\n    _this.startDelayedTitleHide = function () {\n      if (_this.props.titleHideDelay) {\n        _this.hideTitleJob.startAfter(_this.props.titleHideDelay);\n      }\n    };\n    _this.stopDelayedTitleHide = function () {\n      _this.hideTitleJob.stop();\n    };\n    _this.hideTitle = function () {\n      _this.setState({\n        titleVisible: false\n      });\n    };\n    _this.hideTitleJob = new _util.Job(_this.hideTitle);\n    _this.startDelayedFeedbackHide = function () {\n      if (_this.props.feedbackHideDelay) {\n        _this.hideFeedbackJob.startAfter(_this.props.feedbackHideDelay);\n      }\n    };\n    _this.stopDelayedFeedbackHide = function () {\n      _this.hideFeedbackJob.stop();\n    };\n    _this.showFeedback = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.setState({\n          feedbackVisible: true\n        });\n      } else {\n        var shouldShowSlider = _this.pulsedPlaybackState !== null || calcNumberValueOfPlaybackRate(_this.playbackRate) !== 1;\n        if (_this.showMiniFeedback && (!_this.state.miniFeedbackVisible || _this.state.mediaSliderVisible !== shouldShowSlider)) {\n          _this.setState(function (_ref7) {\n            var loading = _ref7.loading,\n              duration = _ref7.duration,\n              error = _ref7.error;\n            return {\n              mediaSliderVisible: shouldShowSlider && !_this.props.noMediaSliderFeedback,\n              miniFeedbackVisible: !(loading || !duration || error)\n            };\n          });\n        }\n      }\n    };\n    _this.hideFeedback = function () {\n      if (_this.state.feedbackVisible && _this.state.feedbackAction !== 'focus') {\n        _this.setState({\n          feedbackVisible: false,\n          feedbackAction: 'idle'\n        });\n      }\n    };\n    _this.hideFeedbackJob = new _util.Job(_this.hideFeedback);\n    _this.startDelayedMiniFeedbackHide = function () {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.miniFeedbackHideDelay;\n      if (delay) {\n        _this.hideMiniFeedbackJob.startAfter(delay);\n      }\n    };\n    _this.stopDelayedMiniFeedbackHide = function () {\n      _this.hideMiniFeedbackJob.stop();\n    };\n    _this.hideMiniFeedback = function () {\n      if (_this.state.miniFeedbackVisible) {\n        _this.showMiniFeedback = false;\n        _this.setState({\n          mediaSliderVisible: false,\n          miniFeedbackVisible: false\n        });\n      }\n    };\n    _this.hideMiniFeedbackJob = new _util.Job(_this.hideMiniFeedback);\n    _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n    _this.showControlsFromPointer = function () {\n      _spotlight.Spotlight.setPointerMode(false);\n      _this.showControls();\n    };\n    _this.clearPulsedPlayback = function () {\n      _this.pulsedPlaybackRate = null;\n      _this.pulsedPlaybackState = null;\n    };\n    // only show mini feedback if playback controls are invoked by a key event\n    _this.shouldShowMiniFeedback = function (ev) {\n      if (ev.type === 'keyup') {\n        _this.showMiniFeedback = true;\n      }\n      return true;\n    };\n    _this.handleLoadStart = function () {\n      _this.firstPlayReadFlag = true;\n      _this.prevCommand = _this.props.noAutoPlay ? 'pause' : 'play';\n      _this.speedIndex = 0;\n      _this.setState({\n        announce: AnnounceState.READY,\n        currentTime: 0,\n        sourceUnavailable: true,\n        proportionPlayed: 0,\n        proportionLoaded: 0\n      });\n      if (!_this.props.noAutoShowMediaControls) {\n        if (!_this.state.bottomControlsRendered) {\n          _this.renderBottomControl.idle();\n        } else {\n          _this.showControls();\n        }\n      }\n    };\n    _this.handlePlay = _this.handle(forwardWillPlay, _this.shouldShowMiniFeedback, function () {\n      return _this.play();\n    }, forwardPlay);\n    _this.handlePause = _this.handle(forwardWillPause, _this.shouldShowMiniFeedback, function () {\n      return _this.pause();\n    }, forwardPause);\n    _this.handleRewind = _this.handle(forwardWillRewind, _this.shouldShowMiniFeedback, function () {\n      return _this.rewind();\n    }, forwardRewind);\n    _this.handleFastForward = _this.handle(forwardWillFastForward, _this.shouldShowMiniFeedback, function () {\n      return _this.fastForward();\n    }, forwardFastForward);\n    _this.handleJump = function (_ref8) {\n      var keyCode = _ref8.keyCode;\n      if (_this.props.seekDisabled) {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      } else {\n        var jumpBy = ((0, _keymap.is)('left', keyCode) ? -1 : 1) * _this.props.jumpBy;\n        var time = Math.min(_this.state.duration, Math.max(0, _this.state.currentTime + jumpBy));\n        if (_this.preventTimeChange(time)) return;\n        _this.showMiniFeedback = true;\n        _this.jump(jumpBy);\n        _this.announceJob.startAfter(500, (0, _MediaPlayer.secondsToTime)(_this.video.currentTime, getDurFmt(_this.props.locale), {\n          includeHour: true\n        }));\n      }\n    };\n    _this.handleGlobalKeyDown = _this.handle((0, _handle.returnsTrue)(_this.activityDetected), (0, _handle.forKey)('down'), function () {\n      return !_this.state.mediaControlsVisible && (!_spotlight.Spotlight.getCurrent() && _spotlight.Spotlight.getPointerMode() || !_spotlight.Spotlight.getPointerMode()) && !_this.props.spotlightDisabled;\n    }, _handle.preventDefault, _handle.stopImmediate, _this.showControlsFromPointer);\n    _this.handleControlsHandleAboveHold = function () {\n      if (shouldJump(_this.props, _this.state)) {\n        _this.handleJump({\n          keyCode: _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode\n        });\n      }\n    };\n    _this.handleControlsHandleAboveKeyDown = function (_ref9) {\n      var keyCode = _ref9.keyCode;\n      if (isEnter(keyCode)) {\n        _this.jumpButtonPressed = 0;\n      } else if (isLeft(keyCode)) {\n        _this.jumpButtonPressed = -1;\n      } else if (isRight(keyCode)) {\n        _this.jumpButtonPressed = 1;\n      }\n    };\n    _this.handleControlsHandleAboveKeyUp = function (_ref10) {\n      var keyCode = _ref10.keyCode;\n      if (isEnter(keyCode) || isLeft(keyCode) || isRight(keyCode)) {\n        _this.jumpButtonPressed = null;\n      }\n    };\n    _this.handleControlsHandleAboveDown = function () {\n      if (_this.jumpButtonPressed === 0) {\n        _this.showControls();\n      } else if (_this.jumpButtonPressed === -1 || _this.jumpButtonPressed === 1) {\n        var keyCode = _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode;\n        if (shouldJump(_this.props, _this.state)) {\n          _this.handleJump({\n            keyCode: keyCode\n          });\n        } else {\n          _spotlight.Spotlight.move((0, _spotlight.getDirection)(keyCode));\n        }\n      }\n    };\n    //\n    // Media Interaction Methods\n    //\n    _this.handleEvent = function () {\n      var el = _this.video;\n      var updatedState = {\n        // Standard media properties\n        currentTime: el.currentTime,\n        duration: el.duration,\n        paused: _this.state.seekingMode ? el.playbackRate !== 1 || el.paused : el.paused,\n        playbackRate: el.playbackRate,\n        // Non-standard state computed from properties\n        error: el.error,\n        loading: el.loading,\n        proportionLoaded: el.proportionLoaded,\n        proportionPlayed: el.proportionPlayed || 0,\n        sliderTooltipTime: el.currentTime,\n        // note: `el.loading && this.state.sourceUnavailable == false` is equivalent to `oncanplaythrough`\n        sourceUnavailable: el.loading && _this.state.sourceUnavailable || el.error\n      };\n\n      // If there's an error, we're obviously not loading, no matter what the readyState is.\n      if (updatedState.error) updatedState.loading = false;\n      var isRewind = _this.prevCommand === 'rewind' || _this.prevCommand === 'slowRewind';\n      var isForward = _this.prevCommand === 'fastForward' || _this.prevCommand === 'slowForward';\n      if (_this.props.pauseAtEnd && (el.currentTime === 0 && isRewind || el.currentTime === el.duration && isForward)) {\n        _this.pause();\n      }\n      _this.setState(updatedState);\n    };\n    _this.renderBottomControl = new _util.Job(function () {\n      if (!_this.state.bottomControlsRendered) {\n        _this.setState({\n          bottomControlsRendered: true\n        });\n      }\n    });\n    /**\n     * Returns an object with the current state of the media including `currentTime`, `duration`,\n     * `paused`, `playbackRate`, `proportionLoaded`, and `proportionPlayed`.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @returns {Object}\n     * @public\n     */\n    _this.getMediaState = function () {\n      return {\n        currentTime: _this.video.currentTime,\n        duration: _this.state.duration,\n        paused: _this.state.seekingMode ? _this.video.playbackRate !== 1 || _this.video.paused : _this.video.paused,\n        playbackRate: _this.video.playbackRate,\n        proportionLoaded: _this.video.proportionLoaded,\n        proportionPlayed: _this.video.proportionPlayed || 0\n      };\n    };\n    /**\n     * The primary means of interacting with the `<video>` element.\n     *\n     * @param  {String} action The method to preform.\n     * @param  {Multiple} props  The arguments, in the format that the action method requires.\n     *\n     * @private\n     */\n    _this.send = function (action, props) {\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.video[action](props);\n    };\n    /**\n     * Programmatically plays the current media.\n     * If you call this function during fast forwarding or rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.play = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      if (_this.state.seekingMode) {\n        _this.setPlaybackRate(1);\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'play';\n      _this.send('play');\n      _this.announce((0, _$L[\"default\"])('Play'));\n      _this.startDelayedMiniFeedbackHide(5000);\n      return true;\n    };\n    /**\n     * Programmatically pauses the current media.\n     * If you call this function during fast forwarding or rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.pause = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      if (_this.state.seekingMode) {\n        _this.setPlaybackRate(1);\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'pause';\n      _this.send('pause');\n      _this.announce((0, _$L[\"default\"])('Pause'));\n      _this.stopDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Sets the media playback time index.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} timeIndex - Time index to seek\n     * @public\n     */\n    _this.seek = function (timeIndex) {\n      if (!_this.props.seekDisabled && !isNaN(_this.video.duration) && !_this.state.sourceUnavailable) {\n        _this.video.currentTime = timeIndex;\n      } else {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      }\n    };\n    /**\n     * Step a given amount of time away from the current playback position.\n     * Like {@link sandstone/VideoPlayer.VideoPlayerBase.seek|seek} but relative.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} distance - Time value to jump\n     * @public\n     */\n    _this.jump = function (distance) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.pulsedPlaybackRate = (0, _util2.toUpperCase)(new _DurationFmt[\"default\"]({\n        length: 'long'\n      }).format({\n        second: _this.props.jumpBy\n      }));\n      _this.pulsedPlaybackState = distance > 0 ? 'jumpForward' : 'jumpBackward';\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.seek(_this.state.currentTime + distance);\n      _this.startDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Fast forwards the current media for seeking.\n     * This function changes the playback rate.\n     * If you call `play` or `pause` during fast forwarding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.fastForward = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: true\n      });\n      var shouldResumePlayback = false;\n      switch (_this.prevCommand) {\n        case 'slowForward':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => fastforward\n            _this.selectPlaybackRates('fastForward');\n            _this.speedIndex = 0;\n            _this.prevCommand = 'fastForward';\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          _this.selectPlaybackRates('slowForward');\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = 'slowForward';\n          break;\n        case 'fastForward':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = 'fastForward';\n          break;\n        default:\n          _this.selectPlaybackRates('fastForward');\n          _this.speedIndex = 0;\n          _this.prevCommand = 'fastForward';\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Rewinds the current media for seeking.\n     * This function changes the playback rate.\n     * If you call `play` or `pause` during rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.rewind = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: true\n      });\n      var rateForSlowRewind = _this.props.playbackRateHash['slowRewind'];\n      var shouldResumePlayback = false,\n        command = 'rewind';\n      if (_this.video.currentTime === 0) {\n        // Do not rewind if currentTime is 0. We're already at the beginning.\n        return true;\n      }\n      switch (_this.prevCommand) {\n        case 'slowRewind':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => go to rewind\n            _this.selectPlaybackRates(command);\n            _this.speedIndex = 0;\n            _this.prevCommand = command;\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          // If it's possible to slowRewind, do it, otherwise just leave it as normal rewind : QEVENTSEVT-17386\n          if (rateForSlowRewind && rateForSlowRewind.length >= 0) {\n            command = 'slowRewind';\n          }\n          _this.selectPlaybackRates(command);\n          if (_this.state.paused && _this.state.duration > _this.state.currentTime) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n        case 'rewind':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = command;\n          break;\n        default:\n          _this.selectPlaybackRates(command);\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Sets the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} rate - The desired playback rate. This value is passed to the `playbackRate` property of `HTMLMediaElement`.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/playbackRate|MDN playbackRate property}\n     * @returns {Boolean} Returns true if the speed changes successfully.\n     * @public\n     */\n    _this.setPlaybackSpeed = function (rate) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: false\n      });\n      _this.setPlaybackRate(rate);\n      return true;\n    };\n    // Creates a proxy to the video node if Proxy is supported\n    _this.videoProxy = typeof Proxy !== 'function' ? null : new Proxy({}, {\n      get: function get(target, name) {\n        var value = _this.video[name];\n        if (typeof value === 'function') {\n          value = value.bind(_this.video);\n        }\n        return value;\n      },\n      set: function set(target, name, value) {\n        return _this.video[name] = value;\n      }\n    });\n    /**\n     * Returns a proxy to the underlying `<video>` node currently used by the VideoPlayer\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.getVideoNode = function () {\n      return _this.videoProxy || _this.video;\n    };\n    _this.areControlsVisible = function () {\n      return _this.state.mediaControlsVisible;\n    };\n    /**\n     * Sets the playback rate type for video seeking (from the keys of {@link sandstone/VideoPlayer.VideoPlayer.playbackRateHash|playbackRateHash}).\n     *\n     * @param {String} cmd - Key of the playback rate type.\n     * @private\n     */\n    _this.selectPlaybackRates = function (cmd) {\n      _this.playbackRates = _this.props.playbackRateHash[cmd];\n    };\n    /**\n     * Changes playbackRate to a valid value when initiating fast forward or rewind.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @private\n     */\n    _this.clampPlaybackRate = function (idx) {\n      if (!_this.playbackRates) {\n        return;\n      }\n      return idx % _this.playbackRates.length;\n    };\n    /**\n     * Retrieves the playback rate value.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @returns {Number|String} The playback rate value.\n     * @private\n     */\n    _this.selectPlaybackRate = function (idx) {\n      return _this.playbackRates[idx];\n    };\n    /**\n     * Sets playbackRate.\n     *\n     * @param {Number|String} rate - The desired playback rate.\n     * @private\n     */\n    _this.setPlaybackRate = function (rate) {\n      if (_this.state.seekingMode) {\n        // Stop rewind (if happening)\n        _this.stopRewindJob();\n      }\n\n      // Make sure rate is a string\n      _this.playbackRate = String(rate);\n      var pbNumber = calcNumberValueOfPlaybackRate(_this.playbackRate);\n      if (_platform.platform.type !== 'webos') {\n        // ReactDOM throws error for setting negative value for playbackRate\n        _this.video.playbackRate = pbNumber < 0 ? 0 : pbNumber;\n        if (_this.state.seekingMode) {\n          // For supporting cross browser behavior\n          if (pbNumber < 0) {\n            _this.beginRewind();\n          }\n        }\n      } else {\n        // Set native playback rate\n        _this.video.playbackRate = pbNumber;\n      }\n    };\n    /**\n     * Calculates the time that has elapsed since. This is necessary for browsers until negative\n     * playback rate is directly supported.\n     *\n     * @private\n     */\n    _this.rewindManually = function () {\n      var now = (0, _util.perfNow)(),\n        distance = now - _this.rewindBeginTime,\n        pbRate = calcNumberValueOfPlaybackRate(_this.playbackRate),\n        adjustedDistance = distance * pbRate / 1000;\n      _this.jump(adjustedDistance);\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.startRewindJob(); // Issue another rewind tick\n    };\n\n    _this.rewindJob = new _util.Job(_this.rewindManually, 100);\n    /**\n     * Starts rewind job.\n     *\n     * @private\n     */\n    _this.startRewindJob = function () {\n      _this.rewindBeginTime = (0, _util.perfNow)();\n      _this.rewindJob.start();\n    };\n    /**\n     * Stops rewind job.\n     *\n     * @private\n     */\n    _this.stopRewindJob = function () {\n      _this.rewindJob.stop();\n    };\n    /**\n     * Implements custom rewind functionality (until browsers support negative playback rate).\n     *\n     * @private\n     */\n    _this.beginRewind = function () {\n      _this.send('pause');\n      _this.startRewindJob();\n    };\n    //\n    // Handled Media events\n    //\n    _this.addStateToEvent = function (ev) {\n      return _objectSpread({\n        // More props from `ev` may be added here as needed, but a full copy via `...ev`\n        // overloads Storybook's Action Logger and likely has other perf fallout.\n        type: ev.type\n      }, _this.getMediaState());\n    };\n    //\n    // Player Interaction events\n    //\n    _this.onVideoClick = function () {\n      _this.toggleControls();\n    };\n    _this.onSliderChange = function (_ref11) {\n      var value = _ref11.value;\n      var time = value * _this.state.duration;\n      if (_this.preventTimeChange(time)) return;\n      _this.seek(time);\n      _this.sliderScrubbing = false;\n    };\n    _this.handleBack = _this.handle((0, _handle.forwardCustom)('onBack'));\n    _this.handleKnobMove = function (ev) {\n      _this.sliderScrubbing = true;\n\n      // prevent announcing repeatedly when the knob is detached from the progress.\n      // TODO: fix Slider to not send onKnobMove when the knob hasn't, in fact, moved\n      if (_this.sliderKnobProportion !== ev.proportion) {\n        _this.sliderKnobProportion = ev.proportion;\n        var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n        if (!isNaN(seconds)) {\n          var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n            includeHour: true\n          });\n          (0, _handle.forward)('onScrub', _objectSpread(_objectSpread({}, ev), {}, {\n            seconds: seconds,\n            type: 'onScrub'\n          }), _this.props);\n          _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n        }\n      }\n    };\n    _this.handleSliderFocus = function () {\n      var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n      _this.sliderScrubbing = true;\n      _this.setState({\n        feedbackAction: 'focus',\n        feedbackVisible: true\n      });\n      _this.stopDelayedFeedbackHide();\n      if (!isNaN(seconds)) {\n        var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n          includeHour: true\n        });\n        (0, _handle.forward)('onScrub', {\n          detached: _this.sliderScrubbing,\n          proportion: _this.sliderKnobProportion,\n          seconds: seconds,\n          type: 'onScrub'\n        }, _this.props);\n        _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n      }\n    };\n    _this.handleSliderBlur = function () {\n      _this.sliderScrubbing = false;\n      _this.startDelayedFeedbackHide();\n      _this.setState(function () {\n        return {\n          feedbackAction: 'blur',\n          feedbackVisible: true\n        };\n      });\n    };\n    _this.slider5WayPressJob = new _util.Job(function () {\n      _this.setState({\n        slider5WayPressed: false\n      });\n    }, 200);\n    _this.handleSliderKeyDown = function (ev) {\n      var keyCode = ev.keyCode;\n      if ((0, _keymap.is)('enter', keyCode)) {\n        _this.setState({\n          slider5WayPressed: true\n        }, _this.slider5WayPressJob.start());\n      } else if ((0, _keymap.is)('down', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n        if (_spotlight.Spotlight.focus(_this.mediaControlsSpotlightId)) {\n          (0, _handle.preventDefault)(ev);\n          (0, _handle.stopImmediate)(ev);\n        }\n      } else if ((0, _keymap.is)('up', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n      }\n    };\n    _this.onJumpBackward = _this.handle(forwardWillJumpBackward, function () {\n      return _this.jump(-1 * _this.props.jumpBy);\n    }, forwardJumpBackward);\n    _this.onJumpForward = _this.handle(forwardWillJumpForward, function () {\n      return _this.jump(_this.props.jumpBy);\n    }, forwardJumpForward);\n    _this.handleToggleMore = function (ev) {\n      var showMoreComponents = ev.showMoreComponents,\n        liftDistance = ev.liftDistance;\n      forwardToggleMore(ev, _this.props);\n      if (!showMoreComponents) {\n        _this.startAutoCloseTimeout(); // Restore the timer since we are leaving \"more.\n        // Restore the title-hide now that we're finished with \"more\".\n        _this.startDelayedTitleHide();\n      } else {\n        // Interrupt the title-hide since we don't want it hiding autonomously in \"more\".\n        _this.stopDelayedTitleHide();\n      }\n      _this.playerRef.current.style.setProperty('--liftDistance', \"\".concat(liftDistance, \"px\"));\n      _this.setState(function (_ref12) {\n        var announce = _ref12.announce;\n        return {\n          infoVisible: showMoreComponents,\n          titleVisible: true,\n          announce: announce < AnnounceState.INFO ? AnnounceState.INFO : AnnounceState.DONE\n        };\n      });\n    };\n    _this.handleMediaControlsClose = function (ev) {\n      _this.hideControls();\n      ev.stopPropagation();\n    };\n    _this.setVideoRef = function (video) {\n      _this.video = video;\n    };\n    _this.setTitleRef = function (node) {\n      _this.titleRef = node;\n    };\n    _this.setAnnounceRef = function (node) {\n      _this.announceRef = node;\n    };\n    _this.video = null;\n    _this.pulsedPlaybackRate = null;\n    _this.pulsedPlaybackState = null;\n    _this.prevCommand = _props.noAutoPlay ? 'pause' : 'play';\n    _this.showMiniFeedback = false;\n    _this.speedIndex = 0;\n    _this.seekingMode = true;\n    _this.id = _this.generateId();\n    _this.selectPlaybackRates('fastForward');\n    _this.sliderKnobProportion = 0;\n    _this.mediaControlsSpotlightId = _props.spotlightId + '_mediaControls';\n    _this.jumpButtonPressed = null;\n    _this.playerRef = /*#__PURE__*/(0, _react.createRef)();\n    _this.playbackRate = 1;\n\n    // Re-render-necessary State\n    _this.state = {\n      announce: AnnounceState.READY,\n      currentTime: 0,\n      duration: 0,\n      error: false,\n      loading: false,\n      paused: _props.noAutoPlay,\n      playbackRate: 1,\n      titleOffsetHeight: 0,\n      bottomOffsetHeight: 0,\n      // Non-standard state computed from properties\n      bottomControlsRendered: false,\n      feedbackAction: 'idle',\n      feedbackVisible: false,\n      infoVisible: false,\n      mediaControlsVisible: false,\n      mediaSliderVisible: false,\n      miniFeedbackVisible: false,\n      proportionLoaded: 0,\n      proportionPlayed: 0,\n      sourceUnavailable: true,\n      titleVisible: true\n    };\n    if (_props.setApiProvider) {\n      _props.setApiProvider(_assertThisInitialized(_this));\n    }\n    return _this;\n  }\n  _createClass(VideoPlayerBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      (0, _dispatcher.on)('mousemove', this.activityDetected);\n      if (_platform.platform.touchEvent) {\n        (0, _dispatcher.on)('touchmove', this.activityDetected);\n      }\n      document.addEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.addEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.startDelayedFeedbackHide();\n      if (this.context && typeof this.context === 'function') {\n        this.floatingLayerController = this.context(function () {});\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (\n      // Use shallow props compare instead of source comparison to support possible changes\n      // from mediaComponent.\n      (0, _util.shallowEqual)(this.props, nextProps) && !this.state.miniFeedbackVisible && this.state.miniFeedbackVisible === nextState.miniFeedbackVisible && !this.state.mediaSliderVisible && this.state.mediaSliderVisible === nextState.mediaSliderVisible && this.state.loading === nextState.loading && this.props.loading === nextProps.loading && (this.state.currentTime !== nextState.currentTime || this.state.proportionPlayed !== nextState.proportionPlayed || this.state.sliderTooltipTime !== nextState.sliderTooltipTime)) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.titleRef && this.state.infoVisible && (!prevState.infoVisible || !(0, _equals[\"default\"])(this.props.infoComponents, prevProps.infoComponents))) {\n        var node = this.titleRef;\n        node.style.setProperty('--infoComponentsOffset', \"\".concat(node.offsetHeight, \"px\"));\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible !== this.state.mediaControlsVisible || !this.state.mediaSliderVisible && prevState.mediaSliderVisible !== this.state.mediaSliderVisible) {\n        this.floatingLayerController.notify({\n          action: 'closeAll'\n        });\n      }\n      if (this.props.spotlightId !== prevProps.spotlightId) {\n        this.mediaControlsSpotlightId = this.props.spotlightId + '_mediaControls';\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: false\n        }, this.props);\n        this.stopAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          // If last focused item were in the media controls or slider, we need to explicitly\n          // blur the element when MediaControls hide. See ENYO-5648\n          var current = _spotlight.Spotlight.getCurrent();\n          var bottomControls = document.querySelector(\".\".concat(_VideoPlayerModule[\"default\"].bottom));\n          if (current && bottomControls && bottomControls.contains(current)) {\n            current.blur();\n          }\n\n          // when in pointer mode, the focus call below will only update the last focused for\n          // the video player and not set the active container to the video player which will\n          // cause focus to land back on the media controls button when spotlight restores\n          // focus.\n          if (_spotlight.Spotlight.getPointerMode()) {\n            _spotlight.Spotlight.setActiveContainer(this.props.spotlightId);\n          }\n\n          // Set focus to the hidden spottable control - maintaining focus on available spottable\n          // controls, which prevents an additional 5-way attempt in order to re-show media controls\n          _spotlight.Spotlight.focus(\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove));\n        }\n      } else if (this.state.mediaControlsVisible && !prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: true\n        }, this.props);\n        this.startAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          var _current = _spotlight.Spotlight.getCurrent();\n          if (!_current || this.playerRef.current.contains(_current)) {\n            // Set focus within media controls when they become visible.\n            if (_spotlight.Spotlight.focus(this.mediaControlsSpotlightId) && this.jumpButtonPressed === 0) {\n              this.jumpButtonPressed = null;\n            }\n          }\n        }\n      }\n\n      // Once video starts loading it queues bottom control render until idle\n      if (this.state.bottomControlsRendered && !prevState.bottomControlsRendered && !this.state.mediaControlsVisible) {\n        this.showControls();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _dispatcher.off)('mousemove', this.activityDetected);\n      if (_platform.platform.touchEvent) {\n        (0, _dispatcher.off)('touchmove', this.activityDetected);\n      }\n      document.removeEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.removeEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.stopRewindJob();\n      this.stopAutoCloseTimeout();\n      this.stopDelayedTitleHide();\n      this.stopDelayedFeedbackHide();\n      this.stopDelayedMiniFeedbackHide();\n      this.announceJob.stop();\n      this.renderBottomControl.stop();\n      this.slider5WayPressJob.stop();\n      if (this.floatingLayerController) {\n        this.floatingLayerController.unregister();\n      }\n    }\n  }, {\n    key: \"isTimeBeyondSelection\",\n    value: function isTimeBeyondSelection(time) {\n      var selection = this.props.selection;\n\n      // if selection isn't set or only contains the starting value, there isn't a valid selection\n      // with which to test the time\n      if (selection != null && selection.length >= 2) {\n        var _selection = _slicedToArray(selection, 2),\n          start = _selection[0],\n          end = _selection[1];\n        return time > end || time < start;\n      }\n      return false;\n    }\n  }, {\n    key: \"preventTimeChange\",\n    value: function preventTimeChange(time) {\n      return this.isTimeBeyondSelection(time) && !(0, _handle.forwardWithPrevent)('onSeekOutsideSelection', {\n        type: 'onSeekOutsideSelection',\n        time: time\n      }, this.props);\n    }\n  }, {\n    key: \"getControlsAriaProps\",\n    value: function getControlsAriaProps() {\n      if (this.state.announce === AnnounceState.TITLE) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_title \").concat(this.id, \"_mediaControls_actionGuide\"),\n          'aria-live': 'off',\n          role: 'alert'\n        };\n      } else if (this.state.announce === AnnounceState.INFO) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_info\"),\n          role: 'region'\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        backButtonAriaLabel = _this$props.backButtonAriaLabel,\n        className = _this$props.className,\n        disabled = _this$props.disabled,\n        infoComponents = _this$props.infoComponents,\n        initialJumpDelay = _this$props.initialJumpDelay,\n        jumpDelay = _this$props.jumpDelay,\n        loading = _this$props.loading,\n        locale = _this$props.locale,\n        mediaControlsComponent = _this$props.mediaControlsComponent,\n        no5WayJump = _this$props.no5WayJump,\n        noAutoPlay = _this$props.noAutoPlay,\n        noMiniFeedback = _this$props.noMiniFeedback,\n        noSlider = _this$props.noSlider,\n        noSpinner = _this$props.noSpinner,\n        selection = _this$props.selection,\n        spotlightDisabled = _this$props.spotlightDisabled,\n        spotlightId = _this$props.spotlightId,\n        style = _this$props.style,\n        thumbnailComponent = _this$props.thumbnailComponent,\n        thumbnailSrc = _this$props.thumbnailSrc,\n        title = _this$props.title,\n        VideoComponent = _this$props.videoComponent,\n        mediaProps = _objectWithoutProperties(_this$props, _excluded2);\n      delete mediaProps.announce;\n      delete mediaProps.autoCloseTimeout;\n      delete mediaProps.children;\n      delete mediaProps.feedbackHideDelay;\n      delete mediaProps.jumpBy;\n      delete mediaProps.miniFeedbackHideDelay;\n      delete mediaProps.noAutoShowMediaControls;\n      delete mediaProps.noMediaSliderFeedback;\n      delete mediaProps.onBack;\n      delete mediaProps.onControlsAvailable;\n      delete mediaProps.onFastForward;\n      delete mediaProps.onJumpBackward;\n      delete mediaProps.onJumpForward;\n      delete mediaProps.onPause;\n      delete mediaProps.onPlay;\n      delete mediaProps.onRewind;\n      delete mediaProps.onWillFastForward;\n      delete mediaProps.onWillJumpBackward;\n      delete mediaProps.onWillJumpForward;\n      delete mediaProps.onWillPause;\n      delete mediaProps.onWillPlay;\n      delete mediaProps.onWillRewind;\n      delete mediaProps.onScrub;\n      delete mediaProps.onSeekFailed;\n      delete mediaProps.onSeekOutsideSelection;\n      delete mediaProps.onToggleMore;\n      delete mediaProps.pauseAtEnd;\n      delete mediaProps.playbackRateHash;\n      delete mediaProps.seekDisabled;\n      delete mediaProps.setApiProvider;\n      delete mediaProps.thumbnailUnavailable;\n      delete mediaProps.titleHideDelay;\n      delete mediaProps.videoPath;\n      mediaProps.autoPlay = !noAutoPlay;\n      mediaProps.className = _VideoPlayerModule[\"default\"].video;\n      mediaProps.controls = false;\n      mediaProps.mediaComponent = 'video';\n      mediaProps.onLoadStart = this.handleLoadStart;\n      mediaProps.onUpdate = this.handleEvent;\n      mediaProps.ref = this.setVideoRef;\n      var controlsAriaProps = this.getControlsAriaProps();\n      var proportionSelection = selection;\n      if (proportionSelection != null && this.state.duration) {\n        proportionSelection = selection.map(function (t) {\n          return t / _this2.state.duration;\n        });\n      }\n      var durFmt = getDurFmt(locale);\n      var controlsHandleAboveHoldConfig = getControlsHandleAboveHoldConfig({\n        frequency: jumpDelay,\n        time: initialJumpDelay\n      });\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(RootContainer, {\n        className: _VideoPlayerModule[\"default\"].videoPlayer + ' enact-fit' + (className ? ' ' + className : ''),\n        onClick: this.activityDetected,\n        ref: this.playerRef,\n        spotlightDisabled: spotlightDisabled,\n        spotlightId: spotlightId,\n        style: style,\n        children: [\n        // Duplicating logic from <ComponentOverride /> until enzyme supports forwardRef\n        VideoComponent && ((typeof VideoComponent === 'function' || typeof VideoComponent === 'string') && /*#__PURE__*/(0, _jsxRuntime.jsx)(VideoComponent, _objectSpread({}, mediaProps)) || /*#__PURE__*/(0, _react.isValidElement)(VideoComponent) && /*#__PURE__*/(0, _react.cloneElement)(VideoComponent, mediaProps)) || null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_Overlay[\"default\"], {\n          bottomControlsVisible: this.state.mediaControlsVisible,\n          onClick: this.onVideoClick,\n          children: !noSpinner && (this.state.loading || loading) ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spinner[\"default\"], {\n            centered: true\n          }) : null\n        }), this.state.bottomControlsRendered ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", _objectSpread(_objectSpread({\n          className: _VideoPlayerModule[\"default\"].fullscreen\n        }, controlsAriaProps), {}, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackContent[\"default\"], {\n            className: _VideoPlayerModule[\"default\"].miniFeedback,\n            playbackRate: this.pulsedPlaybackRate || this.selectPlaybackRate(this.speedIndex),\n            playbackState: this.pulsedPlaybackState || this.prevCommand,\n            visible: this.state.miniFeedbackVisible && !noMiniFeedback,\n            children: (0, _MediaPlayer.secondsToTime)(this.state.sliderTooltipTime, durFmt)\n          }), this.state.mediaControlsVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button[\"default\"], {\n            \"aria-label\": backButtonAriaLabel == null ? (0, _$L[\"default\"])('go to previous') : backButtonAriaLabel,\n            className: _VideoPlayerModule[\"default\"].back,\n            icon: \"arrowhookleft\",\n            iconFlip: \"auto\",\n            onClick: this.handleBack,\n            size: \"small\"\n          }) : null, /*#__PURE__*/(0, _jsxRuntime.jsxs)(ControlsContainer, {\n            className: _VideoPlayerModule[\"default\"].bottom + (this.state.mediaControlsVisible ? '' : ' ' + _VideoPlayerModule[\"default\"].hidden) + (this.state.infoVisible ? ' ' + _VideoPlayerModule[\"default\"].lift : ''),\n            spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n            children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].infoFrame,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaTitle[\"default\"], {\n                id: \"\".concat(this.id, \"_mediaTitle\"),\n                infoVisible: this.state.infoVisible,\n                ref: this.setTitleRef,\n                title: title,\n                visible: this.state.titleVisible && this.state.mediaControlsVisible,\n                children: infoComponents\n              }), noSlider ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                current: this.state.currentTime,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }) : null, noSlider ? null : /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].sliderContainer,\n              children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noTotalTime: true,\n                current: this.state.currentTime,\n                formatter: durFmt\n              }) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.MediaSlider, {\n                backgroundProgress: this.state.proportionLoaded,\n                disabled: disabled || this.state.sourceUnavailable,\n                forcePressed: this.state.slider5WayPressed,\n                onBlur: this.handleSliderBlur,\n                onChange: this.onSliderChange,\n                onFocus: this.handleSliderFocus,\n                onKeyDown: this.handleSliderKeyDown,\n                onKnobMove: this.handleKnobMove,\n                selection: proportionSelection,\n                spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n                value: this.state.proportionPlayed,\n                visible: this.state.mediaSliderVisible,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackTooltip[\"default\"], {\n                  action: this.state.feedbackAction,\n                  duration: this.state.duration,\n                  formatter: durFmt,\n                  hidden: !this.state.feedbackVisible || this.state.sourceUnavailable,\n                  playbackRate: this.selectPlaybackRate(this.speedIndex),\n                  playbackState: this.prevCommand,\n                  thumbnailComponent: thumbnailComponent,\n                  thumbnailDeactivated: this.props.thumbnailUnavailable,\n                  thumbnailSrc: thumbnailSrc\n                })\n              }), this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noCurrentTime: true,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_ComponentOverride[\"default\"], {\n              component: mediaControlsComponent,\n              id: \"\".concat(this.id, \"_mediaControls\"),\n              initialJumpDelay: initialJumpDelay,\n              jumpDelay: jumpDelay,\n              mediaDisabled: disabled || this.state.sourceUnavailable,\n              no5WayJump: no5WayJump,\n              onClose: this.handleMediaControlsClose,\n              onFastForward: this.handleFastForward,\n              onJumpBackwardButtonClick: this.onJumpBackward,\n              onJumpForwardButtonClick: this.onJumpForward,\n              onPause: this.handlePause,\n              onPlay: this.handlePlay,\n              onRewind: this.handleRewind,\n              onToggleMore: this.handleToggleMore,\n              paused: this.state.paused,\n              spotlightId: this.mediaControlsSpotlightId,\n              spotlightDisabled: !this.state.mediaControlsVisible || spotlightDisabled,\n              visible: this.state.mediaControlsVisible\n            })]\n          })]\n        })) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(SpottableDiv\n        // This captures spotlight focus for use with 5-way.\n        // It's non-visible but lives at the top of the VideoPlayer.\n        , {\n          className: _VideoPlayerModule[\"default\"].controlsHandleAbove,\n          holdConfig: controlsHandleAboveHoldConfig,\n          onDown: this.handleControlsHandleAboveDown,\n          onHold: this.handleControlsHandleAboveHold,\n          onKeyDown: this.handleControlsHandleAboveKeyDown,\n          onKeyUp: this.handleControlsHandleAboveKeyUp,\n          onSpotlightDown: this.showControls,\n          selectionKeys: controlsHandleAboveSelectionKeys,\n          spotlightDisabled: this.state.mediaControlsVisible || spotlightDisabled\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Announce[\"default\"], {\n          ref: this.setAnnounceRef\n        })]\n      });\n    }\n  }]);\n  return VideoPlayerBase;\n}(_react.Component), _class.displayName = 'VideoPlayerBase', _class.propTypes = /** @lends sandstone/VideoPlayer.VideoPlayerBase.prototype */{\n  /**\n   * passed by AnnounceDecorator for accessibility\n   *\n   * @type {Function}\n   * @private\n   */\n  announce: _propTypes2[\"default\"].func,\n  /**\n   * The time (in milliseconds) before the control buttons will hide.\n   *\n   * Setting this to 0 or `null` disables closing, requiring user input to open and close.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  autoCloseTimeout: _propTypes2[\"default\"].number,\n  /**\n   * Sets the hint string read when focusing the back button.\n   *\n   * @type {String}\n   * @default 'go to previous'\n   * @public\n   */\n  backButtonAriaLabel: _propTypes2[\"default\"].string,\n  /**\n   * Removes interactive capability from this component. This includes, but is not limited to,\n   * key-press events, most clickable buttons, and prevents the showing of the controls.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  disabled: _propTypes2[\"default\"].bool,\n  /**\n   * Amount of time (in milliseconds) after which the feedback text/icon part of the slider's\n   * tooltip will automatically hidden after the last action.\n   * Setting this to 0 or `null` disables feedbackHideDelay; feedback will always be present.\n   *\n   * @type {Number}\n   * @default 3000\n   * @public\n   */\n  feedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Components placed below the title.\n   *\n   * Typically these will be media descriptor icons, like how many audio channels, what codec\n   * the video uses, but can also be a description for the video or anything else that seems\n   * appropriate to provide information about the video to the user.\n   *\n   * @type {Node}\n   * @public\n   */\n  infoComponents: _propTypes2[\"default\"].node,\n  /**\n   * The number of milliseconds that the player will pause before firing the\n   * first jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 400\n   * @public\n   */\n  initialJumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * The number of seconds the player should skip forward or backward when a \"jump\" button is\n   * pressed.\n   *\n   * @type {Number}\n   * @default 30\n   * @public\n   */\n  jumpBy: _propTypes2[\"default\"].number,\n  /**\n   * The number of milliseconds that the player will throttle before firing a\n   * jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 200\n   * @public\n   */\n  jumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * Manually set the loading state of the media, in case you have information that\n   * `VideoPlayer` does not have.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  loading: _propTypes2[\"default\"].bool,\n  /**\n   * The current locale as a\n   * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n   *\n   * @type {String}\n   * @public\n   */\n  locale: _propTypes2[\"default\"].string,\n  /**\n   * Overrides the default media control component to support customized behaviors.\n   *\n   * The provided component will receive the following props from `VideoPlayer`:\n   *\n   * * `initialJumpDelay` - Time (in ms) to wait before starting a jump\n   * * `jumpDelay` -  - Time (in ms) to wait between jumps\n   * * `mediaDisabled` - `true` when the media controls are not interactive\n   * * `no5WayJump` - `true` when 5-way jumping is disabled\n   * * `onClose` - Called when cancel key is pressed when the media controls are visible\n   * * `onFastForward` - Called when the media is fast forwarded via a key event\n   * * `onJump` - Called when the media jumps either forward or backward\n   * * `onJumpBackwardButtonClick` - Called when the jump backward button is pressed\n   * * `onJumpForwardButtonClick` - Called when the jump forward button is pressed\n   * * `onKeyDown` - Called when a key is pressed\n   * * `onPause` - Called when the media is paused via a key event\n   * * `onPlay` - Called when the media is played via a key event\n   * * `onRewind` - Called when the media is rewound via a key event\n   * * `onToggleMore` - Called when the more components are hidden or shown\n   * * `paused` - `true` when the media is paused\n   * * `spotlightId` - The spotlight container Id for the media controls\n   * * `spotlightDisabled` - `true` when spotlight is disabled for the media controls\n   * * `visible` - `true` when the media controls should be displayed\n   *\n   * @type {Component|Element}\n   * @default sandstone/MediaPlayer.MediaControls\n   * @public\n   */\n  mediaControlsComponent: _propTypes[\"default\"].componentOverride,\n  /**\n   * Amount of time (in milliseconds), after the last user action, that the `miniFeedback`\n   * will automatically hide.\n   * Setting this to 0 or `null` disables `miniFeedbackHideDelay`; `miniFeedback` will always\n   * be present.\n   *\n   * @type {Number}\n   * @default 2000\n   * @public\n   */\n  miniFeedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Disable audio for this video.\n   *\n   * In a TV context, this is handled by the remote control, not programmatically in the\n   * VideoPlayer API.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  muted: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of using left and right keys for seeking.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  no5WayJump: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of playing a video immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoPlay: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of showing media controls immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoShowMediaControls: _propTypes2[\"default\"].bool,\n  /**\n   * Hides media slider feedback when fast forward or rewind while media controls are hidden.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMediaSliderFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the mini feedback.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMiniFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the media slider.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noSlider: _propTypes2[\"default\"].bool,\n  /**\n   * Removes spinner while loading.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  noSpinner: _propTypes2[\"default\"].bool,\n  /**\n   * Called when the back button is clicked.\n   *\n   * @type {Function}\n   * @public\n   */\n  onBack: _propTypes2[\"default\"].func,\n  /**\n   * Called when the player's controls change availability, whether they are shown\n   * or hidden.\n   *\n   * The current status is sent as the first argument in an object with a key `available`\n   * which will be either `true` or `false`. (e.g.: `onControlsAvailable({available: true})`)\n   *\n   * @type {Function}\n   * @public\n   */\n  onControlsAvailable: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been fast forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onFastForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpBackward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpBackward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpForward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been paused.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPause: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been played.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPlay: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been rewound.\n   *\n   * @type {Function}\n   * @public\n   */\n  onRewind: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user is moving the VideoPlayer's Slider knob independently of\n   * the current playback position.\n   *\n   * It is passed an object with a `seconds` key (float value) to indicate the current time\n   * index. It can be used to update the `thumbnailSrc` to the reflect the current scrub\n   * position.\n   *\n   * @type {Function}\n   * @public\n   */\n  onScrub: _propTypes2[\"default\"].func,\n  /**\n   * Called when seek is attempted while `seekDisabled` is true.\n   *\n   * @type {Function}\n   */\n  onSeekFailed: _propTypes2[\"default\"].func,\n  /**\n   * Called when seeking outside of the current `selection` range.\n   *\n   * By default, the seek will still be performed. Calling `preventDefault()` on the event\n   * will prevent the seek operation.\n   *\n   * @type {Function}\n   * @public\n   */\n  onSeekOutsideSelection: _propTypes2[\"default\"].func,\n  /**\n   * Called when the visibility of more components is changed\n   *\n   * Event payload includes:\n   *\n   * * `type` - Type of event, `'onToggleMore'`\n   * * `showMoreComponents` - `true` when the components are visible`\n   * * `liftDistance` - The distance, in pixels, the component animates\n   *`\n   * @type {Function}\n   * @public\n   */\n  onToggleMore: _propTypes2[\"default\"].func,\n  /**\n   * Called once before the video is forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onWillFastForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump backwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpBackward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump forwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is paused.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPause: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is played\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPlay: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is rewound.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillRewind: _propTypes2[\"default\"].func,\n  /**\n   * Pauses the video when it reaches either the start or the end of the video during rewind,\n   * slow rewind, fast forward, or slow forward.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  pauseAtEnd: _propTypes2[\"default\"].bool,\n  /**\n   * Mapping of playback rate names to playback rate values that may be set.\n   *\n   * @type {sandstone/VideoPlayer.playbackRateHash}\n   * @default {\n   *\tfastForward: ['2', '4', '8', '16'],\n   *\trewind: ['-2', '-4', '-8', '-16'],\n   *\tslowForward: ['1/4', '1/2'],\n   *\tslowRewind: ['-1/2', '-1']\n   * }\n   * @public\n   */\n  playbackRateHash: _propTypes2[\"default\"].shape({\n    fastForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    rewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowRewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number]))\n  }),\n  /**\n   * Disables seek function.\n   *\n   * Note that jump by arrow keys will also be disabled when `true`.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  seekDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * A range of the video to display as selected.\n   *\n   * The value of `selection` may either be:\n   * * `null` or `undefined` for no selection,\n   * * a single-element array with the start time of the selection\n   * * a two-element array containing both the start and end time of the selection in seconds\n   *\n   * When the start time is specified, the media slider will show filled starting at that\n   * time to the current time.\n   *\n   * When the end time is specified, the slider's background will be filled between the two\n   * times.\n   *\n   * @type {Number[]}\n   * @public\n   */\n  selection: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number),\n  /**\n   * Registers the VideoPlayer component with an\n   * {@link core/internal/ApiDecorator.ApiDecorator}.\n   *\n   * @type {Function}\n   * @private\n   */\n  setApiProvider: _propTypes2[\"default\"].func,\n  /**\n   * The video source.\n   *\n   * Any children `<source>` tag elements of {@link sandstone/VideoPlayer|VideoPlayer} will\n   * be sent directly to the `videoComponent` as video sources.\n   *\n   * @type {Node}\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source\n   * @public\n   */\n  source: _propTypes2[\"default\"].node,\n  /**\n   * Disables spotlight navigation into the component.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  spotlightDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * The spotlight container ID for the player.\n   *\n   * @type {String}\n   * @public\n   * @default 'videoPlayer'\n   */\n  spotlightId: _propTypes2[\"default\"].string,\n  /**\n   * The thumbnail component to be used instead of the built-in version.\n   *\n   * The internal thumbnail style will not be applied to this component. This component\n   * follows the same rules as the built-in version.\n   *\n   * @type {String|Component|Element}\n   * @public\n   */\n  thumbnailComponent: _propTypes[\"default\"].renderableOverride,\n  /**\n   * Thumbnail image source to show on the slider knob.\n   *\n   * This is a standard {@link sandstone/Image} component so it supports all of the same\n   * options for the `src` property. If no `thumbnailComponent` and no `thumbnailSrc` is set,\n   * no tooltip will display.\n   *\n   * @type {String|Object}\n   * @public\n   */\n  thumbnailSrc: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].object]),\n  /**\n  * Enables the thumbnail transition from opaque to translucent.\n  *\n  * @type {Boolean}\n  * @public\n  */\n  thumbnailUnavailable: _propTypes2[\"default\"].bool,\n  /**\n   * Title for the video being played.\n   *\n   * @type {String|Node}\n   * @public\n   */\n  title: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].node]),\n  /**\n   * The time (in milliseconds) before the title disappears from the controls.\n   *\n   * Setting this to `0` disables hiding.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  titleHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Video component to use.\n   *\n   * The default renders an `HTMLVideoElement`. Custom video components must have a similar\n   * API structure, exposing the following APIs:\n   *\n   * Properties:\n   * * `currentTime` {Number} - Playback index of the media in seconds\n   * * `duration` {Number} - Media's entire duration in seconds\n   * * `error` {Boolean} - `true` if video playback has errored.\n   * * `loading` {Boolean} - `true` if video playback is loading.\n   * * `paused` {Boolean} - Playing vs paused state. `true` means the media is paused\n   * * `playbackRate` {Number} - Current playback rate, as a number\n   * * `proportionLoaded` {Number} - A value between `0` and `1`\n   *\trepresenting the proportion of the media that has loaded\n   * * `proportionPlayed` {Number} - A value between `0` and `1` representing the\n   *\tproportion of the media that has already been shown\n   *\n   * Events:\n   * * `onLoadStart` - Called when the video starts to load\n   * * `onUpdate` - Sent when any of the properties were updated\n   *\n   * Methods:\n   * * `play()` - play video\n   * * `pause()` - pause video\n   * * `load()` - load video\n   *\n   * The {@link sandstone/VideoPlayer.Video.source|source} property is passed to\n   * the video component as a child node.\n   *\n   * @type {Component|Element}\n   * @default {@link ui/Media.Media}\n   * @public\n   */\n  videoComponent: _propTypes[\"default\"].componentOverride\n}, _class.contextType = _FloatingLayerDecorator.FloatingLayerContext, _class.defaultProps = {\n  autoCloseTimeout: 5000,\n  feedbackHideDelay: 3000,\n  initialJumpDelay: 400,\n  jumpBy: 30,\n  jumpDelay: 200,\n  mediaControlsComponent: _MediaPlayer.MediaControls,\n  miniFeedbackHideDelay: 2000,\n  playbackRateHash: {\n    fastForward: ['2', '4', '8', '16'],\n    rewind: ['-2', '-4', '-8', '-16'],\n    slowForward: ['1/4', '1/2'],\n    slowRewind: ['-1/2', '-1']\n  },\n  spotlightId: 'videoPlayer',\n  titleHideDelay: 5000,\n  videoComponent: _Media[\"default\"]\n}, _class);\n\n/**\n * A standard HTML5 video player for Sandstone. It behaves, responds to, and operates like a\n * `<video>` tag in its support for `<source>`.  It also accepts custom tags such as\n * `<infoComponents>` for displaying additional information in the title area and `<MediaControls>`\n * for handling media playback controls and adding more controls.\n *\n * Example usage:\n * ```\n *\t<VideoPlayer title=\"Hilarious Cat Video\" poster=\"http://my.cat.videos/boots-poster.jpg\">\n *\t\t<source src=\"http://my.cat.videos/boots.mp4\" type=\"video/mp4\" />\n *\t\t<infoComponents>A video about my cat Boots, wearing boots.</infoComponents>\n *\t\t<MediaControls>\n *\t\t\t<leftComponents><Button backgroundOpacity=\"translucent\" icon=\"star\" /></leftComponents>\n *\t\t\t<rightComponents><Button backgroundOpacity=\"translucent\" icon=\"notification\" /></rightComponents>\n *\n *\t\t\t<Button backgroundOpacity=\"translucent\">Add To Favorites</Button>\n *\t\t\t<Button backgroundOpacity=\"translucent\" icon=\"search\" />\n *\t\t</MediaControls>\n *\t</VideoPlayer>\n * ```\n *\n * To invoke methods (e.g.: `fastForward()`) or get the current state (`getMediaState()`), store a\n * ref to the `VideoPlayer` within your component:\n *\n * ```\n * \t...\n *\n * \tsetVideoPlayer = (node) => {\n * \t\tthis.videoPlayer = node;\n * \t}\n *\n * \tplay () {\n * \t\tthis.videoPlayer.play();\n * \t}\n *\n * \trender () {\n * \t\treturn (\n * \t\t\t<VideoPlayer ref={this.setVideoPlayer} />\n * \t\t);\n * \t}\n * ```\n *\n * @class VideoPlayer\n * @memberof sandstone/VideoPlayer\n * @mixes ui/Slottable.Slottable\n * @ui\n * @public\n */\nvar VideoPlayer = exports.VideoPlayer = (0, _ApiDecorator[\"default\"])({\n  api: ['areControlsVisible', 'fastForward', 'getMediaState', 'getVideoNode', 'hideControls', 'jump', 'pause', 'play', 'rewind', 'seek', 'setPlaybackSpeed', 'showControls', 'showFeedback', 'toggleControls']\n}, (0, _I18nDecorator.I18nContextDecorator)({\n  localeProp: 'locale'\n}, (0, _Slottable[\"default\"])({\n  slots: ['infoComponents', 'mediaControlsComponent', 'source', 'thumbnailComponent', 'videoComponent']\n}, (0, _FloatingLayer.FloatingLayerDecorator)({\n  floatLayerId: 'videoPlayerFloatingLayer'\n}, (0, _Skinnable[\"default\"])(VideoPlayerBase)))));\nvar _default = exports[\"default\"] = VideoPlayer;","map":{"version":3,"names":["Object","defineProperty","exports","value","enumerable","get","_Video","VideoPlayerBase","VideoPlayer","_ApiDecorator","_interopRequireDefault","require","_dispatcher","_util","_handle","_keymap","_platform","_propTypes","_I18nDecorator","_util2","_spotlight","_SpotlightContainerDecorator","_Spottable","_Announce","_ComponentOverride","_FloatingLayer","_FloatingLayerDecorator","_ForwardRef","_Media","_Slottable","_Touchable","_DurationFmt","_equals","_propTypes2","_react","_$L","_Button","_Skinnable","_Spinner","_MediaPlayer","_Overlay","_MediaTitle","_FeedbackContent","_FeedbackTooltip","_VideoPlayerModule","_jsxRuntime","_class","_excluded","_excluded2","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPrimitive","String","toPrimitive","Number","_objectWithoutProperties","source","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","isEnter","is","isLeft","isRight","jumpBackKeyCode","jumpForwardKeyCode","controlsHandleAboveSelectionKeys","getControlsHandleAboveHoldConfig","_ref","frequency","time","events","shouldJump","_ref2","_ref3","disabled","no5WayJump","mediaControlsVisible","sourceUnavailable","calcNumberValueOfPlaybackRate","rate","pbArray","split","parseInt","parseFloat","RootComponent","_ref4","playerRef","rest","jsx","ref","propTypes","SpottableDiv","Spottable","RootContainer","prop","SpotlightContainerDecorator","enterTo","defaultElement","concat","controlsHandleAbove","controlsFrame","ControlsContainer","straightOnly","memoGetDurFmt","memoize","style","useNative","getDurFmt","locale","window","forwardWithState","type","adaptEvent","handle","forwardWithPrevent","forwardToggleMore","forward","forwardControlsAvailable","forwardCustom","forwardPlay","forwardWillPlay","forwardPause","forwardWillPause","forwardRewind","forwardWillRewind","forwardFastForward","forwardWillFastForward","forwardJumpBackward","forwardWillJumpBackward","forwardJumpForward","forwardWillJumpForward","AnnounceState","READY","TITLE","TITLE_READ","INFO","DONE","_Component","_super","_props","_this","announceJob","Job","msg","clear","announceRef","announce","start","activityDetected","startAutoCloseTimeout","autoCloseTimeout","state","autoCloseJob","startAfter","stopAutoCloseTimeout","stop","generateId","Math","random","substr","markAnnounceRead","setState","showControls","startDelayedFeedbackHide","startDelayedTitleHide","_ref5","bottomControlsRendered","feedbackAction","feedbackVisible","mediaSliderVisible","miniFeedbackVisible","titleVisible","hideControls","stopDelayedFeedbackHide","stopDelayedMiniFeedbackHide","stopDelayedTitleHide","infoVisible","toggleControls","doAutoClose","_ref6","titleHideDelay","hideTitleJob","hideTitle","feedbackHideDelay","hideFeedbackJob","showFeedback","shouldShowSlider","pulsedPlaybackState","playbackRate","showMiniFeedback","_ref7","loading","duration","error","noMediaSliderFeedback","hideFeedback","startDelayedMiniFeedbackHide","delay","undefined","miniFeedbackHideDelay","hideMiniFeedbackJob","hideMiniFeedback","showControlsFromPointer","Spotlight","setPointerMode","clearPulsedPlayback","pulsedPlaybackRate","shouldShowMiniFeedback","ev","handleLoadStart","firstPlayReadFlag","prevCommand","noAutoPlay","speedIndex","currentTime","proportionPlayed","proportionLoaded","noAutoShowMediaControls","renderBottomControl","idle","handlePlay","play","handlePause","pause","handleRewind","rewind","handleFastForward","fastForward","handleJump","_ref8","keyCode","seekDisabled","jumpBy","min","max","preventTimeChange","jump","secondsToTime","video","includeHour","handleGlobalKeyDown","returnsTrue","forKey","getCurrent","getPointerMode","spotlightDisabled","preventDefault","stopImmediate","handleControlsHandleAboveHold","jumpButtonPressed","handleControlsHandleAboveKeyDown","_ref9","handleControlsHandleAboveKeyUp","_ref10","handleControlsHandleAboveDown","move","getDirection","handleEvent","el","updatedState","paused","seekingMode","sliderTooltipTime","isRewind","isForward","pauseAtEnd","getMediaState","send","action","setPlaybackRate","seek","timeIndex","isNaN","distance","toUpperCase","format","second","shouldResumePlayback","playbackRates","selectPlaybackRates","clampPlaybackRate","selectPlaybackRate","rateForSlowRewind","playbackRateHash","command","setPlaybackSpeed","videoProxy","Proxy","set","getVideoNode","areControlsVisible","cmd","idx","stopRewindJob","pbNumber","platform","beginRewind","rewindManually","now","perfNow","rewindBeginTime","pbRate","adjustedDistance","startRewindJob","rewindJob","addStateToEvent","onVideoClick","onSliderChange","_ref11","sliderScrubbing","handleBack","handleKnobMove","sliderKnobProportion","proportion","seconds","floor","knobTime","handleSliderFocus","detached","handleSliderBlur","slider5WayPressJob","slider5WayPressed","handleSliderKeyDown","focus","mediaControlsSpotlightId","onJumpBackward","onJumpForward","handleToggleMore","showMoreComponents","liftDistance","current","setProperty","_ref12","handleMediaControlsClose","stopPropagation","setVideoRef","setTitleRef","node","titleRef","setAnnounceRef","id","spotlightId","createRef","titleOffsetHeight","bottomOffsetHeight","setApiProvider","componentDidMount","on","touchEvent","document","addEventListener","capture","context","floatingLayerController","shouldComponentUpdate","nextProps","nextState","shallowEqual","componentDidUpdate","prevProps","prevState","infoComponents","offsetHeight","notify","available","bottomControls","querySelector","bottom","contains","blur","setActiveContainer","_current","componentWillUnmount","off","removeEventListener","unregister","isTimeBeyondSelection","selection","_selection","end","getControlsAriaProps","role","render","_this2","_this$props","backButtonAriaLabel","className","initialJumpDelay","jumpDelay","mediaControlsComponent","noMiniFeedback","noSlider","noSpinner","thumbnailComponent","thumbnailSrc","title","VideoComponent","videoComponent","mediaProps","children","onBack","onControlsAvailable","onFastForward","onPause","onPlay","onRewind","onWillFastForward","onWillJumpBackward","onWillJumpForward","onWillPause","onWillPlay","onWillRewind","onScrub","onSeekFailed","onSeekOutsideSelection","onToggleMore","thumbnailUnavailable","videoPath","autoPlay","controls","mediaComponent","onLoadStart","onUpdate","controlsAriaProps","proportionSelection","map","durFmt","controlsHandleAboveHoldConfig","jsxs","videoPlayer","onClick","isValidElement","cloneElement","bottomControlsVisible","centered","fullscreen","miniFeedback","playbackState","visible","back","icon","iconFlip","size","hidden","lift","infoFrame","Times","total","formatter","sliderContainer","noTotalTime","MediaSlider","backgroundProgress","forcePressed","onBlur","onChange","onFocus","onKeyDown","onKnobMove","thumbnailDeactivated","noCurrentTime","component","mediaDisabled","onClose","onJumpBackwardButtonClick","onJumpForwardButtonClick","holdConfig","onDown","onHold","onKeyUp","onSpotlightDown","selectionKeys","Component","displayName","func","number","string","bool","componentOverride","muted","shape","arrayOf","oneOfType","slowForward","slowRewind","renderableOverride","object","contextType","FloatingLayerContext","defaultProps","MediaControls","api","I18nContextDecorator","localeProp","slots","FloatingLayerDecorator","floatLayerId","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/sandstone/VideoPlayer/VideoPlayer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Video\", {\n  enumerable: true,\n  get: function get() {\n    return _Video[\"default\"];\n  }\n});\nexports[\"default\"] = exports.VideoPlayerBase = exports.VideoPlayer = void 0;\nvar _ApiDecorator = _interopRequireDefault(require(\"@enact/core/internal/ApiDecorator\"));\nvar _dispatcher = require(\"@enact/core/dispatcher\");\nvar _util = require(\"@enact/core/util\");\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _platform = require(\"@enact/core/platform\");\nvar _propTypes = _interopRequireDefault(require(\"@enact/core/internal/prop-types\"));\nvar _I18nDecorator = require(\"@enact/i18n/I18nDecorator\");\nvar _util2 = require(\"@enact/i18n/util\");\nvar _spotlight = require(\"@enact/spotlight\");\nvar _SpotlightContainerDecorator = require(\"@enact/spotlight/SpotlightContainerDecorator\");\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _Announce = _interopRequireDefault(require(\"@enact/ui/AnnounceDecorator/Announce\"));\nvar _ComponentOverride = _interopRequireDefault(require(\"@enact/ui/ComponentOverride\"));\nvar _FloatingLayer = require(\"@enact/ui/FloatingLayer\");\nvar _FloatingLayerDecorator = require(\"@enact/ui/FloatingLayer/FloatingLayerDecorator\");\nvar _ForwardRef = _interopRequireDefault(require(\"@enact/ui/ForwardRef\"));\nvar _Media = _interopRequireDefault(require(\"@enact/ui/Media\"));\nvar _Slottable = _interopRequireDefault(require(\"@enact/ui/Slottable\"));\nvar _Touchable = _interopRequireDefault(require(\"@enact/ui/Touchable\"));\nvar _DurationFmt = _interopRequireDefault(require(\"ilib/lib/DurationFmt\"));\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\nvar _propTypes2 = _interopRequireDefault(require(\"prop-types\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _Button = _interopRequireDefault(require(\"../Button\"));\nvar _Skinnable = _interopRequireDefault(require(\"../Skinnable\"));\nvar _Spinner = _interopRequireDefault(require(\"../Spinner\"));\nvar _MediaPlayer = require(\"../MediaPlayer\");\nvar _Overlay = _interopRequireDefault(require(\"./Overlay\"));\nvar _MediaTitle = _interopRequireDefault(require(\"./MediaTitle\"));\nvar _FeedbackContent = _interopRequireDefault(require(\"./FeedbackContent\"));\nvar _FeedbackTooltip = _interopRequireDefault(require(\"./FeedbackTooltip\"));\nvar _Video = _interopRequireDefault(require(\"./Video\"));\nvar _VideoPlayerModule = _interopRequireDefault(require(\"./VideoPlayer.module.css\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class;\nvar _excluded = [\"playerRef\"],\n  _excluded2 = [\"backButtonAriaLabel\", \"className\", \"disabled\", \"infoComponents\", \"initialJumpDelay\", \"jumpDelay\", \"loading\", \"locale\", \"mediaControlsComponent\", \"no5WayJump\", \"noAutoPlay\", \"noMiniFeedback\", \"noSlider\", \"noSpinner\", \"selection\", \"spotlightDisabled\", \"spotlightId\", \"style\", \"thumbnailComponent\", \"thumbnailSrc\", \"title\", \"videoComponent\"];\n/**\n * Provides Sandstone-themed video player components.\n *\n * @module sandstone/VideoPlayer\n * @exports Video\n * @exports VideoPlayer\n * @exports VideoPlayerBase\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar isEnter = (0, _keymap.is)('enter');\nvar isLeft = (0, _keymap.is)('left');\nvar isRight = (0, _keymap.is)('right');\nvar jumpBackKeyCode = 37;\nvar jumpForwardKeyCode = 39;\nvar controlsHandleAboveSelectionKeys = [13, 16777221, jumpBackKeyCode, jumpForwardKeyCode];\nvar getControlsHandleAboveHoldConfig = function getControlsHandleAboveHoldConfig(_ref) {\n  var frequency = _ref.frequency,\n    time = _ref.time;\n  return {\n    events: [{\n      name: 'hold',\n      time: time\n    }],\n    frequency: frequency\n  };\n};\nvar shouldJump = function shouldJump(_ref2, _ref3) {\n  var disabled = _ref2.disabled,\n    no5WayJump = _ref2.no5WayJump;\n  var mediaControlsVisible = _ref3.mediaControlsVisible,\n    sourceUnavailable = _ref3.sourceUnavailable;\n  return !no5WayJump && !mediaControlsVisible && !(disabled || sourceUnavailable);\n};\nvar calcNumberValueOfPlaybackRate = function calcNumberValueOfPlaybackRate(rate) {\n  var pbArray = String(rate).split('/');\n  return pbArray.length > 1 ? parseInt(pbArray[0]) / parseInt(pbArray[1]) : parseFloat(rate);\n};\nvar RootComponent = function RootComponent(_ref4) {\n  var playerRef = _ref4.playerRef,\n    rest = _objectWithoutProperties(_ref4, _excluded);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", _objectSpread({\n    ref: playerRef\n  }, rest));\n};\nRootComponent.propTypes = {\n  /*\n   * Called with the reference to the mediaControls node.\n   *\n   * @type {Object|Function}\n   * @public\n   */\n  playerRef: _propTypes[\"default\"].ref\n};\nvar SpottableDiv = (0, _Touchable[\"default\"])((0, _Spottable.Spottable)('div'));\nvar RootContainer = (0, _ForwardRef[\"default\"])({\n  prop: 'playerRef'\n}, (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  defaultElement: [\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove), \".\".concat(_VideoPlayerModule[\"default\"].controlsFrame)]\n}, RootComponent));\nvar ControlsContainer = (0, _SpotlightContainerDecorator.SpotlightContainerDecorator)({\n  enterTo: 'default-element',\n  straightOnly: true\n}, 'div');\nvar memoGetDurFmt = (0, _util.memoize)(function /* locale */\n() {\n  return new _DurationFmt[\"default\"]({\n    length: 'medium',\n    style: 'clock',\n    useNative: false\n  });\n});\nvar getDurFmt = function getDurFmt(locale) {\n  if (typeof window === 'undefined') return null;\n  return memoGetDurFmt(locale);\n};\nvar forwardWithState = function forwardWithState(type) {\n  return (0, _handle.adaptEvent)(function () {\n    return {\n      type: type\n    };\n  }, (0, _handle.handle)((0, _handle.adaptEvent)((0, _handle.call)('addStateToEvent'), (0, _handle.forwardWithPrevent)(type))));\n};\nvar forwardToggleMore = (0, _handle.forward)('onToggleMore');\n\n// provide forwarding of events on media controls\nvar forwardControlsAvailable = (0, _handle.forwardCustom)('onControlsAvailable');\nvar forwardPlay = forwardWithState('onPlay');\nvar forwardWillPlay = forwardWithState('onWillPlay');\nvar forwardPause = forwardWithState('onPause');\nvar forwardWillPause = forwardWithState('onWillPause');\nvar forwardRewind = forwardWithState('onRewind');\nvar forwardWillRewind = forwardWithState('onWillRewind');\nvar forwardFastForward = forwardWithState('onFastForward');\nvar forwardWillFastForward = forwardWithState('onWillFastForward');\nvar forwardJumpBackward = forwardWithState('onJumpBackward');\nvar forwardWillJumpBackward = forwardWithState('onWillJumpBackward');\nvar forwardJumpForward = forwardWithState('onJumpForward');\nvar forwardWillJumpForward = forwardWithState('onWillJumpForward');\nvar AnnounceState = {\n  // Video is loaded but additional announcements have not been made\n  READY: 0,\n  // The title should be announced\n  TITLE: 1,\n  // The title has been announce\n  TITLE_READ: 2,\n  // The infoComponents should be announce\n  INFO: 3,\n  // All announcements have been made\n  DONE: 4\n};\n\n/**\n * Every callback sent by {@link sandstone/VideoPlayer|VideoPlayer} receives a status package,\n * which includes an object with the following key/value pairs as the first argument:\n *\n * @typedef {Object} videoStatus\n * @memberof sandstone/VideoPlayer\n * @property {String} type - Type of event that triggered this callback\n * @property {Number} currentTime - Playback index of the media in seconds\n * @property {Number} duration - Media's entire duration in seconds\n * @property {Boolean} paused - Playing vs paused state. `true` means the media is paused\n * @property {Number} playbackRate - Current playback rate, as a number\n * @property {Number} proportionLoaded - A value between `0` and `1` representing the proportion of the media that has loaded\n * @property {Number} proportionPlayed - A value between `0` and `1` representing the proportion of the media that has already been shown\n *\n * @public\n */\n\n/**\n * A set of playback rates when media fast forwards, rewinds, slow-forwards, or slow-rewinds.\n *\n * The number used for each operation is proportional to the normal playing speed, 1. If the rate\n * is less than 1, it will play slower than normal speed, and, if it is larger than 1, it will play\n * faster. If it is negative, it will play backward.\n *\n * The order of numbers represents the incremental order of rates that will be used for each\n * operation. Note that rates can be expressed as decimals, strings, and fractions.\n * (e.g.: `0.5`, `'0.5'`, `'1/2'`).\n *\n * @typedef {Object} playbackRateHash\n * @memberof sandstone/VideoPlayer\n * @property {[]} fastForward - An array of playback rates when media fast forwards\n * @property {[]} rewind - An array of playback rates when media rewinds\n * @property {[]} slowForward - An array of playback rates when media slow-forwards\n * @property {[]} slowRewind - An array of playback rates when media slow-rewinds\n *\n * @public\n */\n\n/**\n * A player for video {@link sandstone/VideoPlayer.VideoPlayerBase}.\n *\n * @class VideoPlayerBase\n * @memberof sandstone/VideoPlayer\n * @ui\n * @public\n */\nvar VideoPlayerBase = exports.VideoPlayerBase = (_class = /*#__PURE__*/function (_Component) {\n  _inherits(VideoPlayerBase, _Component);\n  var _super = _createSuper(VideoPlayerBase);\n  function VideoPlayerBase(_props) {\n    var _this;\n    _classCallCheck(this, VideoPlayerBase);\n    _this = _super.call(this, _props);\n\n    // Internal State\n    //\n    // Internal Methods\n    //\n    _this.announceJob = new _util.Job(function (msg, clear) {\n      return _this.announceRef && _this.announceRef.announce(msg, clear);\n    }, 200);\n    _this.announce = function (msg, clear) {\n      _this.announceJob.start(msg, clear);\n    };\n    _this.activityDetected = function () {\n      _this.startAutoCloseTimeout();\n    };\n    _this.startAutoCloseTimeout = function () {\n      // If this.state.more is used as a reference for when this function should fire, timing for\n      // detection of when \"more\" is pressed vs when the state is updated is mismatched. Using an\n      // instance variable that's only set and used for this express purpose seems cleanest.\n      if (_this.props.autoCloseTimeout && _this.state.mediaControlsVisible) {\n        _this.autoCloseJob.startAfter(_this.props.autoCloseTimeout);\n      }\n    };\n    _this.stopAutoCloseTimeout = function () {\n      _this.autoCloseJob.stop();\n    };\n    _this.generateId = function () {\n      return Math.random().toString(36).substr(2, 8);\n    };\n    /**\n     * If the announce state is either ready to read the title or ready to read info, advance the\n     * state to \"read\".\n     *\n     * @returns {Boolean} Returns true to be used in event handlers\n     * @private\n     */\n    _this.markAnnounceRead = function () {\n      if (_this.state.announce === AnnounceState.TITLE) {\n        _this.setState({\n          announce: AnnounceState.TITLE_READ\n        });\n      } else if (_this.state.announce === AnnounceState.INFO) {\n        _this.setState({\n          announce: AnnounceState.DONE\n        });\n      }\n      return true;\n    };\n    /**\n     * Shows media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.showControls = function () {\n      if (_this.props.disabled) {\n        return;\n      }\n      _this.startDelayedFeedbackHide();\n      _this.startDelayedTitleHide();\n      _this.setState(function (_ref5) {\n        var announce = _ref5.announce;\n        if (announce === AnnounceState.READY) {\n          // if we haven't read the title yet, do so this time\n          announce = AnnounceState.TITLE;\n        } else if (announce === AnnounceState.TITLE) {\n          // if we have read the title, advance to INFO so title isn't read again\n          announce = AnnounceState.TITLE_READ;\n        }\n        return {\n          announce: announce,\n          bottomControlsRendered: true,\n          feedbackAction: 'idle',\n          feedbackVisible: true,\n          mediaControlsVisible: true,\n          mediaSliderVisible: true,\n          miniFeedbackVisible: false,\n          titleVisible: true\n        };\n      });\n    };\n    /**\n     * Hides media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.hideControls = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.stopAutoCloseTimeout();\n      _this.setState({\n        feedbackAction: 'idle',\n        feedbackVisible: false,\n        mediaControlsVisible: false,\n        mediaSliderVisible: false,\n        miniFeedbackVisible: false,\n        infoVisible: false\n      });\n      _this.markAnnounceRead();\n    };\n    /**\n     * Toggles the media controls.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.toggleControls = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.hideControls();\n      } else {\n        _this.showControls();\n      }\n    };\n    _this.doAutoClose = function () {\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedTitleHide();\n      _this.setState(function (_ref6) {\n        var mediaSliderVisible = _ref6.mediaSliderVisible,\n          miniFeedbackVisible = _ref6.miniFeedbackVisible;\n        return {\n          feedbackVisible: false,\n          mediaControlsVisible: false,\n          mediaSliderVisible: mediaSliderVisible && miniFeedbackVisible,\n          infoVisible: false\n        };\n      });\n      _this.markAnnounceRead();\n    };\n    _this.autoCloseJob = new _util.Job(_this.doAutoClose);\n    _this.startDelayedTitleHide = function () {\n      if (_this.props.titleHideDelay) {\n        _this.hideTitleJob.startAfter(_this.props.titleHideDelay);\n      }\n    };\n    _this.stopDelayedTitleHide = function () {\n      _this.hideTitleJob.stop();\n    };\n    _this.hideTitle = function () {\n      _this.setState({\n        titleVisible: false\n      });\n    };\n    _this.hideTitleJob = new _util.Job(_this.hideTitle);\n    _this.startDelayedFeedbackHide = function () {\n      if (_this.props.feedbackHideDelay) {\n        _this.hideFeedbackJob.startAfter(_this.props.feedbackHideDelay);\n      }\n    };\n    _this.stopDelayedFeedbackHide = function () {\n      _this.hideFeedbackJob.stop();\n    };\n    _this.showFeedback = function () {\n      if (_this.state.mediaControlsVisible) {\n        _this.setState({\n          feedbackVisible: true\n        });\n      } else {\n        var shouldShowSlider = _this.pulsedPlaybackState !== null || calcNumberValueOfPlaybackRate(_this.playbackRate) !== 1;\n        if (_this.showMiniFeedback && (!_this.state.miniFeedbackVisible || _this.state.mediaSliderVisible !== shouldShowSlider)) {\n          _this.setState(function (_ref7) {\n            var loading = _ref7.loading,\n              duration = _ref7.duration,\n              error = _ref7.error;\n            return {\n              mediaSliderVisible: shouldShowSlider && !_this.props.noMediaSliderFeedback,\n              miniFeedbackVisible: !(loading || !duration || error)\n            };\n          });\n        }\n      }\n    };\n    _this.hideFeedback = function () {\n      if (_this.state.feedbackVisible && _this.state.feedbackAction !== 'focus') {\n        _this.setState({\n          feedbackVisible: false,\n          feedbackAction: 'idle'\n        });\n      }\n    };\n    _this.hideFeedbackJob = new _util.Job(_this.hideFeedback);\n    _this.startDelayedMiniFeedbackHide = function () {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.miniFeedbackHideDelay;\n      if (delay) {\n        _this.hideMiniFeedbackJob.startAfter(delay);\n      }\n    };\n    _this.stopDelayedMiniFeedbackHide = function () {\n      _this.hideMiniFeedbackJob.stop();\n    };\n    _this.hideMiniFeedback = function () {\n      if (_this.state.miniFeedbackVisible) {\n        _this.showMiniFeedback = false;\n        _this.setState({\n          mediaSliderVisible: false,\n          miniFeedbackVisible: false\n        });\n      }\n    };\n    _this.hideMiniFeedbackJob = new _util.Job(_this.hideMiniFeedback);\n    _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n    _this.showControlsFromPointer = function () {\n      _spotlight.Spotlight.setPointerMode(false);\n      _this.showControls();\n    };\n    _this.clearPulsedPlayback = function () {\n      _this.pulsedPlaybackRate = null;\n      _this.pulsedPlaybackState = null;\n    };\n    // only show mini feedback if playback controls are invoked by a key event\n    _this.shouldShowMiniFeedback = function (ev) {\n      if (ev.type === 'keyup') {\n        _this.showMiniFeedback = true;\n      }\n      return true;\n    };\n    _this.handleLoadStart = function () {\n      _this.firstPlayReadFlag = true;\n      _this.prevCommand = _this.props.noAutoPlay ? 'pause' : 'play';\n      _this.speedIndex = 0;\n      _this.setState({\n        announce: AnnounceState.READY,\n        currentTime: 0,\n        sourceUnavailable: true,\n        proportionPlayed: 0,\n        proportionLoaded: 0\n      });\n      if (!_this.props.noAutoShowMediaControls) {\n        if (!_this.state.bottomControlsRendered) {\n          _this.renderBottomControl.idle();\n        } else {\n          _this.showControls();\n        }\n      }\n    };\n    _this.handlePlay = _this.handle(forwardWillPlay, _this.shouldShowMiniFeedback, function () {\n      return _this.play();\n    }, forwardPlay);\n    _this.handlePause = _this.handle(forwardWillPause, _this.shouldShowMiniFeedback, function () {\n      return _this.pause();\n    }, forwardPause);\n    _this.handleRewind = _this.handle(forwardWillRewind, _this.shouldShowMiniFeedback, function () {\n      return _this.rewind();\n    }, forwardRewind);\n    _this.handleFastForward = _this.handle(forwardWillFastForward, _this.shouldShowMiniFeedback, function () {\n      return _this.fastForward();\n    }, forwardFastForward);\n    _this.handleJump = function (_ref8) {\n      var keyCode = _ref8.keyCode;\n      if (_this.props.seekDisabled) {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      } else {\n        var jumpBy = ((0, _keymap.is)('left', keyCode) ? -1 : 1) * _this.props.jumpBy;\n        var time = Math.min(_this.state.duration, Math.max(0, _this.state.currentTime + jumpBy));\n        if (_this.preventTimeChange(time)) return;\n        _this.showMiniFeedback = true;\n        _this.jump(jumpBy);\n        _this.announceJob.startAfter(500, (0, _MediaPlayer.secondsToTime)(_this.video.currentTime, getDurFmt(_this.props.locale), {\n          includeHour: true\n        }));\n      }\n    };\n    _this.handleGlobalKeyDown = _this.handle((0, _handle.returnsTrue)(_this.activityDetected), (0, _handle.forKey)('down'), function () {\n      return !_this.state.mediaControlsVisible && (!_spotlight.Spotlight.getCurrent() && _spotlight.Spotlight.getPointerMode() || !_spotlight.Spotlight.getPointerMode()) && !_this.props.spotlightDisabled;\n    }, _handle.preventDefault, _handle.stopImmediate, _this.showControlsFromPointer);\n    _this.handleControlsHandleAboveHold = function () {\n      if (shouldJump(_this.props, _this.state)) {\n        _this.handleJump({\n          keyCode: _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode\n        });\n      }\n    };\n    _this.handleControlsHandleAboveKeyDown = function (_ref9) {\n      var keyCode = _ref9.keyCode;\n      if (isEnter(keyCode)) {\n        _this.jumpButtonPressed = 0;\n      } else if (isLeft(keyCode)) {\n        _this.jumpButtonPressed = -1;\n      } else if (isRight(keyCode)) {\n        _this.jumpButtonPressed = 1;\n      }\n    };\n    _this.handleControlsHandleAboveKeyUp = function (_ref10) {\n      var keyCode = _ref10.keyCode;\n      if (isEnter(keyCode) || isLeft(keyCode) || isRight(keyCode)) {\n        _this.jumpButtonPressed = null;\n      }\n    };\n    _this.handleControlsHandleAboveDown = function () {\n      if (_this.jumpButtonPressed === 0) {\n        _this.showControls();\n      } else if (_this.jumpButtonPressed === -1 || _this.jumpButtonPressed === 1) {\n        var keyCode = _this.jumpButtonPressed === -1 ? jumpBackKeyCode : jumpForwardKeyCode;\n        if (shouldJump(_this.props, _this.state)) {\n          _this.handleJump({\n            keyCode: keyCode\n          });\n        } else {\n          _spotlight.Spotlight.move((0, _spotlight.getDirection)(keyCode));\n        }\n      }\n    };\n    //\n    // Media Interaction Methods\n    //\n    _this.handleEvent = function () {\n      var el = _this.video;\n      var updatedState = {\n        // Standard media properties\n        currentTime: el.currentTime,\n        duration: el.duration,\n        paused: _this.state.seekingMode ? el.playbackRate !== 1 || el.paused : el.paused,\n        playbackRate: el.playbackRate,\n        // Non-standard state computed from properties\n        error: el.error,\n        loading: el.loading,\n        proportionLoaded: el.proportionLoaded,\n        proportionPlayed: el.proportionPlayed || 0,\n        sliderTooltipTime: el.currentTime,\n        // note: `el.loading && this.state.sourceUnavailable == false` is equivalent to `oncanplaythrough`\n        sourceUnavailable: el.loading && _this.state.sourceUnavailable || el.error\n      };\n\n      // If there's an error, we're obviously not loading, no matter what the readyState is.\n      if (updatedState.error) updatedState.loading = false;\n      var isRewind = _this.prevCommand === 'rewind' || _this.prevCommand === 'slowRewind';\n      var isForward = _this.prevCommand === 'fastForward' || _this.prevCommand === 'slowForward';\n      if (_this.props.pauseAtEnd && (el.currentTime === 0 && isRewind || el.currentTime === el.duration && isForward)) {\n        _this.pause();\n      }\n      _this.setState(updatedState);\n    };\n    _this.renderBottomControl = new _util.Job(function () {\n      if (!_this.state.bottomControlsRendered) {\n        _this.setState({\n          bottomControlsRendered: true\n        });\n      }\n    });\n    /**\n     * Returns an object with the current state of the media including `currentTime`, `duration`,\n     * `paused`, `playbackRate`, `proportionLoaded`, and `proportionPlayed`.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @returns {Object}\n     * @public\n     */\n    _this.getMediaState = function () {\n      return {\n        currentTime: _this.video.currentTime,\n        duration: _this.state.duration,\n        paused: _this.state.seekingMode ? _this.video.playbackRate !== 1 || _this.video.paused : _this.video.paused,\n        playbackRate: _this.video.playbackRate,\n        proportionLoaded: _this.video.proportionLoaded,\n        proportionPlayed: _this.video.proportionPlayed || 0\n      };\n    };\n    /**\n     * The primary means of interacting with the `<video>` element.\n     *\n     * @param  {String} action The method to preform.\n     * @param  {Multiple} props  The arguments, in the format that the action method requires.\n     *\n     * @private\n     */\n    _this.send = function (action, props) {\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.video[action](props);\n    };\n    /**\n     * Programmatically plays the current media.\n     * If you call this function during fast forwarding or rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.play = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      if (_this.state.seekingMode) {\n        _this.setPlaybackRate(1);\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'play';\n      _this.send('play');\n      _this.announce((0, _$L[\"default\"])('Play'));\n      _this.startDelayedMiniFeedbackHide(5000);\n      return true;\n    };\n    /**\n     * Programmatically pauses the current media.\n     * If you call this function during fast forwarding or rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.pause = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      if (_this.state.seekingMode) {\n        _this.setPlaybackRate(1);\n      }\n      _this.speedIndex = 0;\n      // must happen before send() to ensure feedback uses the right value\n      // TODO: refactor into this.state member\n      _this.prevCommand = 'pause';\n      _this.send('pause');\n      _this.announce((0, _$L[\"default\"])('Pause'));\n      _this.stopDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Sets the media playback time index.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} timeIndex - Time index to seek\n     * @public\n     */\n    _this.seek = function (timeIndex) {\n      if (!_this.props.seekDisabled && !isNaN(_this.video.duration) && !_this.state.sourceUnavailable) {\n        _this.video.currentTime = timeIndex;\n      } else {\n        (0, _handle.forwardCustom)('onSeekFailed')(null, _this.props);\n      }\n    };\n    /**\n     * Step a given amount of time away from the current playback position.\n     * Like {@link sandstone/VideoPlayer.VideoPlayerBase.seek|seek} but relative.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} distance - Time value to jump\n     * @public\n     */\n    _this.jump = function (distance) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.pulsedPlaybackRate = (0, _util2.toUpperCase)(new _DurationFmt[\"default\"]({\n        length: 'long'\n      }).format({\n        second: _this.props.jumpBy\n      }));\n      _this.pulsedPlaybackState = distance > 0 ? 'jumpForward' : 'jumpBackward';\n      _this.showFeedback();\n      _this.startDelayedFeedbackHide();\n      _this.seek(_this.state.currentTime + distance);\n      _this.startDelayedMiniFeedbackHide();\n      return true;\n    };\n    /**\n     * Fast forwards the current media for seeking.\n     * This function changes the playback rate.\n     * If you call `play` or `pause` during fast forwarding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.fastForward = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: true\n      });\n      var shouldResumePlayback = false;\n      switch (_this.prevCommand) {\n        case 'slowForward':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => fastforward\n            _this.selectPlaybackRates('fastForward');\n            _this.speedIndex = 0;\n            _this.prevCommand = 'fastForward';\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          _this.selectPlaybackRates('slowForward');\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = 'slowForward';\n          break;\n        case 'fastForward':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = 'fastForward';\n          break;\n        default:\n          _this.selectPlaybackRates('fastForward');\n          _this.speedIndex = 0;\n          _this.prevCommand = 'fastForward';\n          if (_this.state.paused) {\n            shouldResumePlayback = true;\n          }\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Rewinds the current media for seeking.\n     * This function changes the playback rate.\n     * If you call `play` or `pause` during rewinding, the playback speed will be set to normal.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.rewind = function () {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: true\n      });\n      var rateForSlowRewind = _this.props.playbackRateHash['slowRewind'];\n      var shouldResumePlayback = false,\n        command = 'rewind';\n      if (_this.video.currentTime === 0) {\n        // Do not rewind if currentTime is 0. We're already at the beginning.\n        return true;\n      }\n      switch (_this.prevCommand) {\n        case 'slowRewind':\n          if (_this.speedIndex === _this.playbackRates.length - 1) {\n            // reached to the end of array => go to rewind\n            _this.selectPlaybackRates(command);\n            _this.speedIndex = 0;\n            _this.prevCommand = command;\n          } else {\n            _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          }\n          break;\n        case 'pause':\n          // If it's possible to slowRewind, do it, otherwise just leave it as normal rewind : QEVENTSEVT-17386\n          if (rateForSlowRewind && rateForSlowRewind.length >= 0) {\n            command = 'slowRewind';\n          }\n          _this.selectPlaybackRates(command);\n          if (_this.state.paused && _this.state.duration > _this.state.currentTime) {\n            shouldResumePlayback = true;\n          }\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n        case 'rewind':\n          _this.speedIndex = _this.clampPlaybackRate(_this.speedIndex + 1);\n          _this.prevCommand = command;\n          break;\n        default:\n          _this.selectPlaybackRates(command);\n          _this.speedIndex = 0;\n          _this.prevCommand = command;\n          break;\n      }\n      _this.setPlaybackRate(_this.selectPlaybackRate(_this.speedIndex));\n      if (shouldResumePlayback) _this.send('play');\n      _this.stopDelayedFeedbackHide();\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.showFeedback();\n      return true;\n    };\n    /**\n     * Sets the playback speed.\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @param {Number} rate - The desired playback rate. This value is passed to the `playbackRate` property of `HTMLMediaElement`.\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/playbackRate|MDN playbackRate property}\n     * @returns {Boolean} Returns true if the speed changes successfully.\n     * @public\n     */\n    _this.setPlaybackSpeed = function (rate) {\n      if (_this.state.sourceUnavailable) {\n        return false;\n      }\n      _this.setState({\n        seekingMode: false\n      });\n      _this.setPlaybackRate(rate);\n      return true;\n    };\n    // Creates a proxy to the video node if Proxy is supported\n    _this.videoProxy = typeof Proxy !== 'function' ? null : new Proxy({}, {\n      get: function get(target, name) {\n        var value = _this.video[name];\n        if (typeof value === 'function') {\n          value = value.bind(_this.video);\n        }\n        return value;\n      },\n      set: function set(target, name, value) {\n        return _this.video[name] = value;\n      }\n    });\n    /**\n     * Returns a proxy to the underlying `<video>` node currently used by the VideoPlayer\n     *\n     * @function\n     * @memberof sandstone/VideoPlayer.VideoPlayerBase.prototype\n     * @public\n     */\n    _this.getVideoNode = function () {\n      return _this.videoProxy || _this.video;\n    };\n    _this.areControlsVisible = function () {\n      return _this.state.mediaControlsVisible;\n    };\n    /**\n     * Sets the playback rate type for video seeking (from the keys of {@link sandstone/VideoPlayer.VideoPlayer.playbackRateHash|playbackRateHash}).\n     *\n     * @param {String} cmd - Key of the playback rate type.\n     * @private\n     */\n    _this.selectPlaybackRates = function (cmd) {\n      _this.playbackRates = _this.props.playbackRateHash[cmd];\n    };\n    /**\n     * Changes playbackRate to a valid value when initiating fast forward or rewind.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @private\n     */\n    _this.clampPlaybackRate = function (idx) {\n      if (!_this.playbackRates) {\n        return;\n      }\n      return idx % _this.playbackRates.length;\n    };\n    /**\n     * Retrieves the playback rate value.\n     *\n     * @param {Number} idx - The index of the desired playback rate.\n     * @returns {Number|String} The playback rate value.\n     * @private\n     */\n    _this.selectPlaybackRate = function (idx) {\n      return _this.playbackRates[idx];\n    };\n    /**\n     * Sets playbackRate.\n     *\n     * @param {Number|String} rate - The desired playback rate.\n     * @private\n     */\n    _this.setPlaybackRate = function (rate) {\n      if (_this.state.seekingMode) {\n        // Stop rewind (if happening)\n        _this.stopRewindJob();\n      }\n\n      // Make sure rate is a string\n      _this.playbackRate = String(rate);\n      var pbNumber = calcNumberValueOfPlaybackRate(_this.playbackRate);\n      if (_platform.platform.type !== 'webos') {\n        // ReactDOM throws error for setting negative value for playbackRate\n        _this.video.playbackRate = pbNumber < 0 ? 0 : pbNumber;\n        if (_this.state.seekingMode) {\n          // For supporting cross browser behavior\n          if (pbNumber < 0) {\n            _this.beginRewind();\n          }\n        }\n      } else {\n        // Set native playback rate\n        _this.video.playbackRate = pbNumber;\n      }\n    };\n    /**\n     * Calculates the time that has elapsed since. This is necessary for browsers until negative\n     * playback rate is directly supported.\n     *\n     * @private\n     */\n    _this.rewindManually = function () {\n      var now = (0, _util.perfNow)(),\n        distance = now - _this.rewindBeginTime,\n        pbRate = calcNumberValueOfPlaybackRate(_this.playbackRate),\n        adjustedDistance = distance * pbRate / 1000;\n      _this.jump(adjustedDistance);\n      _this.stopDelayedMiniFeedbackHide();\n      _this.clearPulsedPlayback();\n      _this.startRewindJob(); // Issue another rewind tick\n    };\n    _this.rewindJob = new _util.Job(_this.rewindManually, 100);\n    /**\n     * Starts rewind job.\n     *\n     * @private\n     */\n    _this.startRewindJob = function () {\n      _this.rewindBeginTime = (0, _util.perfNow)();\n      _this.rewindJob.start();\n    };\n    /**\n     * Stops rewind job.\n     *\n     * @private\n     */\n    _this.stopRewindJob = function () {\n      _this.rewindJob.stop();\n    };\n    /**\n     * Implements custom rewind functionality (until browsers support negative playback rate).\n     *\n     * @private\n     */\n    _this.beginRewind = function () {\n      _this.send('pause');\n      _this.startRewindJob();\n    };\n    //\n    // Handled Media events\n    //\n    _this.addStateToEvent = function (ev) {\n      return _objectSpread({\n        // More props from `ev` may be added here as needed, but a full copy via `...ev`\n        // overloads Storybook's Action Logger and likely has other perf fallout.\n        type: ev.type\n      }, _this.getMediaState());\n    };\n    //\n    // Player Interaction events\n    //\n    _this.onVideoClick = function () {\n      _this.toggleControls();\n    };\n    _this.onSliderChange = function (_ref11) {\n      var value = _ref11.value;\n      var time = value * _this.state.duration;\n      if (_this.preventTimeChange(time)) return;\n      _this.seek(time);\n      _this.sliderScrubbing = false;\n    };\n    _this.handleBack = _this.handle((0, _handle.forwardCustom)('onBack'));\n    _this.handleKnobMove = function (ev) {\n      _this.sliderScrubbing = true;\n\n      // prevent announcing repeatedly when the knob is detached from the progress.\n      // TODO: fix Slider to not send onKnobMove when the knob hasn't, in fact, moved\n      if (_this.sliderKnobProportion !== ev.proportion) {\n        _this.sliderKnobProportion = ev.proportion;\n        var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n        if (!isNaN(seconds)) {\n          var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n            includeHour: true\n          });\n          (0, _handle.forward)('onScrub', _objectSpread(_objectSpread({}, ev), {}, {\n            seconds: seconds,\n            type: 'onScrub'\n          }), _this.props);\n          _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n        }\n      }\n    };\n    _this.handleSliderFocus = function () {\n      var seconds = Math.floor(_this.sliderKnobProportion * _this.video.duration);\n      _this.sliderScrubbing = true;\n      _this.setState({\n        feedbackAction: 'focus',\n        feedbackVisible: true\n      });\n      _this.stopDelayedFeedbackHide();\n      if (!isNaN(seconds)) {\n        var knobTime = (0, _MediaPlayer.secondsToTime)(seconds, getDurFmt(_this.props.locale), {\n          includeHour: true\n        });\n        (0, _handle.forward)('onScrub', {\n          detached: _this.sliderScrubbing,\n          proportion: _this.sliderKnobProportion,\n          seconds: seconds,\n          type: 'onScrub'\n        }, _this.props);\n        _this.announce(\"\".concat((0, _$L[\"default\"])('jump to'), \" \").concat(knobTime), true);\n      }\n    };\n    _this.handleSliderBlur = function () {\n      _this.sliderScrubbing = false;\n      _this.startDelayedFeedbackHide();\n      _this.setState(function () {\n        return {\n          feedbackAction: 'blur',\n          feedbackVisible: true\n        };\n      });\n    };\n    _this.slider5WayPressJob = new _util.Job(function () {\n      _this.setState({\n        slider5WayPressed: false\n      });\n    }, 200);\n    _this.handleSliderKeyDown = function (ev) {\n      var keyCode = ev.keyCode;\n      if ((0, _keymap.is)('enter', keyCode)) {\n        _this.setState({\n          slider5WayPressed: true\n        }, _this.slider5WayPressJob.start());\n      } else if ((0, _keymap.is)('down', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n        if (_spotlight.Spotlight.focus(_this.mediaControlsSpotlightId)) {\n          (0, _handle.preventDefault)(ev);\n          (0, _handle.stopImmediate)(ev);\n        }\n      } else if ((0, _keymap.is)('up', keyCode)) {\n        _spotlight.Spotlight.setPointerMode(false);\n      }\n    };\n    _this.onJumpBackward = _this.handle(forwardWillJumpBackward, function () {\n      return _this.jump(-1 * _this.props.jumpBy);\n    }, forwardJumpBackward);\n    _this.onJumpForward = _this.handle(forwardWillJumpForward, function () {\n      return _this.jump(_this.props.jumpBy);\n    }, forwardJumpForward);\n    _this.handleToggleMore = function (ev) {\n      var showMoreComponents = ev.showMoreComponents,\n        liftDistance = ev.liftDistance;\n      forwardToggleMore(ev, _this.props);\n      if (!showMoreComponents) {\n        _this.startAutoCloseTimeout(); // Restore the timer since we are leaving \"more.\n        // Restore the title-hide now that we're finished with \"more\".\n        _this.startDelayedTitleHide();\n      } else {\n        // Interrupt the title-hide since we don't want it hiding autonomously in \"more\".\n        _this.stopDelayedTitleHide();\n      }\n      _this.playerRef.current.style.setProperty('--liftDistance', \"\".concat(liftDistance, \"px\"));\n      _this.setState(function (_ref12) {\n        var announce = _ref12.announce;\n        return {\n          infoVisible: showMoreComponents,\n          titleVisible: true,\n          announce: announce < AnnounceState.INFO ? AnnounceState.INFO : AnnounceState.DONE\n        };\n      });\n    };\n    _this.handleMediaControlsClose = function (ev) {\n      _this.hideControls();\n      ev.stopPropagation();\n    };\n    _this.setVideoRef = function (video) {\n      _this.video = video;\n    };\n    _this.setTitleRef = function (node) {\n      _this.titleRef = node;\n    };\n    _this.setAnnounceRef = function (node) {\n      _this.announceRef = node;\n    };\n    _this.video = null;\n    _this.pulsedPlaybackRate = null;\n    _this.pulsedPlaybackState = null;\n    _this.prevCommand = _props.noAutoPlay ? 'pause' : 'play';\n    _this.showMiniFeedback = false;\n    _this.speedIndex = 0;\n    _this.seekingMode = true;\n    _this.id = _this.generateId();\n    _this.selectPlaybackRates('fastForward');\n    _this.sliderKnobProportion = 0;\n    _this.mediaControlsSpotlightId = _props.spotlightId + '_mediaControls';\n    _this.jumpButtonPressed = null;\n    _this.playerRef = /*#__PURE__*/(0, _react.createRef)();\n    _this.playbackRate = 1;\n\n    // Re-render-necessary State\n    _this.state = {\n      announce: AnnounceState.READY,\n      currentTime: 0,\n      duration: 0,\n      error: false,\n      loading: false,\n      paused: _props.noAutoPlay,\n      playbackRate: 1,\n      titleOffsetHeight: 0,\n      bottomOffsetHeight: 0,\n      // Non-standard state computed from properties\n      bottomControlsRendered: false,\n      feedbackAction: 'idle',\n      feedbackVisible: false,\n      infoVisible: false,\n      mediaControlsVisible: false,\n      mediaSliderVisible: false,\n      miniFeedbackVisible: false,\n      proportionLoaded: 0,\n      proportionPlayed: 0,\n      sourceUnavailable: true,\n      titleVisible: true\n    };\n    if (_props.setApiProvider) {\n      _props.setApiProvider(_assertThisInitialized(_this));\n    }\n    return _this;\n  }\n  _createClass(VideoPlayerBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      (0, _dispatcher.on)('mousemove', this.activityDetected);\n      if (_platform.platform.touchEvent) {\n        (0, _dispatcher.on)('touchmove', this.activityDetected);\n      }\n      document.addEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.addEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.startDelayedFeedbackHide();\n      if (this.context && typeof this.context === 'function') {\n        this.floatingLayerController = this.context(function () {});\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (\n      // Use shallow props compare instead of source comparison to support possible changes\n      // from mediaComponent.\n      (0, _util.shallowEqual)(this.props, nextProps) && !this.state.miniFeedbackVisible && this.state.miniFeedbackVisible === nextState.miniFeedbackVisible && !this.state.mediaSliderVisible && this.state.mediaSliderVisible === nextState.mediaSliderVisible && this.state.loading === nextState.loading && this.props.loading === nextProps.loading && (this.state.currentTime !== nextState.currentTime || this.state.proportionPlayed !== nextState.proportionPlayed || this.state.sliderTooltipTime !== nextState.sliderTooltipTime)) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.titleRef && this.state.infoVisible && (!prevState.infoVisible || !(0, _equals[\"default\"])(this.props.infoComponents, prevProps.infoComponents))) {\n        var node = this.titleRef;\n        node.style.setProperty('--infoComponentsOffset', \"\".concat(node.offsetHeight, \"px\"));\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible !== this.state.mediaControlsVisible || !this.state.mediaSliderVisible && prevState.mediaSliderVisible !== this.state.mediaSliderVisible) {\n        this.floatingLayerController.notify({\n          action: 'closeAll'\n        });\n      }\n      if (this.props.spotlightId !== prevProps.spotlightId) {\n        this.mediaControlsSpotlightId = this.props.spotlightId + '_mediaControls';\n      }\n      if (!this.state.mediaControlsVisible && prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: false\n        }, this.props);\n        this.stopAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          // If last focused item were in the media controls or slider, we need to explicitly\n          // blur the element when MediaControls hide. See ENYO-5648\n          var current = _spotlight.Spotlight.getCurrent();\n          var bottomControls = document.querySelector(\".\".concat(_VideoPlayerModule[\"default\"].bottom));\n          if (current && bottomControls && bottomControls.contains(current)) {\n            current.blur();\n          }\n\n          // when in pointer mode, the focus call below will only update the last focused for\n          // the video player and not set the active container to the video player which will\n          // cause focus to land back on the media controls button when spotlight restores\n          // focus.\n          if (_spotlight.Spotlight.getPointerMode()) {\n            _spotlight.Spotlight.setActiveContainer(this.props.spotlightId);\n          }\n\n          // Set focus to the hidden spottable control - maintaining focus on available spottable\n          // controls, which prevents an additional 5-way attempt in order to re-show media controls\n          _spotlight.Spotlight.focus(\".\".concat(_VideoPlayerModule[\"default\"].controlsHandleAbove));\n        }\n      } else if (this.state.mediaControlsVisible && !prevState.mediaControlsVisible) {\n        forwardControlsAvailable({\n          available: true\n        }, this.props);\n        this.startAutoCloseTimeout();\n        if (!this.props.spotlightDisabled) {\n          var _current = _spotlight.Spotlight.getCurrent();\n          if (!_current || this.playerRef.current.contains(_current)) {\n            // Set focus within media controls when they become visible.\n            if (_spotlight.Spotlight.focus(this.mediaControlsSpotlightId) && this.jumpButtonPressed === 0) {\n              this.jumpButtonPressed = null;\n            }\n          }\n        }\n      }\n\n      // Once video starts loading it queues bottom control render until idle\n      if (this.state.bottomControlsRendered && !prevState.bottomControlsRendered && !this.state.mediaControlsVisible) {\n        this.showControls();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _dispatcher.off)('mousemove', this.activityDetected);\n      if (_platform.platform.touchEvent) {\n        (0, _dispatcher.off)('touchmove', this.activityDetected);\n      }\n      document.removeEventListener('keydown', this.handleGlobalKeyDown, {\n        capture: true\n      });\n      document.removeEventListener('wheel', this.activityDetected, {\n        capture: true\n      });\n      this.stopRewindJob();\n      this.stopAutoCloseTimeout();\n      this.stopDelayedTitleHide();\n      this.stopDelayedFeedbackHide();\n      this.stopDelayedMiniFeedbackHide();\n      this.announceJob.stop();\n      this.renderBottomControl.stop();\n      this.slider5WayPressJob.stop();\n      if (this.floatingLayerController) {\n        this.floatingLayerController.unregister();\n      }\n    }\n  }, {\n    key: \"isTimeBeyondSelection\",\n    value: function isTimeBeyondSelection(time) {\n      var selection = this.props.selection;\n\n      // if selection isn't set or only contains the starting value, there isn't a valid selection\n      // with which to test the time\n      if (selection != null && selection.length >= 2) {\n        var _selection = _slicedToArray(selection, 2),\n          start = _selection[0],\n          end = _selection[1];\n        return time > end || time < start;\n      }\n      return false;\n    }\n  }, {\n    key: \"preventTimeChange\",\n    value: function preventTimeChange(time) {\n      return this.isTimeBeyondSelection(time) && !(0, _handle.forwardWithPrevent)('onSeekOutsideSelection', {\n        type: 'onSeekOutsideSelection',\n        time: time\n      }, this.props);\n    }\n  }, {\n    key: \"getControlsAriaProps\",\n    value: function getControlsAriaProps() {\n      if (this.state.announce === AnnounceState.TITLE) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_title \").concat(this.id, \"_mediaControls_actionGuide\"),\n          'aria-live': 'off',\n          role: 'alert'\n        };\n      } else if (this.state.announce === AnnounceState.INFO) {\n        return {\n          'aria-labelledby': \"\".concat(this.id, \"_mediaTitle_info\"),\n          role: 'region'\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        backButtonAriaLabel = _this$props.backButtonAriaLabel,\n        className = _this$props.className,\n        disabled = _this$props.disabled,\n        infoComponents = _this$props.infoComponents,\n        initialJumpDelay = _this$props.initialJumpDelay,\n        jumpDelay = _this$props.jumpDelay,\n        loading = _this$props.loading,\n        locale = _this$props.locale,\n        mediaControlsComponent = _this$props.mediaControlsComponent,\n        no5WayJump = _this$props.no5WayJump,\n        noAutoPlay = _this$props.noAutoPlay,\n        noMiniFeedback = _this$props.noMiniFeedback,\n        noSlider = _this$props.noSlider,\n        noSpinner = _this$props.noSpinner,\n        selection = _this$props.selection,\n        spotlightDisabled = _this$props.spotlightDisabled,\n        spotlightId = _this$props.spotlightId,\n        style = _this$props.style,\n        thumbnailComponent = _this$props.thumbnailComponent,\n        thumbnailSrc = _this$props.thumbnailSrc,\n        title = _this$props.title,\n        VideoComponent = _this$props.videoComponent,\n        mediaProps = _objectWithoutProperties(_this$props, _excluded2);\n      delete mediaProps.announce;\n      delete mediaProps.autoCloseTimeout;\n      delete mediaProps.children;\n      delete mediaProps.feedbackHideDelay;\n      delete mediaProps.jumpBy;\n      delete mediaProps.miniFeedbackHideDelay;\n      delete mediaProps.noAutoShowMediaControls;\n      delete mediaProps.noMediaSliderFeedback;\n      delete mediaProps.onBack;\n      delete mediaProps.onControlsAvailable;\n      delete mediaProps.onFastForward;\n      delete mediaProps.onJumpBackward;\n      delete mediaProps.onJumpForward;\n      delete mediaProps.onPause;\n      delete mediaProps.onPlay;\n      delete mediaProps.onRewind;\n      delete mediaProps.onWillFastForward;\n      delete mediaProps.onWillJumpBackward;\n      delete mediaProps.onWillJumpForward;\n      delete mediaProps.onWillPause;\n      delete mediaProps.onWillPlay;\n      delete mediaProps.onWillRewind;\n      delete mediaProps.onScrub;\n      delete mediaProps.onSeekFailed;\n      delete mediaProps.onSeekOutsideSelection;\n      delete mediaProps.onToggleMore;\n      delete mediaProps.pauseAtEnd;\n      delete mediaProps.playbackRateHash;\n      delete mediaProps.seekDisabled;\n      delete mediaProps.setApiProvider;\n      delete mediaProps.thumbnailUnavailable;\n      delete mediaProps.titleHideDelay;\n      delete mediaProps.videoPath;\n      mediaProps.autoPlay = !noAutoPlay;\n      mediaProps.className = _VideoPlayerModule[\"default\"].video;\n      mediaProps.controls = false;\n      mediaProps.mediaComponent = 'video';\n      mediaProps.onLoadStart = this.handleLoadStart;\n      mediaProps.onUpdate = this.handleEvent;\n      mediaProps.ref = this.setVideoRef;\n      var controlsAriaProps = this.getControlsAriaProps();\n      var proportionSelection = selection;\n      if (proportionSelection != null && this.state.duration) {\n        proportionSelection = selection.map(function (t) {\n          return t / _this2.state.duration;\n        });\n      }\n      var durFmt = getDurFmt(locale);\n      var controlsHandleAboveHoldConfig = getControlsHandleAboveHoldConfig({\n        frequency: jumpDelay,\n        time: initialJumpDelay\n      });\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(RootContainer, {\n        className: _VideoPlayerModule[\"default\"].videoPlayer + ' enact-fit' + (className ? ' ' + className : ''),\n        onClick: this.activityDetected,\n        ref: this.playerRef,\n        spotlightDisabled: spotlightDisabled,\n        spotlightId: spotlightId,\n        style: style,\n        children: [\n        // Duplicating logic from <ComponentOverride /> until enzyme supports forwardRef\n        VideoComponent && ((typeof VideoComponent === 'function' || typeof VideoComponent === 'string') && /*#__PURE__*/(0, _jsxRuntime.jsx)(VideoComponent, _objectSpread({}, mediaProps)) || /*#__PURE__*/(0, _react.isValidElement)(VideoComponent) && ( /*#__PURE__*/(0, _react.cloneElement)(VideoComponent, mediaProps))) || null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_Overlay[\"default\"], {\n          bottomControlsVisible: this.state.mediaControlsVisible,\n          onClick: this.onVideoClick,\n          children: !noSpinner && (this.state.loading || loading) ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spinner[\"default\"], {\n            centered: true\n          }) : null\n        }), this.state.bottomControlsRendered ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", _objectSpread(_objectSpread({\n          className: _VideoPlayerModule[\"default\"].fullscreen\n        }, controlsAriaProps), {}, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackContent[\"default\"], {\n            className: _VideoPlayerModule[\"default\"].miniFeedback,\n            playbackRate: this.pulsedPlaybackRate || this.selectPlaybackRate(this.speedIndex),\n            playbackState: this.pulsedPlaybackState || this.prevCommand,\n            visible: this.state.miniFeedbackVisible && !noMiniFeedback,\n            children: (0, _MediaPlayer.secondsToTime)(this.state.sliderTooltipTime, durFmt)\n          }), this.state.mediaControlsVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button[\"default\"], {\n            \"aria-label\": backButtonAriaLabel == null ? (0, _$L[\"default\"])('go to previous') : backButtonAriaLabel,\n            className: _VideoPlayerModule[\"default\"].back,\n            icon: \"arrowhookleft\",\n            iconFlip: \"auto\",\n            onClick: this.handleBack,\n            size: \"small\"\n          }) : null, /*#__PURE__*/(0, _jsxRuntime.jsxs)(ControlsContainer, {\n            className: _VideoPlayerModule[\"default\"].bottom + (this.state.mediaControlsVisible ? '' : ' ' + _VideoPlayerModule[\"default\"].hidden) + (this.state.infoVisible ? ' ' + _VideoPlayerModule[\"default\"].lift : ''),\n            spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n            children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].infoFrame,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaTitle[\"default\"], {\n                id: \"\".concat(this.id, \"_mediaTitle\"),\n                infoVisible: this.state.infoVisible,\n                ref: this.setTitleRef,\n                title: title,\n                visible: this.state.titleVisible && this.state.mediaControlsVisible,\n                children: infoComponents\n              }), noSlider ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                current: this.state.currentTime,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }) : null, noSlider ? null : /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n              className: _VideoPlayerModule[\"default\"].sliderContainer,\n              children: [this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noTotalTime: true,\n                current: this.state.currentTime,\n                formatter: durFmt\n              }) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.MediaSlider, {\n                backgroundProgress: this.state.proportionLoaded,\n                disabled: disabled || this.state.sourceUnavailable,\n                forcePressed: this.state.slider5WayPressed,\n                onBlur: this.handleSliderBlur,\n                onChange: this.onSliderChange,\n                onFocus: this.handleSliderFocus,\n                onKeyDown: this.handleSliderKeyDown,\n                onKnobMove: this.handleKnobMove,\n                selection: proportionSelection,\n                spotlightDisabled: spotlightDisabled || !this.state.mediaControlsVisible,\n                value: this.state.proportionPlayed,\n                visible: this.state.mediaSliderVisible,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_FeedbackTooltip[\"default\"], {\n                  action: this.state.feedbackAction,\n                  duration: this.state.duration,\n                  formatter: durFmt,\n                  hidden: !this.state.feedbackVisible || this.state.sourceUnavailable,\n                  playbackRate: this.selectPlaybackRate(this.speedIndex),\n                  playbackState: this.prevCommand,\n                  thumbnailComponent: thumbnailComponent,\n                  thumbnailDeactivated: this.props.thumbnailUnavailable,\n                  thumbnailSrc: thumbnailSrc\n                })\n              }), this.state.mediaSliderVisible ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_MediaPlayer.Times, {\n                noCurrentTime: true,\n                total: this.state.duration,\n                formatter: durFmt\n              }) : null]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_ComponentOverride[\"default\"], {\n              component: mediaControlsComponent,\n              id: \"\".concat(this.id, \"_mediaControls\"),\n              initialJumpDelay: initialJumpDelay,\n              jumpDelay: jumpDelay,\n              mediaDisabled: disabled || this.state.sourceUnavailable,\n              no5WayJump: no5WayJump,\n              onClose: this.handleMediaControlsClose,\n              onFastForward: this.handleFastForward,\n              onJumpBackwardButtonClick: this.onJumpBackward,\n              onJumpForwardButtonClick: this.onJumpForward,\n              onPause: this.handlePause,\n              onPlay: this.handlePlay,\n              onRewind: this.handleRewind,\n              onToggleMore: this.handleToggleMore,\n              paused: this.state.paused,\n              spotlightId: this.mediaControlsSpotlightId,\n              spotlightDisabled: !this.state.mediaControlsVisible || spotlightDisabled,\n              visible: this.state.mediaControlsVisible\n            })]\n          })]\n        })) : null, /*#__PURE__*/(0, _jsxRuntime.jsx)(SpottableDiv\n        // This captures spotlight focus for use with 5-way.\n        // It's non-visible but lives at the top of the VideoPlayer.\n        , {\n          className: _VideoPlayerModule[\"default\"].controlsHandleAbove,\n          holdConfig: controlsHandleAboveHoldConfig,\n          onDown: this.handleControlsHandleAboveDown,\n          onHold: this.handleControlsHandleAboveHold,\n          onKeyDown: this.handleControlsHandleAboveKeyDown,\n          onKeyUp: this.handleControlsHandleAboveKeyUp,\n          onSpotlightDown: this.showControls,\n          selectionKeys: controlsHandleAboveSelectionKeys,\n          spotlightDisabled: this.state.mediaControlsVisible || spotlightDisabled\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Announce[\"default\"], {\n          ref: this.setAnnounceRef\n        })]\n      });\n    }\n  }]);\n  return VideoPlayerBase;\n}(_react.Component), _class.displayName = 'VideoPlayerBase', _class.propTypes = /** @lends sandstone/VideoPlayer.VideoPlayerBase.prototype */{\n  /**\n   * passed by AnnounceDecorator for accessibility\n   *\n   * @type {Function}\n   * @private\n   */\n  announce: _propTypes2[\"default\"].func,\n  /**\n   * The time (in milliseconds) before the control buttons will hide.\n   *\n   * Setting this to 0 or `null` disables closing, requiring user input to open and close.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  autoCloseTimeout: _propTypes2[\"default\"].number,\n  /**\n   * Sets the hint string read when focusing the back button.\n   *\n   * @type {String}\n   * @default 'go to previous'\n   * @public\n   */\n  backButtonAriaLabel: _propTypes2[\"default\"].string,\n  /**\n   * Removes interactive capability from this component. This includes, but is not limited to,\n   * key-press events, most clickable buttons, and prevents the showing of the controls.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  disabled: _propTypes2[\"default\"].bool,\n  /**\n   * Amount of time (in milliseconds) after which the feedback text/icon part of the slider's\n   * tooltip will automatically hidden after the last action.\n   * Setting this to 0 or `null` disables feedbackHideDelay; feedback will always be present.\n   *\n   * @type {Number}\n   * @default 3000\n   * @public\n   */\n  feedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Components placed below the title.\n   *\n   * Typically these will be media descriptor icons, like how many audio channels, what codec\n   * the video uses, but can also be a description for the video or anything else that seems\n   * appropriate to provide information about the video to the user.\n   *\n   * @type {Node}\n   * @public\n   */\n  infoComponents: _propTypes2[\"default\"].node,\n  /**\n   * The number of milliseconds that the player will pause before firing the\n   * first jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 400\n   * @public\n   */\n  initialJumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * The number of seconds the player should skip forward or backward when a \"jump\" button is\n   * pressed.\n   *\n   * @type {Number}\n   * @default 30\n   * @public\n   */\n  jumpBy: _propTypes2[\"default\"].number,\n  /**\n   * The number of milliseconds that the player will throttle before firing a\n   * jump event on a right or left pulse.\n   *\n   * @type {Number}\n   * @default 200\n   * @public\n   */\n  jumpDelay: _propTypes2[\"default\"].number,\n  /**\n   * Manually set the loading state of the media, in case you have information that\n   * `VideoPlayer` does not have.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  loading: _propTypes2[\"default\"].bool,\n  /**\n   * The current locale as a\n   * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n   *\n   * @type {String}\n   * @public\n   */\n  locale: _propTypes2[\"default\"].string,\n  /**\n   * Overrides the default media control component to support customized behaviors.\n   *\n   * The provided component will receive the following props from `VideoPlayer`:\n   *\n   * * `initialJumpDelay` - Time (in ms) to wait before starting a jump\n   * * `jumpDelay` -  - Time (in ms) to wait between jumps\n   * * `mediaDisabled` - `true` when the media controls are not interactive\n   * * `no5WayJump` - `true` when 5-way jumping is disabled\n   * * `onClose` - Called when cancel key is pressed when the media controls are visible\n   * * `onFastForward` - Called when the media is fast forwarded via a key event\n   * * `onJump` - Called when the media jumps either forward or backward\n   * * `onJumpBackwardButtonClick` - Called when the jump backward button is pressed\n   * * `onJumpForwardButtonClick` - Called when the jump forward button is pressed\n   * * `onKeyDown` - Called when a key is pressed\n   * * `onPause` - Called when the media is paused via a key event\n   * * `onPlay` - Called when the media is played via a key event\n   * * `onRewind` - Called when the media is rewound via a key event\n   * * `onToggleMore` - Called when the more components are hidden or shown\n   * * `paused` - `true` when the media is paused\n   * * `spotlightId` - The spotlight container Id for the media controls\n   * * `spotlightDisabled` - `true` when spotlight is disabled for the media controls\n   * * `visible` - `true` when the media controls should be displayed\n   *\n   * @type {Component|Element}\n   * @default sandstone/MediaPlayer.MediaControls\n   * @public\n   */\n  mediaControlsComponent: _propTypes[\"default\"].componentOverride,\n  /**\n   * Amount of time (in milliseconds), after the last user action, that the `miniFeedback`\n   * will automatically hide.\n   * Setting this to 0 or `null` disables `miniFeedbackHideDelay`; `miniFeedback` will always\n   * be present.\n   *\n   * @type {Number}\n   * @default 2000\n   * @public\n   */\n  miniFeedbackHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Disable audio for this video.\n   *\n   * In a TV context, this is handled by the remote control, not programmatically in the\n   * VideoPlayer API.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  muted: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of using left and right keys for seeking.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  no5WayJump: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of playing a video immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoPlay: _propTypes2[\"default\"].bool,\n  /**\n   * Prevents the default behavior of showing media controls immediately after it's loaded.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noAutoShowMediaControls: _propTypes2[\"default\"].bool,\n  /**\n   * Hides media slider feedback when fast forward or rewind while media controls are hidden.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMediaSliderFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the mini feedback.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noMiniFeedback: _propTypes2[\"default\"].bool,\n  /**\n   * Removes the media slider.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  noSlider: _propTypes2[\"default\"].bool,\n  /**\n   * Removes spinner while loading.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  noSpinner: _propTypes2[\"default\"].bool,\n  /**\n   * Called when the back button is clicked.\n   *\n   * @type {Function}\n   * @public\n   */\n  onBack: _propTypes2[\"default\"].func,\n  /**\n   * Called when the player's controls change availability, whether they are shown\n   * or hidden.\n   *\n   * The current status is sent as the first argument in an object with a key `available`\n   * which will be either `true` or `false`. (e.g.: `onControlsAvailable({available: true})`)\n   *\n   * @type {Function}\n   * @public\n   */\n  onControlsAvailable: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been fast forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onFastForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpBackward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpBackward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user clicks the JumpForward button.\n   *\n   * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n   *\n   * @type {Function}\n   * @public\n   */\n  onJumpForward: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been paused.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPause: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been played.\n   *\n   * @type {Function}\n   * @public\n   */\n  onPlay: _propTypes2[\"default\"].func,\n  /**\n   * Called when the video has been rewound.\n   *\n   * @type {Function}\n   * @public\n   */\n  onRewind: _propTypes2[\"default\"].func,\n  /**\n   * Called when the user is moving the VideoPlayer's Slider knob independently of\n   * the current playback position.\n   *\n   * It is passed an object with a `seconds` key (float value) to indicate the current time\n   * index. It can be used to update the `thumbnailSrc` to the reflect the current scrub\n   * position.\n   *\n   * @type {Function}\n   * @public\n   */\n  onScrub: _propTypes2[\"default\"].func,\n  /**\n   * Called when seek is attempted while `seekDisabled` is true.\n   *\n   * @type {Function}\n   */\n  onSeekFailed: _propTypes2[\"default\"].func,\n  /**\n   * Called when seeking outside of the current `selection` range.\n   *\n   * By default, the seek will still be performed. Calling `preventDefault()` on the event\n   * will prevent the seek operation.\n   *\n   * @type {Function}\n   * @public\n   */\n  onSeekOutsideSelection: _propTypes2[\"default\"].func,\n  /**\n   * Called when the visibility of more components is changed\n   *\n   * Event payload includes:\n   *\n   * * `type` - Type of event, `'onToggleMore'`\n   * * `showMoreComponents` - `true` when the components are visible`\n   * * `liftDistance` - The distance, in pixels, the component animates\n   *`\n   * @type {Function}\n   * @public\n   */\n  onToggleMore: _propTypes2[\"default\"].func,\n  /**\n   * Called once before the video is forwarded.\n   *\n   * @type {Function}\n   * @public\n   */\n  onWillFastForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump backwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpBackward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is jump forwarded.\n    *\n    * Is passed a {@link sandstone/VideoPlayer.videoStatus} as the first argument.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillJumpForward: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is paused.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPause: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is played\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillPlay: _propTypes2[\"default\"].func,\n  /**\n    * Called once before the video is rewound.\n    *\n    * @type {Function}\n    * @public\n    */\n  onWillRewind: _propTypes2[\"default\"].func,\n  /**\n   * Pauses the video when it reaches either the start or the end of the video during rewind,\n   * slow rewind, fast forward, or slow forward.\n   *\n   * @type {Boolean}\n   * @default false\n   * @public\n   */\n  pauseAtEnd: _propTypes2[\"default\"].bool,\n  /**\n   * Mapping of playback rate names to playback rate values that may be set.\n   *\n   * @type {sandstone/VideoPlayer.playbackRateHash}\n   * @default {\n   *\tfastForward: ['2', '4', '8', '16'],\n   *\trewind: ['-2', '-4', '-8', '-16'],\n   *\tslowForward: ['1/4', '1/2'],\n   *\tslowRewind: ['-1/2', '-1']\n   * }\n   * @public\n   */\n  playbackRateHash: _propTypes2[\"default\"].shape({\n    fastForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    rewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowForward: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number])),\n    slowRewind: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].number]))\n  }),\n  /**\n   * Disables seek function.\n   *\n   * Note that jump by arrow keys will also be disabled when `true`.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  seekDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * A range of the video to display as selected.\n   *\n   * The value of `selection` may either be:\n   * * `null` or `undefined` for no selection,\n   * * a single-element array with the start time of the selection\n   * * a two-element array containing both the start and end time of the selection in seconds\n   *\n   * When the start time is specified, the media slider will show filled starting at that\n   * time to the current time.\n   *\n   * When the end time is specified, the slider's background will be filled between the two\n   * times.\n   *\n   * @type {Number[]}\n   * @public\n   */\n  selection: _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number),\n  /**\n   * Registers the VideoPlayer component with an\n   * {@link core/internal/ApiDecorator.ApiDecorator}.\n   *\n   * @type {Function}\n   * @private\n   */\n  setApiProvider: _propTypes2[\"default\"].func,\n  /**\n   * The video source.\n   *\n   * Any children `<source>` tag elements of {@link sandstone/VideoPlayer|VideoPlayer} will\n   * be sent directly to the `videoComponent` as video sources.\n   *\n   * @type {Node}\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source\n   * @public\n   */\n  source: _propTypes2[\"default\"].node,\n  /**\n   * Disables spotlight navigation into the component.\n   *\n   * @type {Boolean}\n   * @public\n   */\n  spotlightDisabled: _propTypes2[\"default\"].bool,\n  /**\n   * The spotlight container ID for the player.\n   *\n   * @type {String}\n   * @public\n   * @default 'videoPlayer'\n   */\n  spotlightId: _propTypes2[\"default\"].string,\n  /**\n   * The thumbnail component to be used instead of the built-in version.\n   *\n   * The internal thumbnail style will not be applied to this component. This component\n   * follows the same rules as the built-in version.\n   *\n   * @type {String|Component|Element}\n   * @public\n   */\n  thumbnailComponent: _propTypes[\"default\"].renderableOverride,\n  /**\n   * Thumbnail image source to show on the slider knob.\n   *\n   * This is a standard {@link sandstone/Image} component so it supports all of the same\n   * options for the `src` property. If no `thumbnailComponent` and no `thumbnailSrc` is set,\n   * no tooltip will display.\n   *\n   * @type {String|Object}\n   * @public\n   */\n  thumbnailSrc: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].object]),\n  /**\n  * Enables the thumbnail transition from opaque to translucent.\n  *\n  * @type {Boolean}\n  * @public\n  */\n  thumbnailUnavailable: _propTypes2[\"default\"].bool,\n  /**\n   * Title for the video being played.\n   *\n   * @type {String|Node}\n   * @public\n   */\n  title: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].string, _propTypes2[\"default\"].node]),\n  /**\n   * The time (in milliseconds) before the title disappears from the controls.\n   *\n   * Setting this to `0` disables hiding.\n   *\n   * @type {Number}\n   * @default 5000\n   * @public\n   */\n  titleHideDelay: _propTypes2[\"default\"].number,\n  /**\n   * Video component to use.\n   *\n   * The default renders an `HTMLVideoElement`. Custom video components must have a similar\n   * API structure, exposing the following APIs:\n   *\n   * Properties:\n   * * `currentTime` {Number} - Playback index of the media in seconds\n   * * `duration` {Number} - Media's entire duration in seconds\n   * * `error` {Boolean} - `true` if video playback has errored.\n   * * `loading` {Boolean} - `true` if video playback is loading.\n   * * `paused` {Boolean} - Playing vs paused state. `true` means the media is paused\n   * * `playbackRate` {Number} - Current playback rate, as a number\n   * * `proportionLoaded` {Number} - A value between `0` and `1`\n   *\trepresenting the proportion of the media that has loaded\n   * * `proportionPlayed` {Number} - A value between `0` and `1` representing the\n   *\tproportion of the media that has already been shown\n   *\n   * Events:\n   * * `onLoadStart` - Called when the video starts to load\n   * * `onUpdate` - Sent when any of the properties were updated\n   *\n   * Methods:\n   * * `play()` - play video\n   * * `pause()` - pause video\n   * * `load()` - load video\n   *\n   * The {@link sandstone/VideoPlayer.Video.source|source} property is passed to\n   * the video component as a child node.\n   *\n   * @type {Component|Element}\n   * @default {@link ui/Media.Media}\n   * @public\n   */\n  videoComponent: _propTypes[\"default\"].componentOverride\n}, _class.contextType = _FloatingLayerDecorator.FloatingLayerContext, _class.defaultProps = {\n  autoCloseTimeout: 5000,\n  feedbackHideDelay: 3000,\n  initialJumpDelay: 400,\n  jumpBy: 30,\n  jumpDelay: 200,\n  mediaControlsComponent: _MediaPlayer.MediaControls,\n  miniFeedbackHideDelay: 2000,\n  playbackRateHash: {\n    fastForward: ['2', '4', '8', '16'],\n    rewind: ['-2', '-4', '-8', '-16'],\n    slowForward: ['1/4', '1/2'],\n    slowRewind: ['-1/2', '-1']\n  },\n  spotlightId: 'videoPlayer',\n  titleHideDelay: 5000,\n  videoComponent: _Media[\"default\"]\n}, _class);\n\n/**\n * A standard HTML5 video player for Sandstone. It behaves, responds to, and operates like a\n * `<video>` tag in its support for `<source>`.  It also accepts custom tags such as\n * `<infoComponents>` for displaying additional information in the title area and `<MediaControls>`\n * for handling media playback controls and adding more controls.\n *\n * Example usage:\n * ```\n *\t<VideoPlayer title=\"Hilarious Cat Video\" poster=\"http://my.cat.videos/boots-poster.jpg\">\n *\t\t<source src=\"http://my.cat.videos/boots.mp4\" type=\"video/mp4\" />\n *\t\t<infoComponents>A video about my cat Boots, wearing boots.</infoComponents>\n *\t\t<MediaControls>\n *\t\t\t<leftComponents><Button backgroundOpacity=\"translucent\" icon=\"star\" /></leftComponents>\n *\t\t\t<rightComponents><Button backgroundOpacity=\"translucent\" icon=\"notification\" /></rightComponents>\n *\n *\t\t\t<Button backgroundOpacity=\"translucent\">Add To Favorites</Button>\n *\t\t\t<Button backgroundOpacity=\"translucent\" icon=\"search\" />\n *\t\t</MediaControls>\n *\t</VideoPlayer>\n * ```\n *\n * To invoke methods (e.g.: `fastForward()`) or get the current state (`getMediaState()`), store a\n * ref to the `VideoPlayer` within your component:\n *\n * ```\n * \t...\n *\n * \tsetVideoPlayer = (node) => {\n * \t\tthis.videoPlayer = node;\n * \t}\n *\n * \tplay () {\n * \t\tthis.videoPlayer.play();\n * \t}\n *\n * \trender () {\n * \t\treturn (\n * \t\t\t<VideoPlayer ref={this.setVideoPlayer} />\n * \t\t);\n * \t}\n * ```\n *\n * @class VideoPlayer\n * @memberof sandstone/VideoPlayer\n * @mixes ui/Slottable.Slottable\n * @ui\n * @public\n */\nvar VideoPlayer = exports.VideoPlayer = (0, _ApiDecorator[\"default\"])({\n  api: ['areControlsVisible', 'fastForward', 'getMediaState', 'getVideoNode', 'hideControls', 'jump', 'pause', 'play', 'rewind', 'seek', 'setPlaybackSpeed', 'showControls', 'showFeedback', 'toggleControls']\n}, (0, _I18nDecorator.I18nContextDecorator)({\n  localeProp: 'locale'\n}, (0, _Slottable[\"default\"])({\n  slots: ['infoComponents', 'mediaControlsComponent', 'source', 'thumbnailComponent', 'videoComponent']\n}, (0, _FloatingLayer.FloatingLayerDecorator)({\n  floatLayerId: 'videoPlayerFloatingLayer'\n}, (0, _Skinnable[\"default\"])(VideoPlayerBase)))));\nvar _default = exports[\"default\"] = VideoPlayer;"],"mappings":"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ACA;EACEpU,gBAAgB,EAAEnN,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EAC/C;AACF;AACA;AACA;AACA;AACA;AACA;EACE1F,mBAAmB,EAAE9b,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM;EAClD;AACF;AACA;AACA;AACA;AACA;AACA;EACElZ,QAAQ,EAAEvI,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEtS,iBAAiB,EAAEpP,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EAChD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACElH,cAAc,EAAEta,WAAW,CAAC,SAAS,CAAC,CAAC8Y,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEkD,gBAAgB,EAAEhc,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EAC/C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEnP,MAAM,EAAErS,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEvF,SAAS,EAAEjc,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EACxC;AACF;AACA;AACA;AACA;AACA;AACA;EACE5R,OAAO,EAAE5P,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACpC;AACF;AACA;AACA;AACA;AACA;AACA;EACEjX,MAAM,EAAEzK,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEvF,sBAAsB,EAAEld,UAAU,CAAC,SAAS,CAAC,CAAC2iB,iBAAiB;EAC/D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEvR,qBAAqB,EAAEpQ,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EACpD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEI,KAAK,EAAE5hB,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EAClC;AACF;AACA;AACA;AACA;AACA;EACElZ,UAAU,EAAExI,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;EACEzQ,UAAU,EAAEjR,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;EACEpQ,uBAAuB,EAAEtR,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACpD;AACF;AACA;AACA;AACA;AACA;AACA;EACE3R,qBAAqB,EAAE/P,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EAClD;AACF;AACA;AACA;AACA;AACA;AACA;EACEvF,cAAc,EAAEnc,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;EACEtF,QAAQ,EAAEpc,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACrC;AACF;AACA;AACA;AACA;AACA;EACErF,SAAS,EAAErc,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACtC;AACF;AACA;AACA;AACA;AACA;EACE7E,MAAM,EAAE7c,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACnC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEzE,mBAAmB,EAAE9c,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAChD;AACF;AACA;AACA;AACA;AACA;EACExE,aAAa,EAAE/c,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC1C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACErJ,cAAc,EAAElY,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEpJ,aAAa,EAAEnY,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC1C;AACF;AACA;AACA;AACA;AACA;EACEvE,OAAO,EAAEhd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACpC;AACF;AACA;AACA;AACA;AACA;EACEtE,MAAM,EAAEjd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACnC;AACF;AACA;AACA;AACA;AACA;EACErE,QAAQ,EAAEld,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACrC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE9D,OAAO,EAAEzd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACpC;AACF;AACA;AACA;AACA;EACE7D,YAAY,EAAE1d,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE5D,sBAAsB,EAAE3d,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACnD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE3D,YAAY,EAAE5d,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;EACEpE,iBAAiB,EAAEnd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC9C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEnE,kBAAkB,EAAEpd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC/C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACElE,iBAAiB,EAAErd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC9C;AACF;AACA;AACA;AACA;AACA;EACEjE,WAAW,EAAEtd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACxC;AACF;AACA;AACA;AACA;AACA;EACEhE,UAAU,EAAEvd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;EACE/D,YAAY,EAAExd,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEjN,UAAU,EAAEtU,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACElM,gBAAgB,EAAExV,WAAW,CAAC,SAAS,CAAC,CAAC6hB,KAAK,CAAC;IAC7C7P,WAAW,EAAEhS,WAAW,CAAC,SAAS,CAAC,CAAC8hB,OAAO,CAAC9hB,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM,CAAC,CAAC,CAAC;IAC7I1P,MAAM,EAAE9R,WAAW,CAAC,SAAS,CAAC,CAAC8hB,OAAO,CAAC9hB,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM,CAAC,CAAC,CAAC;IACxIQ,WAAW,EAAEhiB,WAAW,CAAC,SAAS,CAAC,CAAC8hB,OAAO,CAAC9hB,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM,CAAC,CAAC,CAAC;IAC7IS,UAAU,EAAEjiB,WAAW,CAAC,SAAS,CAAC,CAAC8hB,OAAO,CAAC9hB,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM,CAAC,CAAC;EAC7I,CAAC,CAAC;EACF;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEpP,YAAY,EAAEpS,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACzC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEpG,SAAS,EAAEtb,WAAW,CAAC,SAAS,CAAC,CAAC8hB,OAAO,CAAC9hB,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM,CAAC;EACxE;AACF;AACA;AACA;AACA;AACA;AACA;EACElI,cAAc,EAAEtZ,WAAW,CAAC,SAAS,CAAC,CAACuhB,IAAI;EAC3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEta,MAAM,EAAEjH,WAAW,CAAC,SAAS,CAAC,CAAC8Y,IAAI;EACnC;AACF;AACA;AACA;AACA;AACA;EACE5F,iBAAiB,EAAElT,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EAC9C;AACF;AACA;AACA;AACA;AACA;AACA;EACExI,WAAW,EAAElZ,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM;EAC1C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEnF,kBAAkB,EAAEtd,UAAU,CAAC,SAAS,CAAC,CAACkjB,kBAAkB;EAC5D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE3F,YAAY,EAAEvc,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAACmiB,MAAM,CAAC,CAAC;EAC9G;AACF;AACA;AACA;AACA;AACA;EACEtE,oBAAoB,EAAE7d,WAAW,CAAC,SAAS,CAAC,CAAC0hB,IAAI;EACjD;AACF;AACA;AACA;AACA;AACA;EACElF,KAAK,EAAExc,WAAW,CAAC,SAAS,CAAC,CAAC+hB,SAAS,CAAC,CAAC/hB,WAAW,CAAC,SAAS,CAAC,CAACyhB,MAAM,EAAEzhB,WAAW,CAAC,SAAS,CAAC,CAAC8Y,IAAI,CAAC,CAAC;EACrG;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE7J,cAAc,EAAEjP,WAAW,CAAC,SAAS,CAAC,CAACwhB,MAAM;EAC7C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE9E,cAAc,EAAE1d,UAAU,CAAC,SAAS,CAAC,CAAC2iB;AACxC,CAAC,EAAE9gB,MAAM,CAACuhB,WAAW,GAAG3iB,uBAAuB,CAAC4iB,oBAAoB,EAAExhB,MAAM,CAACyhB,YAAY,GAAG;EAC1FnV,gBAAgB,EAAE,IAAI;EACtBiC,iBAAiB,EAAE,IAAI;EACvB4M,gBAAgB,EAAE,GAAG;EACrB3J,MAAM,EAAE,EAAE;EACV4J,SAAS,EAAE,GAAG;EACdC,sBAAsB,EAAE5b,YAAY,CAACiiB,aAAa;EAClDnS,qBAAqB,EAAE,IAAI;EAC3BoF,gBAAgB,EAAE;IAChBxD,WAAW,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC;IAClCF,MAAM,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;IACjCkQ,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;IAC3BC,UAAU,EAAE,CAAC,MAAM,EAAE,IAAI;EAC3B,CAAC;EACD/I,WAAW,EAAE,aAAa;EAC1BjK,cAAc,EAAE,IAAI;EACpByN,cAAc,EAAE/c,MAAM,CAAC,SAAS;AAClC,CAAC,EAAEkB,MAAM,CAAC;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAItC,WAAW,GAAGN,OAAO,CAACM,WAAW,GAAG,CAAC,CAAC,EAAEC,aAAa,CAAC,SAAS,CAAC,EAAE;EACpEgkB,GAAG,EAAE,CAAC,oBAAoB,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,EAAE,cAAc,EAAE,cAAc,EAAE,gBAAgB;AAC7M,CAAC,EAAE,CAAC,CAAC,EAAEvjB,cAAc,CAACwjB,oBAAoB,EAAE;EAC1CC,UAAU,EAAE;AACd,CAAC,EAAE,CAAC,CAAC,EAAE9iB,UAAU,CAAC,SAAS,CAAC,EAAE;EAC5B+iB,KAAK,EAAE,CAAC,gBAAgB,EAAE,wBAAwB,EAAE,QAAQ,EAAE,oBAAoB,EAAE,gBAAgB;AACtG,CAAC,EAAE,CAAC,CAAC,EAAEnjB,cAAc,CAACojB,sBAAsB,EAAE;EAC5CC,YAAY,EAAE;AAChB,CAAC,EAAE,CAAC,CAAC,EAAEziB,UAAU,CAAC,SAAS,CAAC,EAAE9B,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;AAClD,IAAIwkB,QAAQ,GAAG7kB,OAAO,CAAC,SAAS,CAAC,GAAGM,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}