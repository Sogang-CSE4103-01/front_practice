{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useOverscrollEffect = exports[\"default\"] = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _resolution = _interopRequireDefault(require(\"@enact/ui/resolution\"));\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _react = require(\"react\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nvar overscrollTypeDone = _useScroll.constants.overscrollTypeDone,\n  overscrollTypeHold = _useScroll.constants.overscrollTypeHold,\n  overscrollTypeNone = _useScroll.constants.overscrollTypeNone,\n  overscrollTypeOnce = _useScroll.constants.overscrollTypeOnce,\n  overscrollTransitionPrefix = '--scroll-overscroll-transition-',\n  overscrollTranslatePrefix = '--scroll-overscroll-translate-',\n  overscrollTransitionStart = 'transform 300ms cubic-bezier(0.5, 1, 0.89, 1)',\n  overscrollTransitionEnd = 'transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1)',\n  overscrollMaxTranslate = _resolution[\"default\"].scale(180),\n  overscrollTimeout = 220;\nvar useOverscrollEffect = exports.useOverscrollEffect = function useOverscrollEffect(props, instances) {\n  var scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContentRef = instances.scrollContentRef;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    overscrollJobs: {\n      horizontal: {\n        before: null,\n        after: null\n      },\n      vertical: {\n        before: null,\n        after: null\n      }\n    }\n  });\n\n  // Hooks\n\n  var applyOverscrollEffect = (0, _react.useCallback)(function (orientation, edge, type, ratio) {\n    var isHorizontal = orientation === 'horizontal';\n    if (type !== overscrollTypeHold && scrollContentRef.current) {\n      var effectSize = ratio * (edge === 'before' ? 1 : -1) * (isHorizontal && scrollContainerHandle.current.rtl ? -1 : 1) * overscrollMaxTranslate,\n        translate = \"translate\".concat(isHorizontal ? 'X' : 'Y', \"(\").concat(effectSize, \"px)\"),\n        transition = ratio !== 0 ? overscrollTransitionStart : overscrollTransitionEnd;\n      scrollContentRef.current.style.setProperty(overscrollTranslatePrefix + orientation, translate);\n      scrollContentRef.current.style.setProperty(overscrollTransitionPrefix + orientation, transition);\n      if (type === overscrollTypeOnce) {\n        mutableRef.current.overscrollJobs[orientation][edge].start(orientation, edge, overscrollTypeDone, 0);\n      }\n    }\n  }, [scrollContainerHandle, scrollContentRef]);\n  (0, _react.useEffect)(function () {\n    function createOverscrollJob(orientation, edge) {\n      if (!mutableRef.current.overscrollJobs[orientation][edge]) {\n        mutableRef.current.overscrollJobs[orientation][edge] = new _util.Job(applyOverscrollEffect, overscrollTimeout);\n      }\n    }\n    function stopOverscrollJob(orientation, edge) {\n      var job = mutableRef.current.overscrollJobs[orientation][edge];\n      if (job) {\n        job.stop();\n      }\n    }\n    createOverscrollJob('horizontal', 'before');\n    createOverscrollJob('horizontal', 'after');\n    createOverscrollJob('vertical', 'before');\n    createOverscrollJob('vertical', 'after');\n    return function () {\n      stopOverscrollJob('horizontal', 'before');\n      stopOverscrollJob('horizontal', 'after');\n      stopOverscrollJob('vertical', 'before');\n      stopOverscrollJob('vertical', 'after');\n    };\n  }, [applyOverscrollEffect]);\n\n  // Functions\n\n  function clearOverscrollEffect(orientation, edge) {\n    mutableRef.current.overscrollJobs[orientation][edge].startAfter(overscrollTimeout, orientation, edge, overscrollTypeNone, 0);\n    scrollContainerHandle.current.setOverscrollStatus(orientation, edge, overscrollTypeNone, 0);\n  }\n  function checkAndApplyOverscrollEffectByDirection(direction) {\n    var orientation = direction === 'up' || direction === 'down' ? 'vertical' : 'horizontal',\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      scrollability = orientation === 'vertical' ? scrollContainerHandle.current.canScrollVertically(bounds) : scrollContainerHandle.current.canScrollHorizontally(bounds);\n    if (scrollability) {\n      var isRtl = scrollContainerHandle.current.rtl,\n        edge = direction === 'up' || !isRtl && direction === 'left' || isRtl && direction === 'right' ? 'before' : 'after';\n      scrollContainerHandle.current.checkAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n    }\n  }\n\n  // Return\n\n  return {\n    applyOverscrollEffect: applyOverscrollEffect,\n    checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n    clearOverscrollEffect: clearOverscrollEffect\n  };\n};\nvar _default = exports[\"default\"] = useOverscrollEffect;","map":{"version":3,"names":["Object","defineProperty","exports","value","useOverscrollEffect","_util","require","_resolution","_interopRequireDefault","_useScroll","_react","obj","__esModule","overscrollTypeDone","constants","overscrollTypeHold","overscrollTypeNone","overscrollTypeOnce","overscrollTransitionPrefix","overscrollTranslatePrefix","overscrollTransitionStart","overscrollTransitionEnd","overscrollMaxTranslate","scale","overscrollTimeout","props","instances","scrollContainerHandle","scrollContentRef","mutableRef","useRef","overscrollJobs","horizontal","before","after","vertical","applyOverscrollEffect","useCallback","orientation","edge","type","ratio","isHorizontal","current","effectSize","rtl","translate","concat","transition","style","setProperty","start","useEffect","createOverscrollJob","Job","stopOverscrollJob","job","stop","clearOverscrollEffect","startAfter","setOverscrollStatus","checkAndApplyOverscrollEffectByDirection","direction","bounds","getScrollBounds","scrollability","canScrollVertically","canScrollHorizontally","isRtl","checkAndApplyOverscrollEffect","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/sandstone/useScroll/useOverscrollEffect.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useOverscrollEffect = exports[\"default\"] = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _resolution = _interopRequireDefault(require(\"@enact/ui/resolution\"));\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _react = require(\"react\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar overscrollTypeDone = _useScroll.constants.overscrollTypeDone,\n  overscrollTypeHold = _useScroll.constants.overscrollTypeHold,\n  overscrollTypeNone = _useScroll.constants.overscrollTypeNone,\n  overscrollTypeOnce = _useScroll.constants.overscrollTypeOnce,\n  overscrollTransitionPrefix = '--scroll-overscroll-transition-',\n  overscrollTranslatePrefix = '--scroll-overscroll-translate-',\n  overscrollTransitionStart = 'transform 300ms cubic-bezier(0.5, 1, 0.89, 1)',\n  overscrollTransitionEnd = 'transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1)',\n  overscrollMaxTranslate = _resolution[\"default\"].scale(180),\n  overscrollTimeout = 220;\nvar useOverscrollEffect = exports.useOverscrollEffect = function useOverscrollEffect(props, instances) {\n  var scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContentRef = instances.scrollContentRef;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    overscrollJobs: {\n      horizontal: {\n        before: null,\n        after: null\n      },\n      vertical: {\n        before: null,\n        after: null\n      }\n    }\n  });\n\n  // Hooks\n\n  var applyOverscrollEffect = (0, _react.useCallback)(function (orientation, edge, type, ratio) {\n    var isHorizontal = orientation === 'horizontal';\n    if (type !== overscrollTypeHold && scrollContentRef.current) {\n      var effectSize = ratio * (edge === 'before' ? 1 : -1) * (isHorizontal && scrollContainerHandle.current.rtl ? -1 : 1) * overscrollMaxTranslate,\n        translate = \"translate\".concat(isHorizontal ? 'X' : 'Y', \"(\").concat(effectSize, \"px)\"),\n        transition = ratio !== 0 ? overscrollTransitionStart : overscrollTransitionEnd;\n      scrollContentRef.current.style.setProperty(overscrollTranslatePrefix + orientation, translate);\n      scrollContentRef.current.style.setProperty(overscrollTransitionPrefix + orientation, transition);\n      if (type === overscrollTypeOnce) {\n        mutableRef.current.overscrollJobs[orientation][edge].start(orientation, edge, overscrollTypeDone, 0);\n      }\n    }\n  }, [scrollContainerHandle, scrollContentRef]);\n  (0, _react.useEffect)(function () {\n    function createOverscrollJob(orientation, edge) {\n      if (!mutableRef.current.overscrollJobs[orientation][edge]) {\n        mutableRef.current.overscrollJobs[orientation][edge] = new _util.Job(applyOverscrollEffect, overscrollTimeout);\n      }\n    }\n    function stopOverscrollJob(orientation, edge) {\n      var job = mutableRef.current.overscrollJobs[orientation][edge];\n      if (job) {\n        job.stop();\n      }\n    }\n    createOverscrollJob('horizontal', 'before');\n    createOverscrollJob('horizontal', 'after');\n    createOverscrollJob('vertical', 'before');\n    createOverscrollJob('vertical', 'after');\n    return function () {\n      stopOverscrollJob('horizontal', 'before');\n      stopOverscrollJob('horizontal', 'after');\n      stopOverscrollJob('vertical', 'before');\n      stopOverscrollJob('vertical', 'after');\n    };\n  }, [applyOverscrollEffect]);\n\n  // Functions\n\n  function clearOverscrollEffect(orientation, edge) {\n    mutableRef.current.overscrollJobs[orientation][edge].startAfter(overscrollTimeout, orientation, edge, overscrollTypeNone, 0);\n    scrollContainerHandle.current.setOverscrollStatus(orientation, edge, overscrollTypeNone, 0);\n  }\n  function checkAndApplyOverscrollEffectByDirection(direction) {\n    var orientation = direction === 'up' || direction === 'down' ? 'vertical' : 'horizontal',\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      scrollability = orientation === 'vertical' ? scrollContainerHandle.current.canScrollVertically(bounds) : scrollContainerHandle.current.canScrollHorizontally(bounds);\n    if (scrollability) {\n      var isRtl = scrollContainerHandle.current.rtl,\n        edge = direction === 'up' || !isRtl && direction === 'left' || isRtl && direction === 'right' ? 'before' : 'after';\n      scrollContainerHandle.current.checkAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n    }\n  }\n\n  // Return\n\n  return {\n    applyOverscrollEffect: applyOverscrollEffect,\n    checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n    clearOverscrollEffect: clearOverscrollEffect\n  };\n};\nvar _default = exports[\"default\"] = useOverscrollEffect;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}