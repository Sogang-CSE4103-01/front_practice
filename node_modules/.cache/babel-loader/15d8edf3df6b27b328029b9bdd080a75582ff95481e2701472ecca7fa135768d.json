{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spottableClass = exports[\"default\"] = exports.SpottableCore = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _container = require(\"../src/container\");\nvar _spotlight = require(\"../src/spotlight\");\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar REMOTE_OK_KEY = 16777221;\n\n/**\n * The class name for spottable components. In general, you do not need to directly access this class\n *\n * @memberof spotlight/Spottable\n * @public\n */\nvar spottableClass = exports.spottableClass = 'spottable';\nvar isKeyboardAccessible = function isKeyboardAccessible(node) {\n  if (!node) return false;\n  var name = node.nodeName.toUpperCase();\n  var type = node.type ? node.type.toUpperCase() : null;\n  return name === 'BUTTON' || name === 'A' || name === 'INPUT' && (type === 'BUTTON' || type === 'CHECKBOX' || type === 'IMAGE' || type === 'RADIO' || type === 'RESET' || type === 'SUBMIT');\n};\nvar isSpottable = function isSpottable(props) {\n  return !props.spotlightDisabled;\n};\n\n// Last instance of spottable to be focused\nvar lastSelectTarget = null;\n\n// Should we prevent select being passed through\nvar selectCancelled = false;\nvar SpottableCore = exports.SpottableCore = /*#__PURE__*/function () {\n  function SpottableCore(_ref) {\n    var _this = this;\n    var emulateMouse = _ref.emulateMouse;\n    _classCallCheck(this, SpottableCore);\n    this.didUpdate = function () {\n      _this.isFocused = _this.node && _this.node === _spotlight.Spotlight.getCurrent();\n\n      // if the component is focused and became disabled\n      if (_this.isFocused && _this.props.disabled && lastSelectTarget === _this && !selectCancelled) {\n        selectCancelled = true;\n        (0, _handle.forwardCustom)('onSelectionCancel')(null, _this.props);\n      }\n\n      // if the component became enabled, notify spotlight to enable restoring \"lost\" focus\n      if (isSpottable(_this.props) && _this.context.prevSpotlightDisabled && !_spotlight.Spotlight.isPaused()) {\n        if (_spotlight.Spotlight.getPointerMode()) {\n          if (_this.isHovered) {\n            _spotlight.Spotlight.setPointerMode(false);\n            _spotlight.Spotlight.focus(_this.node);\n            _spotlight.Spotlight.setPointerMode(true);\n          }\n        } else if (!_spotlight.Spotlight.getCurrent()) {\n          var containers = (0, _container.getContainersForNode)(_this.node);\n          var containerId = _spotlight.Spotlight.getActiveContainer();\n          if (containers.indexOf(containerId) >= 0) {\n            _spotlight.Spotlight.focus(containerId);\n          }\n        }\n      }\n    };\n    this.forwardSpotlightEvents = function (ev, _ref2) {\n      var onSpotlightDown = _ref2.onSpotlightDown,\n        onSpotlightLeft = _ref2.onSpotlightLeft,\n        onSpotlightRight = _ref2.onSpotlightRight,\n        onSpotlightUp = _ref2.onSpotlightUp;\n      var keyCode = ev.keyCode;\n      if (onSpotlightDown && (0, _keymap.is)('down', keyCode)) {\n        onSpotlightDown(ev);\n      } else if (onSpotlightLeft && (0, _keymap.is)('left', keyCode)) {\n        onSpotlightLeft(ev);\n      } else if (onSpotlightRight && (0, _keymap.is)('right', keyCode)) {\n        onSpotlightRight(ev);\n      } else if (onSpotlightUp && (0, _keymap.is)('up', keyCode)) {\n        onSpotlightUp(ev);\n      }\n      return true;\n    };\n    this.forwardAndResetLastSelectTarget = function (ev, props) {\n      var keyCode = ev.keyCode;\n      var selectionKeys = props.selectionKeys;\n      var key = selectionKeys.find(function (value) {\n        return keyCode === value;\n      });\n      var notPrevented = !ev.defaultPrevented;\n\n      // bail early for non-selection keyup to avoid clearing lastSelectTarget prematurely\n      if (!key && (!(0, _keymap.is)('enter', keyCode) || !(0, _spotlight.getDirection)(keyCode))) {\n        return notPrevented;\n      }\n      var allow = lastSelectTarget === _this;\n      selectCancelled = false;\n      lastSelectTarget = null;\n      return notPrevented && allow;\n    };\n    this.shouldEmulateMouse = function (ev, props) {\n      if (!_this.config.emulateMouse) {\n        return;\n      }\n      var currentTarget = ev.currentTarget,\n        repeat = ev.repeat,\n        type = ev.type,\n        which = ev.which;\n      var selectionKeys = props.selectionKeys;\n      var keyboardAccessible = isKeyboardAccessible(currentTarget);\n      var keyCode = selectionKeys.find(function (value) {\n        return (\n          // emulate mouse events for any remote okay button event\n          which === REMOTE_OK_KEY ||\n          // or a non-keypress selection event or any selection event on a non-keyboard accessible\n          // control\n\n          which === value && (type !== 'keypress' || !keyboardAccessible)\n        );\n      });\n      if ((0, _spotlight.getDirection)(keyCode)) {\n        (0, _handle.preventDefault)(ev);\n        (0, _handle.stop)(ev);\n      } else if (keyCode && keyboardAccessible) {\n        (0, _handle.preventDefault)(ev);\n      }\n      return keyCode && !repeat;\n    };\n    this.isActionable = function (ev, props) {\n      return isSpottable(props);\n    };\n    this.handleSelect = function (_ref3, props) {\n      var which = _ref3.which;\n      var selectionKeys = props.selectionKeys;\n\n      // Only apply accelerator if handling a selection key\n      if (selectionKeys.find(function (value) {\n        return which === value;\n      })) {\n        if (selectCancelled || lastSelectTarget && lastSelectTarget !== _this) {\n          return false;\n        }\n        lastSelectTarget = _this;\n      }\n      return true;\n    };\n    this.handle = _handle.handle.bind(this);\n    this.handleKeyDown = this.handle(function (ev) {\n      return !ev.defaultPrevented;\n    }, this.forwardSpotlightEvents, this.isActionable, this.handleSelect, this.shouldEmulateMouse\n    // `forwardMouseDown` is usually called out of the useSpottable if the `this.shouldEmulateMouse` returns true.\n    );\n\n    this.handleKeyUp = this.handle(this.forwardAndResetLastSelectTarget, this.isActionable, this.shouldEmulateMouse\n    // `forwardMouseUp` and `forwardClick` are usually called out of the useSpottable if the `this.shouldEmulateMouse` returns true.\n    );\n\n    this.handleFocus = function (ev) {\n      if (_this.props.spotlightDisabled) {\n        _this.shouldPreventBlur = true;\n        ev.target.blur();\n        _this.shouldPreventBlur = false;\n        return;\n      }\n      if (ev.currentTarget === ev.target) {\n        _this.isFocused = true;\n      }\n      if (_spotlight.Spotlight.isMuted(ev.target)) {\n        ev.stopPropagation();\n        return false;\n      }\n      return true;\n    };\n    this.handleBlur = function (ev) {\n      if (_this.shouldPreventBlur) return false;\n      if (ev.currentTarget === ev.target) {\n        _this.isFocused = false;\n        if (_this.isFocusedWhenDisabled) {\n          _this.isFocusedWhenDisabled = false;\n          // We only need to trigger a rerender if a focused item becomes disabled and still needs its focus.\n          // Once it blurs we need to rerender to remove the spottable class so it will not spot again.\n          // The reason we don't use state is for performance reasons to avoid updates.\n          _this.props.handleForceUpdate();\n        }\n      }\n      if (_spotlight.Spotlight.isMuted(ev.target)) {\n        ev.stopPropagation();\n        return false;\n      }\n      return true;\n    };\n    this.handleEnter = function () {\n      _this.isHovered = true;\n    };\n    this.handleLeave = function () {\n      _this.isHovered = false;\n    };\n    this.config = {\n      emulateMouse: emulateMouse\n    };\n    this.props = {};\n    this.context = {};\n    this.isFocused = false;\n    this.isFocusedWhenDisabled = false;\n    this.isHovered = false;\n    this.spottableClass = null;\n    // Used to indicate that we want to stop propagation on blur events that occur as a\n    // result of this component imperatively blurring itself on focus when spotlightDisabled\n    this.shouldPreventBlur = false;\n  }\n  _createClass(SpottableCore, [{\n    key: \"setPropsAndContext\",\n    value: function setPropsAndContext(props, context) {\n      this.props = props;\n      this.context.prevSpotlightDisabled = context.prevSpotlightDisabled;\n      this.isFocusedWhenDisabled = this.isFocused && props.spotlightDisabled;\n      this.spottableClass = this.isFocusedWhenDisabled || isSpottable(props) ? spottableClass : null;\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.node = node;\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (this.isFocused) {\n        (0, _handle.forwardCustom)('onSpotlightDisappear')(null, this.props);\n      }\n      if (lastSelectTarget === this) {\n        lastSelectTarget = null;\n      }\n    }\n  }]);\n  return SpottableCore;\n}();\nvar _default = exports[\"default\"] = SpottableCore;","map":{"version":3,"names":["Object","defineProperty","exports","value","spottableClass","SpottableCore","_handle","require","_keymap","_container","_spotlight","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","prototype","t","_toPrimitive","String","r","e","Symbol","toPrimitive","call","Number","REMOTE_OK_KEY","isKeyboardAccessible","node","name","nodeName","toUpperCase","type","isSpottable","spotlightDisabled","lastSelectTarget","selectCancelled","_ref","_this","emulateMouse","didUpdate","isFocused","Spotlight","getCurrent","disabled","forwardCustom","context","prevSpotlightDisabled","isPaused","getPointerMode","isHovered","setPointerMode","focus","containers","getContainersForNode","containerId","getActiveContainer","indexOf","forwardSpotlightEvents","ev","_ref2","onSpotlightDown","onSpotlightLeft","onSpotlightRight","onSpotlightUp","keyCode","is","forwardAndResetLastSelectTarget","selectionKeys","find","notPrevented","defaultPrevented","getDirection","allow","shouldEmulateMouse","config","currentTarget","repeat","which","keyboardAccessible","preventDefault","stop","isActionable","handleSelect","_ref3","handle","bind","handleKeyDown","handleKeyUp","handleFocus","shouldPreventBlur","blur","isMuted","stopPropagation","handleBlur","isFocusedWhenDisabled","handleForceUpdate","handleEnter","handleLeave","setPropsAndContext","load","arguments","undefined","unload","_default"],"sources":["/Users/meogyu/connected_front/node_modules/@enact/spotlight/Spottable/SpottableCore.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spottableClass = exports[\"default\"] = exports.SpottableCore = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _keymap = require(\"@enact/core/keymap\");\nvar _container = require(\"../src/container\");\nvar _spotlight = require(\"../src/spotlight\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar REMOTE_OK_KEY = 16777221;\n\n/**\n * The class name for spottable components. In general, you do not need to directly access this class\n *\n * @memberof spotlight/Spottable\n * @public\n */\nvar spottableClass = exports.spottableClass = 'spottable';\nvar isKeyboardAccessible = function isKeyboardAccessible(node) {\n  if (!node) return false;\n  var name = node.nodeName.toUpperCase();\n  var type = node.type ? node.type.toUpperCase() : null;\n  return name === 'BUTTON' || name === 'A' || name === 'INPUT' && (type === 'BUTTON' || type === 'CHECKBOX' || type === 'IMAGE' || type === 'RADIO' || type === 'RESET' || type === 'SUBMIT');\n};\nvar isSpottable = function isSpottable(props) {\n  return !props.spotlightDisabled;\n};\n\n// Last instance of spottable to be focused\nvar lastSelectTarget = null;\n\n// Should we prevent select being passed through\nvar selectCancelled = false;\nvar SpottableCore = exports.SpottableCore = /*#__PURE__*/function () {\n  function SpottableCore(_ref) {\n    var _this = this;\n    var emulateMouse = _ref.emulateMouse;\n    _classCallCheck(this, SpottableCore);\n    this.didUpdate = function () {\n      _this.isFocused = _this.node && _this.node === _spotlight.Spotlight.getCurrent();\n\n      // if the component is focused and became disabled\n      if (_this.isFocused && _this.props.disabled && lastSelectTarget === _this && !selectCancelled) {\n        selectCancelled = true;\n        (0, _handle.forwardCustom)('onSelectionCancel')(null, _this.props);\n      }\n\n      // if the component became enabled, notify spotlight to enable restoring \"lost\" focus\n      if (isSpottable(_this.props) && _this.context.prevSpotlightDisabled && !_spotlight.Spotlight.isPaused()) {\n        if (_spotlight.Spotlight.getPointerMode()) {\n          if (_this.isHovered) {\n            _spotlight.Spotlight.setPointerMode(false);\n            _spotlight.Spotlight.focus(_this.node);\n            _spotlight.Spotlight.setPointerMode(true);\n          }\n        } else if (!_spotlight.Spotlight.getCurrent()) {\n          var containers = (0, _container.getContainersForNode)(_this.node);\n          var containerId = _spotlight.Spotlight.getActiveContainer();\n          if (containers.indexOf(containerId) >= 0) {\n            _spotlight.Spotlight.focus(containerId);\n          }\n        }\n      }\n    };\n    this.forwardSpotlightEvents = function (ev, _ref2) {\n      var onSpotlightDown = _ref2.onSpotlightDown,\n        onSpotlightLeft = _ref2.onSpotlightLeft,\n        onSpotlightRight = _ref2.onSpotlightRight,\n        onSpotlightUp = _ref2.onSpotlightUp;\n      var keyCode = ev.keyCode;\n      if (onSpotlightDown && (0, _keymap.is)('down', keyCode)) {\n        onSpotlightDown(ev);\n      } else if (onSpotlightLeft && (0, _keymap.is)('left', keyCode)) {\n        onSpotlightLeft(ev);\n      } else if (onSpotlightRight && (0, _keymap.is)('right', keyCode)) {\n        onSpotlightRight(ev);\n      } else if (onSpotlightUp && (0, _keymap.is)('up', keyCode)) {\n        onSpotlightUp(ev);\n      }\n      return true;\n    };\n    this.forwardAndResetLastSelectTarget = function (ev, props) {\n      var keyCode = ev.keyCode;\n      var selectionKeys = props.selectionKeys;\n      var key = selectionKeys.find(function (value) {\n        return keyCode === value;\n      });\n      var notPrevented = !ev.defaultPrevented;\n\n      // bail early for non-selection keyup to avoid clearing lastSelectTarget prematurely\n      if (!key && (!(0, _keymap.is)('enter', keyCode) || !(0, _spotlight.getDirection)(keyCode))) {\n        return notPrevented;\n      }\n      var allow = lastSelectTarget === _this;\n      selectCancelled = false;\n      lastSelectTarget = null;\n      return notPrevented && allow;\n    };\n    this.shouldEmulateMouse = function (ev, props) {\n      if (!_this.config.emulateMouse) {\n        return;\n      }\n      var currentTarget = ev.currentTarget,\n        repeat = ev.repeat,\n        type = ev.type,\n        which = ev.which;\n      var selectionKeys = props.selectionKeys;\n      var keyboardAccessible = isKeyboardAccessible(currentTarget);\n      var keyCode = selectionKeys.find(function (value) {\n        return (\n          // emulate mouse events for any remote okay button event\n          which === REMOTE_OK_KEY ||\n          // or a non-keypress selection event or any selection event on a non-keyboard accessible\n          // control\n\n          which === value && (type !== 'keypress' || !keyboardAccessible)\n        );\n      });\n      if ((0, _spotlight.getDirection)(keyCode)) {\n        (0, _handle.preventDefault)(ev);\n        (0, _handle.stop)(ev);\n      } else if (keyCode && keyboardAccessible) {\n        (0, _handle.preventDefault)(ev);\n      }\n      return keyCode && !repeat;\n    };\n    this.isActionable = function (ev, props) {\n      return isSpottable(props);\n    };\n    this.handleSelect = function (_ref3, props) {\n      var which = _ref3.which;\n      var selectionKeys = props.selectionKeys;\n\n      // Only apply accelerator if handling a selection key\n      if (selectionKeys.find(function (value) {\n        return which === value;\n      })) {\n        if (selectCancelled || lastSelectTarget && lastSelectTarget !== _this) {\n          return false;\n        }\n        lastSelectTarget = _this;\n      }\n      return true;\n    };\n    this.handle = _handle.handle.bind(this);\n    this.handleKeyDown = this.handle(function (ev) {\n      return !ev.defaultPrevented;\n    }, this.forwardSpotlightEvents, this.isActionable, this.handleSelect, this.shouldEmulateMouse\n    // `forwardMouseDown` is usually called out of the useSpottable if the `this.shouldEmulateMouse` returns true.\n    );\n    this.handleKeyUp = this.handle(this.forwardAndResetLastSelectTarget, this.isActionable, this.shouldEmulateMouse\n    // `forwardMouseUp` and `forwardClick` are usually called out of the useSpottable if the `this.shouldEmulateMouse` returns true.\n    );\n    this.handleFocus = function (ev) {\n      if (_this.props.spotlightDisabled) {\n        _this.shouldPreventBlur = true;\n        ev.target.blur();\n        _this.shouldPreventBlur = false;\n        return;\n      }\n      if (ev.currentTarget === ev.target) {\n        _this.isFocused = true;\n      }\n      if (_spotlight.Spotlight.isMuted(ev.target)) {\n        ev.stopPropagation();\n        return false;\n      }\n      return true;\n    };\n    this.handleBlur = function (ev) {\n      if (_this.shouldPreventBlur) return false;\n      if (ev.currentTarget === ev.target) {\n        _this.isFocused = false;\n        if (_this.isFocusedWhenDisabled) {\n          _this.isFocusedWhenDisabled = false;\n          // We only need to trigger a rerender if a focused item becomes disabled and still needs its focus.\n          // Once it blurs we need to rerender to remove the spottable class so it will not spot again.\n          // The reason we don't use state is for performance reasons to avoid updates.\n          _this.props.handleForceUpdate();\n        }\n      }\n      if (_spotlight.Spotlight.isMuted(ev.target)) {\n        ev.stopPropagation();\n        return false;\n      }\n      return true;\n    };\n    this.handleEnter = function () {\n      _this.isHovered = true;\n    };\n    this.handleLeave = function () {\n      _this.isHovered = false;\n    };\n    this.config = {\n      emulateMouse: emulateMouse\n    };\n    this.props = {};\n    this.context = {};\n    this.isFocused = false;\n    this.isFocusedWhenDisabled = false;\n    this.isHovered = false;\n    this.spottableClass = null;\n    // Used to indicate that we want to stop propagation on blur events that occur as a\n    // result of this component imperatively blurring itself on focus when spotlightDisabled\n    this.shouldPreventBlur = false;\n  }\n  _createClass(SpottableCore, [{\n    key: \"setPropsAndContext\",\n    value: function setPropsAndContext(props, context) {\n      this.props = props;\n      this.context.prevSpotlightDisabled = context.prevSpotlightDisabled;\n      this.isFocusedWhenDisabled = this.isFocused && props.spotlightDisabled;\n      this.spottableClass = this.isFocusedWhenDisabled || isSpottable(props) ? spottableClass : null;\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.node = node;\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (this.isFocused) {\n        (0, _handle.forwardCustom)('onSpotlightDisappear')(null, this.props);\n      }\n      if (lastSelectTarget === this) {\n        lastSelectTarget = null;\n      }\n    }\n  }]);\n  return SpottableCore;\n}();\nvar _default = exports[\"default\"] = SpottableCore;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}