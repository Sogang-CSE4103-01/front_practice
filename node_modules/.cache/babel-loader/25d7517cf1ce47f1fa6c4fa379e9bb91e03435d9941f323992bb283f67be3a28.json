{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useEventWheel = exports.useEventVoice = exports.useEventTouch = exports.useEventMouse = exports.useEventMonitor = exports.useEventKey = exports.useEventFocus = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\nvar _snapshot = require(\"@enact/core/snapshot\");\nvar _util = require(\"@enact/core/util\");\nvar _spotlight = _interopRequireWildcard(require(\"@enact/spotlight\"));\nvar _container = require(\"@enact/spotlight/src/container\");\nvar _utils = require(\"@enact/spotlight/src/utils\");\nvar _target = require(\"@enact/spotlight/src/target\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\nvar _react = require(\"react\");\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    \"default\": e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n[\"default\"] = e, t && t.set(e, n), n;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nvar animationDuration = _useScroll.constants.animationDuration,\n  epsilon = _useScroll.constants.epsilon,\n  isPageDown = _useScroll.constants.isPageDown,\n  isPageUp = _useScroll.constants.isPageUp,\n  overscrollTypeOnce = _useScroll.constants.overscrollTypeOnce,\n  paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n  scrollWheelPageMultiplierForMaxPixel = _useScroll.constants.scrollWheelPageMultiplierForMaxPixel;\nvar lastPointer = {\n  x: 0,\n  y: 0\n};\nvar useEventFocus = exports.useEventFocus = function useEventFocus(props, instances) {\n  var scrollMode = props.scrollMode;\n  var scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContainerRef = instances.scrollContainerRef,\n    scrollContentRef = instances.scrollContentRef,\n    spottable = instances.spottable,\n    themeScrollContentHandle = instances.themeScrollContentHandle;\n\n  // Functions\n\n  var startScrollOnFocus = function startScrollOnFocus(pos) {\n    if (pos) {\n      var top = pos.top,\n        left = pos.left,\n        bounds = scrollContainerHandle.current.getScrollBounds();\n      if (scrollMode === 'translate') {\n        var scrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n          scrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n        if (scrollHorizontally || scrollVertically) {\n          scrollContainerHandle.current.start({\n            targetX: left,\n            targetY: top,\n            animate: animationDuration > 0 && spottable.current.animateOnFocus,\n            overscrollEffect: props.overscrollEffectOn[scrollContainerHandle.current.lastInputType] && (!themeScrollContentHandle.current.shouldPreventOverscrollEffect || !themeScrollContentHandle.current.shouldPreventOverscrollEffect())\n          });\n          spottable.current.lastScrollPositionOnFocus = pos;\n        }\n      } else {\n        var _scrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n          _scrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n        if (_scrollHorizontally || _scrollVertically) {\n          scrollContainerHandle.current.start({\n            targetX: left,\n            targetY: top,\n            animate: spottable.current.animateOnFocus,\n            overscrollEffect: props.overscrollEffectOn[scrollContainerHandle.current.lastInputType] && (!themeScrollContentHandle.current.shouldPreventOverscrollEffect || !themeScrollContentHandle.current.shouldPreventOverscrollEffect())\n          });\n          spottable.current.lastScrollPositionOnFocus = pos;\n        }\n      }\n    }\n  };\n  function calculateAndScrollTo() {\n    var positionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n      scrollContentNode = scrollContentRef.current;\n    var spotItem = _spotlight[\"default\"].getCurrent();\n\n    // Scroll to the container created by ContentContainerDecorator when descendants get focused\n    if (props.scrollToContentContainerOnFocus) {\n      spotItem = (0, _container.getPositionTargetOnFocus)(spotItem);\n    }\n    if (spotItem && positionFn && _utilDOM[\"default\"].containsDangerously(scrollContentNode, spotItem)) {\n      var lastPos = spottable.current.lastScrollPositionOnFocus;\n      var pos;\n\n      // If scroll animation is ongoing, we need to pass last target position to\n      // determine correct scroll position.\n      if (lastPos & (scrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() || scrollMode === 'native' && scrollContainerHandle.current.scrolling)) {\n        var contentRect = (0, _utils.getRect)(scrollContentNode),\n          itemRect = (0, _utils.getRect)(spotItem);\n        var scrollPosition;\n        if (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n          scrollPosition = lastPos.left;\n        } else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n          scrollPosition = lastPos.top;\n        }\n        pos = positionFn({\n          item: spotItem,\n          scrollPosition: scrollPosition\n        });\n      } else {\n        pos = positionFn({\n          item: spotItem\n        });\n      }\n      if (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n        startScrollOnFocus(pos);\n      }\n\n      // update `scrollHeight`\n      scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n    }\n  }\n  function handleFocus(ev) {\n    var shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ? themeScrollContentHandle.current.shouldPreventScrollByFocus() : false;\n    if (spottable.current.isWheeling) {\n      scrollContainerHandle.current.stop();\n      if (scrollMode === 'translate') {\n        spottable.current.animateOnFocus = false;\n      }\n    }\n    if (!(shouldPreventScrollByFocus || _spotlight[\"default\"].getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n      var item = ev.target,\n        spotItem = _spotlight[\"default\"].getCurrent();\n      if (item && item === spotItem) {\n        calculateAndScrollTo();\n      }\n    } else if (themeScrollContentHandle.current.setLastFocusedNode) {\n      themeScrollContentHandle.current.setLastFocusedNode(ev.target);\n    }\n  }\n  function hasFocus() {\n    var current = _spotlight[\"default\"].getCurrent();\n    if (current && scrollContainerRef.current) {\n      return _utilDOM[\"default\"].containsDangerously(scrollContainerRef, current);\n    }\n  }\n\n  // Return\n\n  return {\n    calculateAndScrollTo: calculateAndScrollTo,\n    handleFocus: handleFocus,\n    hasFocus: hasFocus\n  };\n};\nvar useEventKey = exports.useEventKey = function useEventKey(props, instances, context) {\n  var scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    spottable = instances.spottable,\n    scrollContentRef = instances.scrollContentRef,\n    scrollContainerHandle = instances.scrollContainerHandle;\n  var checkAndApplyOverscrollEffectByDirection = context.checkAndApplyOverscrollEffectByDirection,\n    hasFocus = context.hasFocus,\n    isContent = context.isContent;\n\n  // Functions\n\n  function handleKeyDown(ev) {\n    var keyCode = ev.keyCode,\n      repeat = ev.repeat,\n      target = ev.target;\n    (0, _handle.forward)('onKeyDown', ev, props);\n    if (isPageUp(keyCode) || isPageDown(keyCode)) {\n      ev.preventDefault();\n    }\n    spottable.current.animateOnFocus = true;\n    if (!repeat && hasFocus()) {\n      var direction = null;\n      if (isPageUp(keyCode) || isPageDown(keyCode)) {\n        if (props.direction === 'vertical' || props.direction === 'both') {\n          direction = isPageUp(keyCode) ? 'up' : 'down';\n          if (isContent(target)) {\n            ev.stopPropagation();\n            scrollByPage(direction);\n          }\n          if (props.overscrollEffectOn.pageKey) {\n            checkAndApplyOverscrollEffectByDirection(direction);\n          }\n        }\n      } else if ((0, _spotlight.getDirection)(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !_spotlight[\"default\"].getPointerMode())) {\n        var element = _spotlight[\"default\"].getCurrent();\n        scrollContainerHandle.current.lastInputType = 'arrowKey';\n        direction = (0, _spotlight.getDirection)(keyCode);\n        if (props.overscrollEffectOn.arrowKey && !(element ? (0, _target.getTargetByDirectionFromElement)(direction, element) : null)) {\n          checkAndApplyOverscrollEffectByDirection(direction);\n        }\n      }\n    }\n  }\n  function scrollByPage(pageKeyDirection) {\n    var scrollTop = scrollContainerHandle.current.scrollTop,\n      focusedItem = _spotlight[\"default\"].getCurrent(),\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      isUp = pageKeyDirection === 'up',\n      directionFactor = isUp ? -1 : 1,\n      pageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n    var direction = pageKeyDirection;\n    var scrollPossible = false;\n    if (scrollMode === 'translate') {\n      scrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n    } else {\n      scrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n    }\n    scrollContainerHandle.current.lastInputType = 'pageKey';\n    if (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = directionFactor;\n    }\n    if (scrollPossible) {\n      if (focusedItem) {\n        var contentNode = scrollContentRef.current;\n\n        // Should do nothing when focusedItem is paging control button of Scrollbar\n        if (_utilDOM[\"default\"].containsDangerously(contentNode, focusedItem)) {\n          var contentRect = contentNode.getBoundingClientRect(),\n            clientRect = focusedItem.getBoundingClientRect(),\n            yAdjust = isUp ? 1 : -1,\n            x = (0, _util.clamp)(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n          var y = 0;\n          if (bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance) {\n            y = contentRect[isUp ? 'top' : 'bottom'] + yAdjust;\n            direction = isUp ? 'down' : 'up'; // Change direction to find target in the content\n          } else {\n            y = (0, _util.clamp)(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n          }\n          focusedItem.blur();\n          if (!props['data-spotlight-container-disabled']) {\n            themeScrollContentHandle.current.setContainerDisabled(true);\n          }\n          if (themeScrollContentHandle.current.pauseSpotlight) {\n            themeScrollContentHandle.current.pauseSpotlight(true);\n          }\n          spottable.current.pointToFocus = {\n            direction: direction,\n            x: x,\n            y: y\n          };\n        }\n      } else {\n        spottable.current.pointToFocus = {\n          direction: direction,\n          x: lastPointer.x,\n          y: lastPointer.y\n        };\n      }\n      scrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true, props.overscrollEffectOn.pageKey);\n    }\n  }\n  function scrollByPageOnPointerMode(ev) {\n    var keyCode = ev.keyCode,\n      repeat = ev.repeat;\n    (0, _handle.forward)('onKeyDown', ev, props);\n    ev.preventDefault();\n    spottable.current.animateOnFocus = true;\n    if (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n      var direction = isPageUp(keyCode) ? 'up' : 'down';\n      scrollByPage(direction);\n      if (props.overscrollEffectOn.pageKey) {\n        /* if the spotlight focus will not move */\n        checkAndApplyOverscrollEffectByDirection(direction);\n      }\n      return true; // means consumed\n    }\n\n    return false; // means to be propagated\n  }\n\n  // Return\n\n  return {\n    handleKeyDown: handleKeyDown,\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  };\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nvar scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nvar pointerTracker = function pointerTracker(ev) {\n  lastPointer.x = ev.clientX;\n  lastPointer.y = ev.clientY;\n};\nvar pageKeyHandler = function pageKeyHandler(ev) {\n  var keyCode = ev.keyCode;\n  if (_spotlight[\"default\"].getPointerMode() && !_spotlight[\"default\"].getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n    var _lastPointer = lastPointer,\n      x = _lastPointer.x,\n      y = _lastPointer.y,\n      elem = document.elementFromPoint(x, y);\n    if (elem) {\n      var _iterator = _createForOfIteratorHelper(scrollers),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            value = _step$value[1];\n          if (_utilDOM[\"default\"].containsDangerously(value, elem)) {\n            /* To handle page keys in nested scrollable components,\n             * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n             * This approach assumes that an inner scrollable component is\n             * mounted earlier than an outer scrollable component.\n             */\n            if (key.scrollByPageOnPointerMode(ev)) {\n              break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }\n};\nvar useEventMonitor = exports.useEventMonitor = function useEventMonitor(props, instances, context) {\n  var scrollContainerRef = instances.scrollContainerRef;\n  var lastPointerProp = context.lastPointer,\n    scrollByPageOnPointerMode = context.scrollByPageOnPointerMode;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    pageKeyHandlerObj: {\n      scrollByPageOnPointerMode: scrollByPageOnPointerMode\n    }\n  });\n  lastPointer = lastPointerProp;\n\n  // Hooks\n\n  (0, _react.useEffect)(function () {\n    var setMonitorEventTarget = function setMonitorEventTarget(target) {\n      scrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n    };\n    var deleteMonitorEventTarget = function deleteMonitorEventTarget() {\n      scrollers[\"delete\"](mutableRef.current.pageKeyHandlerObj);\n    };\n    setMonitorEventTarget(scrollContainerRef.current);\n    return function () {\n      // TODO: Replace `this` to something.\n      deleteMonitorEventTarget();\n    };\n  }, [scrollContainerRef]);\n};\n(0, _snapshot.onWindowReady)(function () {\n  (0, _utilEvent[\"default\"])('mousemove').addEventListener(document, pointerTracker);\n  (0, _utilEvent[\"default\"])('keydown').addEventListener(document, pageKeyHandler);\n});\nvar useEventMouse = exports.useEventMouse = function useEventMouse(props, instances) {\n  var scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContainerHandle = instances.scrollContainerHandle;\n\n  // Functions\n\n  function handleFlick(_ref) {\n    var direction = _ref.direction;\n    var _scrollContainerHandl = scrollContainerHandle.current,\n      canScrollHorizontally = _scrollContainerHandl.canScrollHorizontally,\n      canScrollVertically = _scrollContainerHandl.canScrollVertically,\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n    if ((direction === 'vertical' && canScrollVertically(bounds) || direction === 'horizontal' && canScrollHorizontally(bounds)) && !props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(true);\n    }\n  }\n  function handleMouseDown(ev) {\n    if (props['data-spotlight-container-disabled']) {\n      ev.preventDefault();\n    } else if (scrollMode === 'native') {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n  }\n\n  // Return\n\n  return {\n    handleFlick: handleFlick,\n    handleMouseDown: handleMouseDown\n  };\n};\nvar useEventTouch = exports.useEventTouch = function useEventTouch() {\n  // Functions\n\n  function handleTouchStart() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (!_spotlight[\"default\"].isPaused() && focusedItem) {\n      focusedItem.blur();\n    }\n  }\n\n  // Return\n\n  return {\n    handleTouchStart: handleTouchStart\n  };\n};\nvar useEventVoice = exports.useEventVoice = function useEventVoice(props, instances) {\n  var scrollContainerRef = instances.scrollContainerRef,\n    scrollContainerHandle = instances.scrollContainerHandle;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    isVoiceControl: false,\n    voiceControlDirection: 'vertical'\n  });\n\n  // Functions\n\n  var updateFocusAfterVoiceControl = function updateFocusAfterVoiceControl() {\n    var spotItem = _spotlight[\"default\"].getCurrent(),\n      scrollContainerNode = scrollContainerRef.current;\n    if (_utilDOM[\"default\"].containsDangerously(scrollContainerNode, spotItem)) {\n      var viewportBounds = scrollContainerNode.getBoundingClientRect();\n      var spotItemBounds = spotItem.getBoundingClientRect();\n      var isVertical = mutableRef.current.voiceControlDirection === 'vertical';\n      var first = isVertical ? 'top' : 'left';\n      var last = isVertical ? 'bottom' : 'right';\n\n      /* if the focused element is out of the viewport, find another spottable element in the viewport */\n      if (spotItemBounds[last] <= viewportBounds[first] || spotItemBounds[first] >= viewportBounds[last]) {\n        var nodes = _spotlight[\"default\"].getSpottableDescendants(scrollContainerNode.dataset.spotlightId);\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeBounds = nodes[i].getBoundingClientRect();\n          if (nodeBounds[first] >= viewportBounds[first] && nodeBounds[last] <= viewportBounds[last]) {\n            _spotlight[\"default\"].focus(nodes[i]);\n            break;\n          }\n        }\n      }\n    }\n  };\n  function stopVoice() {\n    if (mutableRef.current.isVoiceControl) {\n      mutableRef.current.isVoiceControl = false;\n      updateFocusAfterVoiceControl();\n    }\n  }\n  var isReachedEdge = function isReachedEdge(scrollPos, ltrBound, rtlBound) {\n    var isRtl = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var bound = isRtl ? rtlBound : ltrBound;\n    return bound === 0 && scrollPos === 0 || bound > 0 && scrollPos >= bound - 1;\n  };\n  var handleVoice = function handleVoice(e) {\n    var isHorizontal = props.direction === 'horizontal',\n      isRtl = scrollContainerHandle.current.rtl,\n      _scrollContainerHandl2 = scrollContainerHandle.current,\n      scrollTop = _scrollContainerHandl2.scrollTop,\n      scrollLeft = _scrollContainerHandl2.scrollLeft,\n      _scrollContainerHandl3 = scrollContainerHandle.current.getScrollBounds(),\n      maxLeft = _scrollContainerHandl3.maxLeft,\n      maxTop = _scrollContainerHandl3.maxTop,\n      verticalDirection = ['up', 'down', 'top', 'bottom'],\n      horizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n      movement = ['previous', 'next', 'first', 'last'];\n    var scroll = e && e.detail && e.detail.scroll,\n      index = movement.indexOf(scroll);\n    if (index > -1) {\n      scroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n    }\n    mutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n    // Case 1. Invalid direction\n    if (mutableRef.current.voiceControlDirection === null) {\n      mutableRef.current.isVoiceControl = false;\n      // Case 2. Cannot scroll\n    } else if (['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0) || ['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop) || ['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl) || ['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl)) {\n      if (window.webOSVoiceReportActionResult) {\n        window.webOSVoiceReportActionResult({\n          voiceUi: {\n            exception: 'alreadyCompleted'\n          }\n        });\n        e.preventDefault();\n      }\n      // Case 3. Can scroll\n    } else {\n      mutableRef.current.isVoiceControl = true;\n      if (['up', 'down', 'left', 'right'].includes(scroll)) {\n        var bounds = scrollContainerHandle.current.getScrollBounds(),\n          directionFactor = scroll === 'up' || scroll === 'left' && !isRtl || scroll === 'right' && isRtl,\n          scrollVertically = verticalDirection.includes(scroll),\n          direction = directionFactor ? -1 : 1,\n          pageDistance = direction * (scrollVertically ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n        scrollContainerHandle.current.lastInputType = 'pageKey';\n        if (direction !== scrollContainerHandle.current.wheelDirection) {\n          scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n          scrollContainerHandle.current.wheelDirection = direction;\n        }\n        scrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, scrollVertically, props.overscrollEffectOn.pageKey);\n      } else {\n        // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n        scrollContainerHandle.current.scrollTo({\n          align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'\n        });\n      }\n      e.preventDefault();\n    }\n  };\n  function addVoiceEventListener(scrollContentRef) {\n    if (_platform[\"default\"].type === 'webos') {\n      (0, _utilEvent[\"default\"])('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n      if (scrollContainerHandle && scrollContainerHandle.current && scrollContainerHandle.current.getScrollBounds) {\n        var bounds = scrollContainerHandle.current.getScrollBounds();\n        if (scrollContainerHandle.current.canScrollVertically(bounds) || scrollContainerHandle.current.canScrollHorizontally(bounds)) {\n          scrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n        }\n      }\n    }\n  }\n  function removeVoiceEventListener(scrollContentRef) {\n    if (_platform[\"default\"].type === 'webos') {\n      (0, _utilEvent[\"default\"])('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n      scrollContentRef.current.removeAttribute('data-webos-voice-intent');\n    }\n  }\n\n  // Return\n\n  return {\n    addVoiceEventListener: addVoiceEventListener,\n    removeVoiceEventListener: removeVoiceEventListener,\n    stopVoice: stopVoice\n  };\n};\nvar useEventWheel = exports.useEventWheel = function useEventWheel(props, instances) {\n  var dataSize = props.dataSize,\n    scrollMode = props.scrollMode,\n    snapToCenter = props.snapToCenter;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContentHandle = instances.scrollContentHandle,\n    scrollContentRef = instances.scrollContentRef,\n    spottable = instances.spottable;\n\n  // Functions\n  function initializeWheeling() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(true);\n    }\n    spottable.current.isWheeling = true;\n  }\n  function handleWheel(_ref2) {\n    var delta = _ref2.delta;\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n    if (delta !== 0) {\n      initializeWheeling();\n    }\n  }\n\n  /*\n   * wheel event handler;\n   * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n   * - for vertical scroll, supports wheel action on scrollbars only\n   */\n  function handleWheelNative(ev) {\n    var overscrollEffectRequired = props.overscrollEffectOn.wheel;\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    var canScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds);\n    var canScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds);\n    var eventDeltaMode = ev.deltaMode;\n    var eventDelta = -ev.wheelDeltaY || ev.deltaY;\n    var positiveDelta = eventDelta > 0;\n    var negativeDelta = eventDelta < 0;\n    var _scrollContainerHandl4 = scrollContainerHandle.current,\n      scrollTop = _scrollContainerHandl4.scrollTop,\n      scrollLeft = _scrollContainerHandl4.scrollLeft;\n    var offset = snapToCenter ? scrollContentHandle.current.primary.gridSize : 0;\n    var delta = 0;\n    var needToHideScrollbarTrack = false;\n    if (typeof window !== 'undefined') {\n      window.document.activeElement.blur();\n    }\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n\n    // FIXME This routine is a temporary support for horizontal wheel scroll.\n    // FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n    if (canScrollVertically) {\n      // This routine handles wheel events on scrollbars for vertical scroll.\n      if (negativeDelta && scrollTop > 0 + offset || positiveDelta && scrollTop < bounds.maxTop - offset) {\n        if (!spottable.current.isWheeling) {\n          initializeWheeling();\n        }\n\n        // If ev.target is a descendant of scrollContent, the event will be handled on scroll event handler.\n        if (!_utilDOM[\"default\"].containsDangerously(scrollContentRef.current, ev.target) || snapToCenter) {\n          delta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n          needToHideScrollbarTrack = !delta;\n          ev.preventDefault();\n        } else if (overscrollEffectRequired) {\n          scrollContainerHandle.current.checkAndApplyOverscrollEffect('vertical', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        ev.stopPropagation();\n      } else {\n        if (overscrollEffectRequired && (negativeDelta && scrollTop <= 0 || positiveDelta && scrollTop >= bounds.maxTop)) {\n          scrollContainerHandle.current.applyOverscrollEffect('vertical', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        needToHideScrollbarTrack = true;\n      }\n    } else if (canScrollHorizontally) {\n      // this routine handles wheel events on any children for horizontal scroll.\n      if (negativeDelta && scrollLeft > 0 + offset || positiveDelta && scrollLeft < bounds.maxLeft - offset) {\n        if (!spottable.current.isWheeling) {\n          initializeWheeling();\n        }\n        delta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n        needToHideScrollbarTrack = !delta;\n        ev.preventDefault();\n        ev.stopPropagation();\n      } else {\n        if (overscrollEffectRequired && (negativeDelta && scrollLeft <= 0 || positiveDelta && scrollLeft >= bounds.maxLeft)) {\n          scrollContainerHandle.current.applyOverscrollEffect('horizontal', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        needToHideScrollbarTrack = true;\n      }\n    }\n    if (delta !== 0) {\n      /* prevent native scrolling feature for vertical direction */\n      ev.preventDefault();\n      var direction = Math.sign(delta);\n\n      // Not to accumulate scroll position if wheel direction is different from hold direction\n      if (direction !== scrollContainerHandle.current.wheelDirection) {\n        scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n        scrollContainerHandle.current.wheelDirection = direction;\n      }\n      if (!snapToCenter) {\n        scrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically, overscrollEffectRequired);\n      } else {\n        var dimensionToExtent = scrollContentHandle.current.dimensionToExtent;\n        var currentIndex = scrollContentHandle.current.getCenterItemIndexFromScrollPosition(canScrollVertically ? scrollTop : scrollLeft);\n        var nextIndex = currentIndex + direction * dimensionToExtent;\n        if (nextIndex > 0 && nextIndex < dataSize - 1) {\n          if (typeof document === 'object') {\n            var target = scrollContentRef.current.querySelector(\"[data-index=\\\"\".concat(nextIndex, \"\\\"] > div\"));\n\n            // remove effect\n            themeScrollContentHandle.current.removeScaleEffect();\n            // add effect\n            themeScrollContentHandle.current.addScaleEffect(target);\n          }\n          if (themeScrollContentHandle.current.resetSnapToCenterStatus) {\n            themeScrollContentHandle.current.resetSnapToCenterStatus();\n          }\n          scrollContainerHandle.current.scrollTo({\n            index: nextIndex,\n            stickTo: 'center'\n          });\n        }\n      }\n    }\n    if (needToHideScrollbarTrack) {\n      scrollContainerHandle.current.startHidingScrollbarTrack();\n    }\n  }\n\n  // Return\n\n  return {\n    handleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","useEventWheel","useEventVoice","useEventTouch","useEventMouse","useEventMonitor","useEventKey","useEventFocus","_handle","require","_platform","_interopRequireDefault","_snapshot","_util","_spotlight","_interopRequireWildcard","_container","_utils","_target","_useScroll","_utilEvent","_utilDOM","_react","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","Symbol","iterator","f","o","next","done","push","length","Array","isArray","_createForOfIteratorHelper","allowArrayLike","it","F","s","_e","normalCompletion","didErr","err","step","_e2","minLen","_arrayLikeToArray","toString","slice","constructor","name","from","test","len","arr2","animationDuration","constants","epsilon","isPageDown","isPageUp","overscrollTypeOnce","paginationPageMultiplier","scrollWheelPageMultiplierForMaxPixel","lastPointer","x","y","props","instances","scrollMode","scrollContainerHandle","scrollContainerRef","scrollContentRef","spottable","themeScrollContentHandle","startScrollOnFocus","pos","top","left","bounds","current","getScrollBounds","scrollHorizontally","maxLeft","scrollLeft","scrollVertically","maxTop","scrollTop","start","targetX","targetY","animate","animateOnFocus","overscrollEffect","overscrollEffectOn","lastInputType","shouldPreventOverscrollEffect","lastScrollPositionOnFocus","_scrollHorizontally","Math","abs","_scrollVertically","calculateAndScrollTo","positionFn","calculatePositionOnFocus","scrollContentNode","spotItem","getCurrent","scrollToContentContainerOnFocus","getPositionTargetOnFocus","containsDangerously","lastPos","animator","isAnimating","scrolling","contentRect","getRect","itemRect","scrollPosition","direction","right","bottom","item","scrollHeight","handleFocus","ev","shouldPreventScrollByFocus","isWheeling","stop","getPointerMode","isDragging","indexToFocus","target","setLastFocusedNode","hasFocus","context","checkAndApplyOverscrollEffectByDirection","isContent","handleKeyDown","keyCode","repeat","forward","preventDefault","stopPropagation","scrollByPage","pageKey","getDirection","element","arrowKey","getTargetByDirectionFromElement","pageKeyDirection","focusedItem","isUp","directionFactor","pageDistance","clientHeight","scrollPossible","wheelDirection","isScrollAnimationTargetAccumulated","contentNode","getBoundingClientRect","clientRect","yAdjust","clamp","blur","setContainerDisabled","pauseSpotlight","pointToFocus","scrollToAccumulatedTarget","scrollByPageOnPointerMode","scrollers","Map","pointerTracker","clientX","clientY","pageKeyHandler","_lastPointer","elem","document","elementFromPoint","_iterator","_step","_step$value","key","lastPointerProp","mutableRef","useRef","pageKeyHandlerObj","useEffect","setMonitorEventTarget","deleteMonitorEventTarget","onWindowReady","addEventListener","handleFlick","_ref","_scrollContainerHandl","canScrollHorizontally","canScrollVertically","handleMouseDown","handleTouchStart","isPaused","isVoiceControl","voiceControlDirection","updateFocusAfterVoiceControl","scrollContainerNode","viewportBounds","spotItemBounds","isVertical","first","last","nodes","getSpottableDescendants","dataset","spotlightId","nodeBounds","focus","stopVoice","isReachedEdge","scrollPos","ltrBound","rtlBound","isRtl","arguments","undefined","bound","handleVoice","isHorizontal","rtl","_scrollContainerHandl2","_scrollContainerHandl3","verticalDirection","horizontalDirection","movement","scroll","detail","index","indexOf","includes","window","webOSVoiceReportActionResult","voiceUi","exception","clientWidth","scrollTo","align","addVoiceEventListener","type","setAttribute","removeVoiceEventListener","removeEventListener","removeAttribute","dataSize","snapToCenter","scrollContentHandle","initializeWheeling","handleWheel","_ref2","delta","handleWheelNative","overscrollEffectRequired","wheel","eventDeltaMode","deltaMode","eventDelta","wheelDeltaY","deltaY","positiveDelta","negativeDelta","_scrollContainerHandl4","offset","primary","gridSize","needToHideScrollbarTrack","activeElement","showScrollbarTrack","calculateDistanceByWheel","checkAndApplyOverscrollEffect","applyOverscrollEffect","sign","dimensionToExtent","currentIndex","getCenterItemIndexFromScrollPosition","nextIndex","querySelector","concat","removeScaleEffect","addScaleEffect","resetSnapToCenterStatus","stickTo","startHidingScrollbarTrack"],"sources":["/Users/meogyu/connected_front/node_modules/@enact/sandstone/useScroll/useEvent.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useEventWheel = exports.useEventVoice = exports.useEventTouch = exports.useEventMouse = exports.useEventMonitor = exports.useEventKey = exports.useEventFocus = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\nvar _snapshot = require(\"@enact/core/snapshot\");\nvar _util = require(\"@enact/core/util\");\nvar _spotlight = _interopRequireWildcard(require(\"@enact/spotlight\"));\nvar _container = require(\"@enact/spotlight/src/container\");\nvar _utils = require(\"@enact/spotlight/src/utils\");\nvar _target = require(\"@enact/spotlight/src/target\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\nvar _react = require(\"react\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar animationDuration = _useScroll.constants.animationDuration,\n  epsilon = _useScroll.constants.epsilon,\n  isPageDown = _useScroll.constants.isPageDown,\n  isPageUp = _useScroll.constants.isPageUp,\n  overscrollTypeOnce = _useScroll.constants.overscrollTypeOnce,\n  paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n  scrollWheelPageMultiplierForMaxPixel = _useScroll.constants.scrollWheelPageMultiplierForMaxPixel;\nvar lastPointer = {\n  x: 0,\n  y: 0\n};\nvar useEventFocus = exports.useEventFocus = function useEventFocus(props, instances) {\n  var scrollMode = props.scrollMode;\n  var scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContainerRef = instances.scrollContainerRef,\n    scrollContentRef = instances.scrollContentRef,\n    spottable = instances.spottable,\n    themeScrollContentHandle = instances.themeScrollContentHandle;\n\n  // Functions\n\n  var startScrollOnFocus = function startScrollOnFocus(pos) {\n    if (pos) {\n      var top = pos.top,\n        left = pos.left,\n        bounds = scrollContainerHandle.current.getScrollBounds();\n      if (scrollMode === 'translate') {\n        var scrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n          scrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n        if (scrollHorizontally || scrollVertically) {\n          scrollContainerHandle.current.start({\n            targetX: left,\n            targetY: top,\n            animate: animationDuration > 0 && spottable.current.animateOnFocus,\n            overscrollEffect: props.overscrollEffectOn[scrollContainerHandle.current.lastInputType] && (!themeScrollContentHandle.current.shouldPreventOverscrollEffect || !themeScrollContentHandle.current.shouldPreventOverscrollEffect())\n          });\n          spottable.current.lastScrollPositionOnFocus = pos;\n        }\n      } else {\n        var _scrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n          _scrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n        if (_scrollHorizontally || _scrollVertically) {\n          scrollContainerHandle.current.start({\n            targetX: left,\n            targetY: top,\n            animate: spottable.current.animateOnFocus,\n            overscrollEffect: props.overscrollEffectOn[scrollContainerHandle.current.lastInputType] && (!themeScrollContentHandle.current.shouldPreventOverscrollEffect || !themeScrollContentHandle.current.shouldPreventOverscrollEffect())\n          });\n          spottable.current.lastScrollPositionOnFocus = pos;\n        }\n      }\n    }\n  };\n  function calculateAndScrollTo() {\n    var positionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n      scrollContentNode = scrollContentRef.current;\n    var spotItem = _spotlight[\"default\"].getCurrent();\n\n    // Scroll to the container created by ContentContainerDecorator when descendants get focused\n    if (props.scrollToContentContainerOnFocus) {\n      spotItem = (0, _container.getPositionTargetOnFocus)(spotItem);\n    }\n    if (spotItem && positionFn && _utilDOM[\"default\"].containsDangerously(scrollContentNode, spotItem)) {\n      var lastPos = spottable.current.lastScrollPositionOnFocus;\n      var pos;\n\n      // If scroll animation is ongoing, we need to pass last target position to\n      // determine correct scroll position.\n      if (lastPos & (scrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() || scrollMode === 'native' && scrollContainerHandle.current.scrolling)) {\n        var contentRect = (0, _utils.getRect)(scrollContentNode),\n          itemRect = (0, _utils.getRect)(spotItem);\n        var scrollPosition;\n        if (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n          scrollPosition = lastPos.left;\n        } else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n          scrollPosition = lastPos.top;\n        }\n        pos = positionFn({\n          item: spotItem,\n          scrollPosition: scrollPosition\n        });\n      } else {\n        pos = positionFn({\n          item: spotItem\n        });\n      }\n      if (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n        startScrollOnFocus(pos);\n      }\n\n      // update `scrollHeight`\n      scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n    }\n  }\n  function handleFocus(ev) {\n    var shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ? themeScrollContentHandle.current.shouldPreventScrollByFocus() : false;\n    if (spottable.current.isWheeling) {\n      scrollContainerHandle.current.stop();\n      if (scrollMode === 'translate') {\n        spottable.current.animateOnFocus = false;\n      }\n    }\n    if (!(shouldPreventScrollByFocus || _spotlight[\"default\"].getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n      var item = ev.target,\n        spotItem = _spotlight[\"default\"].getCurrent();\n      if (item && item === spotItem) {\n        calculateAndScrollTo();\n      }\n    } else if (themeScrollContentHandle.current.setLastFocusedNode) {\n      themeScrollContentHandle.current.setLastFocusedNode(ev.target);\n    }\n  }\n  function hasFocus() {\n    var current = _spotlight[\"default\"].getCurrent();\n    if (current && scrollContainerRef.current) {\n      return _utilDOM[\"default\"].containsDangerously(scrollContainerRef, current);\n    }\n  }\n\n  // Return\n\n  return {\n    calculateAndScrollTo: calculateAndScrollTo,\n    handleFocus: handleFocus,\n    hasFocus: hasFocus\n  };\n};\nvar useEventKey = exports.useEventKey = function useEventKey(props, instances, context) {\n  var scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    spottable = instances.spottable,\n    scrollContentRef = instances.scrollContentRef,\n    scrollContainerHandle = instances.scrollContainerHandle;\n  var checkAndApplyOverscrollEffectByDirection = context.checkAndApplyOverscrollEffectByDirection,\n    hasFocus = context.hasFocus,\n    isContent = context.isContent;\n\n  // Functions\n\n  function handleKeyDown(ev) {\n    var keyCode = ev.keyCode,\n      repeat = ev.repeat,\n      target = ev.target;\n    (0, _handle.forward)('onKeyDown', ev, props);\n    if (isPageUp(keyCode) || isPageDown(keyCode)) {\n      ev.preventDefault();\n    }\n    spottable.current.animateOnFocus = true;\n    if (!repeat && hasFocus()) {\n      var direction = null;\n      if (isPageUp(keyCode) || isPageDown(keyCode)) {\n        if (props.direction === 'vertical' || props.direction === 'both') {\n          direction = isPageUp(keyCode) ? 'up' : 'down';\n          if (isContent(target)) {\n            ev.stopPropagation();\n            scrollByPage(direction);\n          }\n          if (props.overscrollEffectOn.pageKey) {\n            checkAndApplyOverscrollEffectByDirection(direction);\n          }\n        }\n      } else if ((0, _spotlight.getDirection)(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !_spotlight[\"default\"].getPointerMode())) {\n        var element = _spotlight[\"default\"].getCurrent();\n        scrollContainerHandle.current.lastInputType = 'arrowKey';\n        direction = (0, _spotlight.getDirection)(keyCode);\n        if (props.overscrollEffectOn.arrowKey && !(element ? (0, _target.getTargetByDirectionFromElement)(direction, element) : null)) {\n          checkAndApplyOverscrollEffectByDirection(direction);\n        }\n      }\n    }\n  }\n  function scrollByPage(pageKeyDirection) {\n    var scrollTop = scrollContainerHandle.current.scrollTop,\n      focusedItem = _spotlight[\"default\"].getCurrent(),\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      isUp = pageKeyDirection === 'up',\n      directionFactor = isUp ? -1 : 1,\n      pageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n    var direction = pageKeyDirection;\n    var scrollPossible = false;\n    if (scrollMode === 'translate') {\n      scrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n    } else {\n      scrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n    }\n    scrollContainerHandle.current.lastInputType = 'pageKey';\n    if (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = directionFactor;\n    }\n    if (scrollPossible) {\n      if (focusedItem) {\n        var contentNode = scrollContentRef.current;\n\n        // Should do nothing when focusedItem is paging control button of Scrollbar\n        if (_utilDOM[\"default\"].containsDangerously(contentNode, focusedItem)) {\n          var contentRect = contentNode.getBoundingClientRect(),\n            clientRect = focusedItem.getBoundingClientRect(),\n            yAdjust = isUp ? 1 : -1,\n            x = (0, _util.clamp)(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n          var y = 0;\n          if (bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance) {\n            y = contentRect[isUp ? 'top' : 'bottom'] + yAdjust;\n            direction = isUp ? 'down' : 'up'; // Change direction to find target in the content\n          } else {\n            y = (0, _util.clamp)(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n          }\n          focusedItem.blur();\n          if (!props['data-spotlight-container-disabled']) {\n            themeScrollContentHandle.current.setContainerDisabled(true);\n          }\n          if (themeScrollContentHandle.current.pauseSpotlight) {\n            themeScrollContentHandle.current.pauseSpotlight(true);\n          }\n          spottable.current.pointToFocus = {\n            direction: direction,\n            x: x,\n            y: y\n          };\n        }\n      } else {\n        spottable.current.pointToFocus = {\n          direction: direction,\n          x: lastPointer.x,\n          y: lastPointer.y\n        };\n      }\n      scrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true, props.overscrollEffectOn.pageKey);\n    }\n  }\n  function scrollByPageOnPointerMode(ev) {\n    var keyCode = ev.keyCode,\n      repeat = ev.repeat;\n    (0, _handle.forward)('onKeyDown', ev, props);\n    ev.preventDefault();\n    spottable.current.animateOnFocus = true;\n    if (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n      var direction = isPageUp(keyCode) ? 'up' : 'down';\n      scrollByPage(direction);\n      if (props.overscrollEffectOn.pageKey) {\n        /* if the spotlight focus will not move */\n        checkAndApplyOverscrollEffectByDirection(direction);\n      }\n      return true; // means consumed\n    }\n    return false; // means to be propagated\n  }\n\n  // Return\n\n  return {\n    handleKeyDown: handleKeyDown,\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  };\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nvar scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nvar pointerTracker = function pointerTracker(ev) {\n  lastPointer.x = ev.clientX;\n  lastPointer.y = ev.clientY;\n};\nvar pageKeyHandler = function pageKeyHandler(ev) {\n  var keyCode = ev.keyCode;\n  if (_spotlight[\"default\"].getPointerMode() && !_spotlight[\"default\"].getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n    var _lastPointer = lastPointer,\n      x = _lastPointer.x,\n      y = _lastPointer.y,\n      elem = document.elementFromPoint(x, y);\n    if (elem) {\n      var _iterator = _createForOfIteratorHelper(scrollers),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            value = _step$value[1];\n          if (_utilDOM[\"default\"].containsDangerously(value, elem)) {\n            /* To handle page keys in nested scrollable components,\n             * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n             * This approach assumes that an inner scrollable component is\n             * mounted earlier than an outer scrollable component.\n             */\n            if (key.scrollByPageOnPointerMode(ev)) {\n              break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }\n};\nvar useEventMonitor = exports.useEventMonitor = function useEventMonitor(props, instances, context) {\n  var scrollContainerRef = instances.scrollContainerRef;\n  var lastPointerProp = context.lastPointer,\n    scrollByPageOnPointerMode = context.scrollByPageOnPointerMode;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    pageKeyHandlerObj: {\n      scrollByPageOnPointerMode: scrollByPageOnPointerMode\n    }\n  });\n  lastPointer = lastPointerProp;\n\n  // Hooks\n\n  (0, _react.useEffect)(function () {\n    var setMonitorEventTarget = function setMonitorEventTarget(target) {\n      scrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n    };\n    var deleteMonitorEventTarget = function deleteMonitorEventTarget() {\n      scrollers[\"delete\"](mutableRef.current.pageKeyHandlerObj);\n    };\n    setMonitorEventTarget(scrollContainerRef.current);\n    return function () {\n      // TODO: Replace `this` to something.\n      deleteMonitorEventTarget();\n    };\n  }, [scrollContainerRef]);\n};\n(0, _snapshot.onWindowReady)(function () {\n  (0, _utilEvent[\"default\"])('mousemove').addEventListener(document, pointerTracker);\n  (0, _utilEvent[\"default\"])('keydown').addEventListener(document, pageKeyHandler);\n});\nvar useEventMouse = exports.useEventMouse = function useEventMouse(props, instances) {\n  var scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContainerHandle = instances.scrollContainerHandle;\n\n  // Functions\n\n  function handleFlick(_ref) {\n    var direction = _ref.direction;\n    var _scrollContainerHandl = scrollContainerHandle.current,\n      canScrollHorizontally = _scrollContainerHandl.canScrollHorizontally,\n      canScrollVertically = _scrollContainerHandl.canScrollVertically,\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n    if ((direction === 'vertical' && canScrollVertically(bounds) || direction === 'horizontal' && canScrollHorizontally(bounds)) && !props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(true);\n    }\n  }\n  function handleMouseDown(ev) {\n    if (props['data-spotlight-container-disabled']) {\n      ev.preventDefault();\n    } else if (scrollMode === 'native') {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n  }\n\n  // Return\n\n  return {\n    handleFlick: handleFlick,\n    handleMouseDown: handleMouseDown\n  };\n};\nvar useEventTouch = exports.useEventTouch = function useEventTouch() {\n  // Functions\n\n  function handleTouchStart() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (!_spotlight[\"default\"].isPaused() && focusedItem) {\n      focusedItem.blur();\n    }\n  }\n\n  // Return\n\n  return {\n    handleTouchStart: handleTouchStart\n  };\n};\nvar useEventVoice = exports.useEventVoice = function useEventVoice(props, instances) {\n  var scrollContainerRef = instances.scrollContainerRef,\n    scrollContainerHandle = instances.scrollContainerHandle;\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    isVoiceControl: false,\n    voiceControlDirection: 'vertical'\n  });\n\n  // Functions\n\n  var updateFocusAfterVoiceControl = function updateFocusAfterVoiceControl() {\n    var spotItem = _spotlight[\"default\"].getCurrent(),\n      scrollContainerNode = scrollContainerRef.current;\n    if (_utilDOM[\"default\"].containsDangerously(scrollContainerNode, spotItem)) {\n      var viewportBounds = scrollContainerNode.getBoundingClientRect();\n      var spotItemBounds = spotItem.getBoundingClientRect();\n      var isVertical = mutableRef.current.voiceControlDirection === 'vertical';\n      var first = isVertical ? 'top' : 'left';\n      var last = isVertical ? 'bottom' : 'right';\n\n      /* if the focused element is out of the viewport, find another spottable element in the viewport */\n      if (spotItemBounds[last] <= viewportBounds[first] || spotItemBounds[first] >= viewportBounds[last]) {\n        var nodes = _spotlight[\"default\"].getSpottableDescendants(scrollContainerNode.dataset.spotlightId);\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeBounds = nodes[i].getBoundingClientRect();\n          if (nodeBounds[first] >= viewportBounds[first] && nodeBounds[last] <= viewportBounds[last]) {\n            _spotlight[\"default\"].focus(nodes[i]);\n            break;\n          }\n        }\n      }\n    }\n  };\n  function stopVoice() {\n    if (mutableRef.current.isVoiceControl) {\n      mutableRef.current.isVoiceControl = false;\n      updateFocusAfterVoiceControl();\n    }\n  }\n  var isReachedEdge = function isReachedEdge(scrollPos, ltrBound, rtlBound) {\n    var isRtl = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var bound = isRtl ? rtlBound : ltrBound;\n    return bound === 0 && scrollPos === 0 || bound > 0 && scrollPos >= bound - 1;\n  };\n  var handleVoice = function handleVoice(e) {\n    var isHorizontal = props.direction === 'horizontal',\n      isRtl = scrollContainerHandle.current.rtl,\n      _scrollContainerHandl2 = scrollContainerHandle.current,\n      scrollTop = _scrollContainerHandl2.scrollTop,\n      scrollLeft = _scrollContainerHandl2.scrollLeft,\n      _scrollContainerHandl3 = scrollContainerHandle.current.getScrollBounds(),\n      maxLeft = _scrollContainerHandl3.maxLeft,\n      maxTop = _scrollContainerHandl3.maxTop,\n      verticalDirection = ['up', 'down', 'top', 'bottom'],\n      horizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n      movement = ['previous', 'next', 'first', 'last'];\n    var scroll = e && e.detail && e.detail.scroll,\n      index = movement.indexOf(scroll);\n    if (index > -1) {\n      scroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n    }\n    mutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n    // Case 1. Invalid direction\n    if (mutableRef.current.voiceControlDirection === null) {\n      mutableRef.current.isVoiceControl = false;\n      // Case 2. Cannot scroll\n    } else if (['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0) || ['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop) || ['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl) || ['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl)) {\n      if (window.webOSVoiceReportActionResult) {\n        window.webOSVoiceReportActionResult({\n          voiceUi: {\n            exception: 'alreadyCompleted'\n          }\n        });\n        e.preventDefault();\n      }\n      // Case 3. Can scroll\n    } else {\n      mutableRef.current.isVoiceControl = true;\n      if (['up', 'down', 'left', 'right'].includes(scroll)) {\n        var bounds = scrollContainerHandle.current.getScrollBounds(),\n          directionFactor = scroll === 'up' || scroll === 'left' && !isRtl || scroll === 'right' && isRtl,\n          scrollVertically = verticalDirection.includes(scroll),\n          direction = directionFactor ? -1 : 1,\n          pageDistance = direction * (scrollVertically ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n        scrollContainerHandle.current.lastInputType = 'pageKey';\n        if (direction !== scrollContainerHandle.current.wheelDirection) {\n          scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n          scrollContainerHandle.current.wheelDirection = direction;\n        }\n        scrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, scrollVertically, props.overscrollEffectOn.pageKey);\n      } else {\n        // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n        scrollContainerHandle.current.scrollTo({\n          align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'\n        });\n      }\n      e.preventDefault();\n    }\n  };\n  function addVoiceEventListener(scrollContentRef) {\n    if (_platform[\"default\"].type === 'webos') {\n      (0, _utilEvent[\"default\"])('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n      if (scrollContainerHandle && scrollContainerHandle.current && scrollContainerHandle.current.getScrollBounds) {\n        var bounds = scrollContainerHandle.current.getScrollBounds();\n        if (scrollContainerHandle.current.canScrollVertically(bounds) || scrollContainerHandle.current.canScrollHorizontally(bounds)) {\n          scrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n        }\n      }\n    }\n  }\n  function removeVoiceEventListener(scrollContentRef) {\n    if (_platform[\"default\"].type === 'webos') {\n      (0, _utilEvent[\"default\"])('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n      scrollContentRef.current.removeAttribute('data-webos-voice-intent');\n    }\n  }\n\n  // Return\n\n  return {\n    addVoiceEventListener: addVoiceEventListener,\n    removeVoiceEventListener: removeVoiceEventListener,\n    stopVoice: stopVoice\n  };\n};\nvar useEventWheel = exports.useEventWheel = function useEventWheel(props, instances) {\n  var dataSize = props.dataSize,\n    scrollMode = props.scrollMode,\n    snapToCenter = props.snapToCenter;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContentHandle = instances.scrollContentHandle,\n    scrollContentRef = instances.scrollContentRef,\n    spottable = instances.spottable;\n\n  // Functions\n  function initializeWheeling() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(true);\n    }\n    spottable.current.isWheeling = true;\n  }\n  function handleWheel(_ref2) {\n    var delta = _ref2.delta;\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.blur();\n    }\n    if (delta !== 0) {\n      initializeWheeling();\n    }\n  }\n\n  /*\n   * wheel event handler;\n   * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n   * - for vertical scroll, supports wheel action on scrollbars only\n   */\n  function handleWheelNative(ev) {\n    var overscrollEffectRequired = props.overscrollEffectOn.wheel;\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    var canScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds);\n    var canScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds);\n    var eventDeltaMode = ev.deltaMode;\n    var eventDelta = -ev.wheelDeltaY || ev.deltaY;\n    var positiveDelta = eventDelta > 0;\n    var negativeDelta = eventDelta < 0;\n    var _scrollContainerHandl4 = scrollContainerHandle.current,\n      scrollTop = _scrollContainerHandl4.scrollTop,\n      scrollLeft = _scrollContainerHandl4.scrollLeft;\n    var offset = snapToCenter ? scrollContentHandle.current.primary.gridSize : 0;\n    var delta = 0;\n    var needToHideScrollbarTrack = false;\n    if (typeof window !== 'undefined') {\n      window.document.activeElement.blur();\n    }\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n\n    // FIXME This routine is a temporary support for horizontal wheel scroll.\n    // FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n    if (canScrollVertically) {\n      // This routine handles wheel events on scrollbars for vertical scroll.\n      if (negativeDelta && scrollTop > 0 + offset || positiveDelta && scrollTop < bounds.maxTop - offset) {\n        if (!spottable.current.isWheeling) {\n          initializeWheeling();\n        }\n\n        // If ev.target is a descendant of scrollContent, the event will be handled on scroll event handler.\n        if (!_utilDOM[\"default\"].containsDangerously(scrollContentRef.current, ev.target) || snapToCenter) {\n          delta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n          needToHideScrollbarTrack = !delta;\n          ev.preventDefault();\n        } else if (overscrollEffectRequired) {\n          scrollContainerHandle.current.checkAndApplyOverscrollEffect('vertical', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        ev.stopPropagation();\n      } else {\n        if (overscrollEffectRequired && (negativeDelta && scrollTop <= 0 || positiveDelta && scrollTop >= bounds.maxTop)) {\n          scrollContainerHandle.current.applyOverscrollEffect('vertical', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        needToHideScrollbarTrack = true;\n      }\n    } else if (canScrollHorizontally) {\n      // this routine handles wheel events on any children for horizontal scroll.\n      if (negativeDelta && scrollLeft > 0 + offset || positiveDelta && scrollLeft < bounds.maxLeft - offset) {\n        if (!spottable.current.isWheeling) {\n          initializeWheeling();\n        }\n        delta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n        needToHideScrollbarTrack = !delta;\n        ev.preventDefault();\n        ev.stopPropagation();\n      } else {\n        if (overscrollEffectRequired && (negativeDelta && scrollLeft <= 0 || positiveDelta && scrollLeft >= bounds.maxLeft)) {\n          scrollContainerHandle.current.applyOverscrollEffect('horizontal', positiveDelta ? 'after' : 'before', overscrollTypeOnce);\n        }\n        needToHideScrollbarTrack = true;\n      }\n    }\n    if (delta !== 0) {\n      /* prevent native scrolling feature for vertical direction */\n      ev.preventDefault();\n      var direction = Math.sign(delta);\n\n      // Not to accumulate scroll position if wheel direction is different from hold direction\n      if (direction !== scrollContainerHandle.current.wheelDirection) {\n        scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n        scrollContainerHandle.current.wheelDirection = direction;\n      }\n      if (!snapToCenter) {\n        scrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically, overscrollEffectRequired);\n      } else {\n        var dimensionToExtent = scrollContentHandle.current.dimensionToExtent;\n        var currentIndex = scrollContentHandle.current.getCenterItemIndexFromScrollPosition(canScrollVertically ? scrollTop : scrollLeft);\n        var nextIndex = currentIndex + direction * dimensionToExtent;\n        if (nextIndex > 0 && nextIndex < dataSize - 1) {\n          if (typeof document === 'object') {\n            var target = scrollContentRef.current.querySelector(\"[data-index=\\\"\".concat(nextIndex, \"\\\"] > div\"));\n\n            // remove effect\n            themeScrollContentHandle.current.removeScaleEffect();\n            // add effect\n            themeScrollContentHandle.current.addScaleEffect(target);\n          }\n          if (themeScrollContentHandle.current.resetSnapToCenterStatus) {\n            themeScrollContentHandle.current.resetSnapToCenterStatus();\n          }\n          scrollContainerHandle.current.scrollTo({\n            index: nextIndex,\n            stickTo: 'center'\n          });\n        }\n      }\n    }\n    if (needToHideScrollbarTrack) {\n      scrollContainerHandle.current.startHidingScrollbarTrack();\n    }\n  }\n\n  // Return\n\n  return {\n    handleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}