{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScroll = exports[\"default\"] = exports.dataIndexAttribute = exports.affordanceSize = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _container = require(\"@enact/spotlight/src/container\");\nvar _target = require(\"@enact/spotlight/src/target\");\nvar _utils = require(\"@enact/spotlight/src/utils\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _SharedStateDecorator = require(\"../internal/SharedStateDecorator\");\nvar _useThemeScrollContentHandle = require(\"./useThemeScrollContentHandle\");\nvar _useEvent = require(\"./useEvent\");\nvar _useOverscrollEffect2 = _interopRequireDefault(require(\"./useOverscrollEffect\"));\nvar _useSpotlight = require(\"./useSpotlight\");\nvar _OverscrollEffectModule = _interopRequireDefault(require(\"./OverscrollEffect.module.css\"));\nvar _useScrollModule = _interopRequireDefault(require(\"./useScroll.module.css\"));\nvar _excluded = [\"className\", \"data-spotlight-container\", \"data-spotlight-container-disabled\", \"data-spotlight-id\", \"data-webos-voice-disabled\", \"data-webos-voice-focused\", \"data-webos-voice-group-label\", \"editable\", \"focusableScrollbar\", \"fadeOut\", \"horizontalScrollThumbAriaLabel\", \"noAffordance\", \"scrollMode\", \"snapToCenter\", \"style\", \"verticalScrollThumbAriaLabel\"];\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n} /**\n  * Sandstone-themed scrollable hook and behaviors.\n  *\n  * @module sandstone/useScroll\n  * @exports affordanceSize\n  * @exports dataIndexAttribute\n  * @exports useScroll\n  * @private\n  */\nvar arrowKeyMultiplier = 0.2,\n  affordanceSize = exports.affordanceSize = 48,\n  paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n  reverseDirections = {\n    down: 'up',\n    up: 'down'\n  };\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * {@link sandstone/VirtualList.VirtualList|VirtualList} or\n * {@link sandstone/VirtualList.VirtualGridList|VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof sandstone/useScroll\n * @type {String}\n * @private\n */\nvar dataIndexAttribute = exports.dataIndexAttribute = 'data-index';\nvar isIntersecting = function isIntersecting(elem, container) {\n  return elem && (0, _utils.intersects)((0, _utils.getRect)(container), (0, _utils.getRect)(elem));\n};\nvar getIntersectingElement = function getIntersectingElement(elem, container) {\n  return isIntersecting(elem, container) && elem;\n};\nvar getTargetInViewByDirectionFromPosition = function getTargetInViewByDirectionFromPosition(direction, position, container) {\n  var target = (0, _target.getTargetByDirectionFromPosition)(direction, position, (0, _container.getContainerId)(container));\n  return getIntersectingElement(target, container);\n};\nvar useThemeScroll = function useThemeScroll(props, instances) {\n  var scrollbarTrackCss = props.scrollbarTrackCss,\n    scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContentRef = instances.scrollContentRef,\n    scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContainerRef = instances.scrollContainerRef;\n  var contextSharedState = (0, _react.useContext)(_SharedStateDecorator.SharedState);\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    animateOnFocus: true,\n    indexToFocus: null,\n    isWheeling: false,\n    lastScrollPositionOnFocus: null,\n    nodeToFocus: null,\n    pointToFocus: null\n  });\n\n  // Hooks\n\n  (0, _useSpotlight.useSpotlightRestore)(props, instances);\n  var _useOverscrollEffect = (0, _useOverscrollEffect2[\"default\"])({}, instances),\n    applyOverscrollEffect = _useOverscrollEffect.applyOverscrollEffect,\n    checkAndApplyOverscrollEffectByDirection = _useOverscrollEffect.checkAndApplyOverscrollEffectByDirection,\n    clearOverscrollEffect = _useOverscrollEffect.clearOverscrollEffect;\n  var _useEventWheel = (0, _useEvent.useEventWheel)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    })),\n    handleWheel = _useEventWheel.handleWheel;\n  var _useEventFocus = (0, _useEvent.useEventFocus)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    })),\n    calculateAndScrollTo = _useEventFocus.calculateAndScrollTo,\n    handleFocus = _useEventFocus.handleFocus,\n    hasFocus = _useEventFocus.hasFocus;\n  var _useEventKey = (0, _useEvent.useEventKey)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    }), {\n      checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n      hasFocus: hasFocus,\n      isContent: isContent\n    }),\n    handleKeyDown = _useEventKey.handleKeyDown,\n    lastPointer = _useEventKey.lastPointer,\n    scrollByPageOnPointerMode = _useEventKey.scrollByPageOnPointerMode;\n  (0, _useEvent.useEventMonitor)({}, instances, {\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  });\n  var _useEventMouse = (0, _useEvent.useEventMouse)({}, instances),\n    handleFlick = _useEventMouse.handleFlick,\n    handleMouseDown = _useEventMouse.handleMouseDown;\n  var _useEventTouch = (0, _useEvent.useEventTouch)(),\n    handleTouchStart = _useEventTouch.handleTouchStart;\n  var _useEventVoice = (0, _useEvent.useEventVoice)(props, instances),\n    addVoiceEventListener = _useEventVoice.addVoiceEventListener,\n    removeVoiceEventListener = _useEventVoice.removeVoiceEventListener,\n    stopVoice = _useEventVoice.stopVoice;\n  var scrollbarProps = {\n    cbAlertScrollbarTrack: alertScrollbarTrack,\n    onInteractionForScroll: onInteractionForScroll,\n    scrollbarTrackCss: scrollbarTrackCss\n  };\n\n  // Functions\n\n  function isContent(element) {\n    return element && _utilDOM[\"default\"].containsDangerously(scrollContentRef, element);\n  }\n  function scrollTo(opt) {\n    mutableRef.current.indexToFocus = opt.focus && typeof opt.index === 'number' ? opt.index : null;\n    mutableRef.current.nodeToFocus = opt.focus && opt.node instanceof Object && opt.node.nodeType === 1 ? opt.node : null;\n  }\n  function start(animate) {\n    if (scrollMode === 'native' && !animate) {\n      focusOnItem();\n    }\n  }\n  function stop() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n    if (themeScrollContentHandle.current.pauseSpotlight) {\n      themeScrollContentHandle.current.pauseSpotlight(false);\n    }\n    focusOnItem();\n    mutableRef.current.lastScrollPositionOnFocus = null;\n    mutableRef.current.isWheeling = false;\n    stopVoice();\n  }\n  function scrollStopOnScroll() {\n    stop();\n  }\n  function onInteractionForScroll(_ref) {\n    var inputType = _ref.inputType,\n      isForward = _ref.isForward,\n      isPagination = _ref.isPagination,\n      isVerticalScrollBar = _ref.isVerticalScrollBar;\n    var wheelDirection = scrollContainerHandle.current.wheelDirection,\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      direction = isForward ? 1 : -1,\n      pageSize = isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth,\n      distance = pageSize * (isPagination ? paginationPageMultiplier : arrowKeyMultiplier);\n    scrollContainerHandle.current.lastInputType = inputType;\n    if (direction !== wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = direction;\n    }\n    scrollContainerHandle.current.scrollToAccumulatedTarget(direction * distance, isVerticalScrollBar, props.overscrollEffectOn[inputType]);\n  }\n  function alertScrollbarTrack() {\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n    scrollContainerHandle.current.startHidingScrollbarTrack();\n  }\n  function focusOnItem() {\n    var isItemFocused = false;\n    if (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n      themeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n      mutableRef.current.indexToFocus = null;\n      isItemFocused = true;\n    }\n    if (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n      themeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n      mutableRef.current.nodeToFocus = null;\n      isItemFocused = true;\n    }\n    if (mutableRef.current.pointToFocus !== null) {\n      // no need to focus on pointer mode\n      if (!_spotlight[\"default\"].getPointerMode()) {\n        var _mutableRef$current$p = mutableRef.current.pointToFocus,\n          direction = _mutableRef$current$p.direction,\n          x = _mutableRef$current$p.x,\n          y = _mutableRef$current$p.y,\n          position = {\n            x: x,\n            y: y\n          },\n          elemFromPoint = document.elementFromPoint(x, y),\n          target = elemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(\".\".concat(_Spottable.spottableClass)), scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n        if (target) {\n          _spotlight[\"default\"].focus(target);\n          isItemFocused = true;\n        }\n      }\n      mutableRef.current.pointToFocus = null;\n    }\n    if (_spotlight[\"default\"].getPointerMode() && !isItemFocused) {\n      _spotlight[\"default\"].focus(scrollContainerRef.current, {\n        enterTo: 'topmost'\n      });\n    }\n  }\n  function handleScroll(ev) {\n    var x = ev.scrollLeft,\n      y = ev.scrollTop,\n      id = props.id;\n    (0, _handle.forward)('onScroll', ev, props);\n    if (id && contextSharedState && contextSharedState.set) {\n      contextSharedState.set(ev, props);\n      contextSharedState.set(\"\".concat(id, \".scrollPosition\"), {\n        x: x,\n        y: y\n      });\n    }\n  }\n\n  // Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n  function handleScrollerUpdate() {\n    if (scrollContainerHandle.current.scrollToInfo === null) {\n      var scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n      if (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n        calculateAndScrollTo();\n      }\n    }\n\n    // oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n    // updated in calculateAndScrollTo but we might not have made it to that point), it will be\n    // out of date when we land back in this method next time.\n    scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n  }\n  function handleResizeWindow() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.scrollIntoView(true);\n      return false;\n    }\n    return true;\n  }\n\n  // FIXME setting event handlers directly to work on the V8 snapshot.\n  function addEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').addEventListener(ref, handleFocus);\n    if (ref.current) {\n      addVoiceEventListener(ref);\n    }\n  }\n\n  // FIXME setting event handlers directly to work on the V8 snapshot.\n  function removeEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').removeEventListener(ref, handleFocus);\n    if (ref.current) {\n      removeVoiceEventListener(ref);\n    }\n  }\n\n  // Return\n\n  return {\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleFlick: handleFlick,\n    handleKeyDown: handleKeyDown,\n    handleMouseDown: handleMouseDown,\n    handleResizeWindow: handleResizeWindow,\n    handleScroll: handleScroll,\n    handleScrollerUpdate: handleScrollerUpdate,\n    handleTouchStart: handleTouchStart,\n    handleWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollbarProps: scrollbarProps,\n    scrollStopOnScroll: scrollStopOnScroll,\n    scrollTo: scrollTo,\n    start: start,\n    stop: stop\n  };\n};\n\n/**\n * A custom hook that passes Sandstone-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\nvar useScroll = exports.useScroll = function useScroll(props) {\n  var className = props.className,\n    spotlightContainer = props['data-spotlight-container'],\n    spotlightContainerDisabled = props['data-spotlight-container-disabled'],\n    spotlightId = props['data-spotlight-id'],\n    voiceDisabled = props['data-webos-voice-disabled'],\n    voiceFocused = props['data-webos-voice-focused'],\n    voiceGroupLabel = props['data-webos-voice-group-label'],\n    editable = props.editable,\n    focusableScrollbar = props.focusableScrollbar,\n    fadeOut = props.fadeOut,\n    horizontalScrollThumbAriaLabel = props.horizontalScrollThumbAriaLabel,\n    noAffordance = props.noAffordance,\n    scrollMode = props.scrollMode,\n    snapToCenter = props.snapToCenter,\n    style = props.style,\n    verticalScrollThumbAriaLabel = props.verticalScrollThumbAriaLabel,\n    rest = _objectWithoutProperties(props, _excluded);\n  delete rest.scrollbarTrackCss;\n  delete rest.scrollToContentContainerOnFocus;\n\n  // Mutable value\n\n  var scrollContainerRef = (0, _react.useRef)();\n  var scrollContentHandle = (0, _react.useRef)();\n  var scrollContentRef = (0, _react.useRef)();\n  var itemRefs = (0, _react.useRef)([]);\n  var horizontalScrollbarHandle = (0, _react.useRef)();\n  var verticalScrollbarHandle = (0, _react.useRef)();\n\n  // Handles\n\n  var _useThemeScrollConten = (0, _useThemeScrollContentHandle.useThemeScrollContentHandle)(),\n    _useThemeScrollConten2 = _slicedToArray(_useThemeScrollConten, 2),\n    themeScrollContentHandle = _useThemeScrollConten2[0],\n    setThemeScrollContentHandle = _useThemeScrollConten2[1];\n  var scrollContainerHandle = (0, _react.useRef)({}); // To prevent referencing errors before calling `setScrollContainerHandle`, an empty object is provided as a default.\n  /* Properties in `scrollContainerHandle` provided by `setScrollContainerHandle`\n  \tanimator\n  \tapplyOverscrollEffect\n  \tbounds\n  \tcalculateDistanceByWheel\n  \tcanScrollHorizontally\n  \tcanScrollVertically\n  \tcheckAndApplyOverscrollEffect\n  \tgetScrollBounds\n  \tisDragging\n  \tisScrollAnimationTargetAccumulated\n  \tlastInputType\n  \trtl\n  \tscrollBounds\n  \tscrollHeight\n  \tscrolling\n  \tscrollLeft\n  \tscrollTo\n  \tscrollToAccumulatedTarget\n  \tscrollToInfo\n  \tscrollTop\n  \tsetOverscrollStatus\n  \tshowScrollbarTrack\n  \tstart\n  \tstartHidingScrollbarTrack\n  \tstop\n  \twheelDirection\n  */\n\n  var setScrollContainerHandle = function setScrollContainerHandle(handle) {\n    scrollContainerHandle.current = handle;\n  };\n\n  // Hooks\n\n  var instance = {\n    // Ref\n    scrollContainerRef: scrollContainerRef,\n    scrollContentRef: scrollContentRef,\n    // Adapter\n    themeScrollContentHandle: themeScrollContentHandle,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle\n  };\n  var collectionOfProperties = {},\n    assignProperties = (0, _useScroll.assignPropertiesOf)(collectionOfProperties),\n    scrollProps = {};\n  var _useThemeScroll = useThemeScroll(props, instance),\n    addEventListeners = _useThemeScroll.addEventListeners,\n    applyOverscrollEffect = _useThemeScroll.applyOverscrollEffect,\n    clearOverscrollEffect = _useThemeScroll.clearOverscrollEffect,\n    handleFlick = _useThemeScroll.handleFlick,\n    handleKeyDown = _useThemeScroll.handleKeyDown,\n    handleMouseDown = _useThemeScroll.handleMouseDown,\n    handleResizeWindow = _useThemeScroll.handleResizeWindow,\n    handleScroll = _useThemeScroll.handleScroll,\n    handleScrollerUpdate = _useThemeScroll.handleScrollerUpdate,\n    handleTouchStart = _useThemeScroll.handleTouchStart,\n    handleWheel = _useThemeScroll.handleWheel,\n    removeEventListeners = _useThemeScroll.removeEventListeners,\n    scrollbarProps = _useThemeScroll.scrollbarProps,\n    scrollStopOnScroll = _useThemeScroll.scrollStopOnScroll,\n    scrollTo = _useThemeScroll.scrollTo,\n    start = _useThemeScroll.start,\n    stop = _useThemeScroll.stop;\n\n  // Render\n\n  if (scrollMode === 'translate') {\n    scrollProps.stop = stop;\n  } else {\n    scrollProps.scrollStopOnScroll = scrollStopOnScroll;\n    scrollProps.start = start;\n  }\n  var _useScrollBase = (0, _useScroll.useScrollBase)(_objectSpread(_objectSpread(_objectSpread({}, rest), scrollProps), {}, {\n      assignProperties: assignProperties,\n      noScrollByDrag: !_platform[\"default\"].touchScreen,\n      addEventListeners: addEventListeners,\n      applyOverscrollEffect: applyOverscrollEffect,\n      clearOverscrollEffect: clearOverscrollEffect,\n      handleResizeWindow: handleResizeWindow,\n      horizontalScrollbarHandle: horizontalScrollbarHandle,\n      onFlick: handleFlick,\n      onKeyDown: handleKeyDown,\n      onMouseDown: handleMouseDown,\n      onScroll: handleScroll,\n      onWheel: handleWheel,\n      removeEventListeners: removeEventListeners,\n      scrollTo: scrollTo,\n      setScrollContainerHandle: setScrollContainerHandle,\n      scrollMode: scrollMode,\n      scrollContentHandle: scrollContentHandle,\n      scrollContentRef: scrollContentRef,\n      scrollContainerRef: scrollContainerRef,\n      snapToCenter: snapToCenter,\n      spotlightContainerDisabled: spotlightContainerDisabled,\n      verticalScrollbarHandle: verticalScrollbarHandle\n    })),\n    isHorizontalScrollbarVisible = _useScrollBase.isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible = _useScrollBase.isVerticalScrollbarVisible,\n    scrollContentWrapper = _useScrollBase.scrollContentWrapper,\n    scrollObserver = _useScrollBase.scrollObserver;\n  assignProperties('scrollContainerProps', {\n    className: [className, _useScrollModule[\"default\"].scroll, _OverscrollEffectModule[\"default\"].scroll, focusableScrollbar ? _useScrollModule[\"default\"].focusableScrollbar : null, focusableScrollbar && isVerticalScrollbarVisible ? _useScrollModule[\"default\"].verticalPadding : null, isVerticalScrollbarVisible && isHorizontalScrollbarVisible ? _useScrollModule[\"default\"].bidirectional : null],\n    style: style,\n    'data-spotlight-container': spotlightContainer,\n    'data-spotlight-container-disabled': spotlightContainerDisabled,\n    'data-spotlight-id': spotlightId,\n    onTouchStart: handleTouchStart,\n    ref: scrollContainerRef\n  });\n  var voiceProps = {\n    'data-webos-voice-disabled': voiceDisabled,\n    'data-webos-voice-focused': voiceFocused,\n    'data-webos-voice-group-label': voiceGroupLabel\n  };\n  assignProperties('scrollContentProps', _objectSpread(_objectSpread(_objectSpread({}, props.itemRenderer ? {\n    itemRefs: itemRefs,\n    noAffordance: noAffordance,\n    snapToCenter: snapToCenter\n  } : {\n    editable: editable,\n    fadeOut: fadeOut\n  }), voiceProps), {}, {\n    className: [props.direction === 'both' || props.direction === 'vertical' ? _OverscrollEffectModule[\"default\"].vertical : _OverscrollEffectModule[\"default\"].horizontal, _useScrollModule[\"default\"].scrollContent],\n    onUpdate: handleScrollerUpdate,\n    scrollContainerRef: scrollContainerRef,\n    setThemeScrollContentHandle: setThemeScrollContentHandle,\n    spotlightId: spotlightId,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef\n  }));\n  var scrollThumbAriaLabelForByEnter = focusableScrollbar === 'byEnter' ? ' ' + (0, _$L[\"default\"])('press ok button to read text') : '';\n  assignProperties('horizontalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': horizontalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll left or right with left right button') + scrollThumbAriaLabelForByEnter : horizontalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].horizontalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: horizontalScrollbarHandle\n  }));\n  assignProperties('verticalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': verticalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll up or down with up down button') + scrollThumbAriaLabelForByEnter : verticalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].verticalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: verticalScrollbarHandle\n  }));\n  assignProperties('hoverToScrollProps', {\n    scrollContainerHandle: scrollContainerHandle,\n    scrollObserver: scrollObserver\n  });\n  return _objectSpread(_objectSpread({}, collectionOfProperties), {}, {\n    scrollContentWrapper: scrollContentWrapper,\n    scrollContentHandle: scrollContentHandle,\n    isHorizontalScrollbarVisible: isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible: isVerticalScrollbarVisible\n  });\n};\nvar _default = exports[\"default\"] = useScroll;","map":{"version":3,"names":["Object","defineProperty","exports","value","useScroll","dataIndexAttribute","affordanceSize","_handle","require","_platform","_interopRequireDefault","_spotlight","_Spottable","_container","_target","_utils","_useScroll","_utilDOM","_utilEvent","_react","_$L","_SharedStateDecorator","_useThemeScrollContentHandle","_useEvent","_useOverscrollEffect2","_useSpotlight","_OverscrollEffectModule","_useScrollModule","_excluded","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","isArray","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","filter","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","String","toPrimitive","Number","arrowKeyMultiplier","paginationPageMultiplier","constants","reverseDirections","down","up","isIntersecting","elem","container","intersects","getRect","getIntersectingElement","getTargetInViewByDirectionFromPosition","direction","position","getTargetByDirectionFromPosition","getContainerId","useThemeScroll","props","instances","scrollbarTrackCss","scrollMode","themeScrollContentHandle","scrollContentRef","scrollContainerHandle","scrollContainerRef","contextSharedState","useContext","SharedState","mutableRef","useRef","animateOnFocus","indexToFocus","isWheeling","lastScrollPositionOnFocus","nodeToFocus","pointToFocus","useSpotlightRestore","_useOverscrollEffect","applyOverscrollEffect","checkAndApplyOverscrollEffectByDirection","clearOverscrollEffect","_useEventWheel","useEventWheel","spottable","handleWheel","_useEventFocus","useEventFocus","calculateAndScrollTo","handleFocus","hasFocus","_useEventKey","useEventKey","isContent","handleKeyDown","lastPointer","scrollByPageOnPointerMode","useEventMonitor","_useEventMouse","useEventMouse","handleFlick","handleMouseDown","_useEventTouch","useEventTouch","handleTouchStart","_useEventVoice","useEventVoice","addVoiceEventListener","removeVoiceEventListener","stopVoice","scrollbarProps","cbAlertScrollbarTrack","alertScrollbarTrack","onInteractionForScroll","element","containsDangerously","scrollTo","opt","current","focus","index","node","nodeType","start","animate","focusOnItem","stop","setContainerDisabled","pauseSpotlight","scrollStopOnScroll","_ref","inputType","isForward","isPagination","isVerticalScrollBar","wheelDirection","bounds","getScrollBounds","pageSize","clientHeight","clientWidth","distance","lastInputType","isScrollAnimationTargetAccumulated","scrollToAccumulatedTarget","overscrollEffectOn","showScrollbarTrack","startHidingScrollbarTrack","isItemFocused","focusByIndex","focusOnNode","getPointerMode","_mutableRef$current$p","x","y","elemFromPoint","document","elementFromPoint","closest","concat","spottableClass","enterTo","handleScroll","ev","scrollLeft","scrollTop","id","forward","set","handleScrollerUpdate","scrollToInfo","scrollHeight","handleResizeWindow","focusedItem","getCurrent","scrollIntoView","addEventListeners","ref","addEventListener","removeEventListeners","removeEventListener","className","spotlightContainer","spotlightContainerDisabled","spotlightId","voiceDisabled","voiceFocused","voiceGroupLabel","editable","focusableScrollbar","fadeOut","horizontalScrollThumbAriaLabel","noAffordance","snapToCenter","style","verticalScrollThumbAriaLabel","rest","scrollToContentContainerOnFocus","scrollContentHandle","itemRefs","horizontalScrollbarHandle","verticalScrollbarHandle","_useThemeScrollConten","useThemeScrollContentHandle","_useThemeScrollConten2","setThemeScrollContentHandle","setScrollContainerHandle","handle","instance","collectionOfProperties","assignProperties","assignPropertiesOf","scrollProps","_useThemeScroll","_useScrollBase","useScrollBase","noScrollByDrag","touchScreen","onFlick","onKeyDown","onMouseDown","onScroll","onWheel","isHorizontalScrollbarVisible","isVerticalScrollbarVisible","scrollContentWrapper","scrollObserver","scroll","verticalPadding","bidirectional","onTouchStart","voiceProps","itemRenderer","vertical","horizontal","scrollContent","onUpdate","scrollThumbAriaLabelForByEnter","horizontalScrollbar","scrollbarHandle","verticalScrollbar","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/sandstone/useScroll/useScroll.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScroll = exports[\"default\"] = exports.dataIndexAttribute = exports.affordanceSize = void 0;\nvar _handle = require(\"@enact/core/handle\");\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\nvar _Spottable = require(\"@enact/spotlight/Spottable\");\nvar _container = require(\"@enact/spotlight/src/container\");\nvar _target = require(\"@enact/spotlight/src/target\");\nvar _utils = require(\"@enact/spotlight/src/utils\");\nvar _useScroll = require(\"@enact/ui/useScroll\");\nvar _utilDOM = _interopRequireDefault(require(\"@enact/ui/useScroll/utilDOM\"));\nvar _utilEvent = _interopRequireDefault(require(\"@enact/ui/useScroll/utilEvent\"));\nvar _react = require(\"react\");\nvar _$L = _interopRequireDefault(require(\"../internal/$L\"));\nvar _SharedStateDecorator = require(\"../internal/SharedStateDecorator\");\nvar _useThemeScrollContentHandle = require(\"./useThemeScrollContentHandle\");\nvar _useEvent = require(\"./useEvent\");\nvar _useOverscrollEffect2 = _interopRequireDefault(require(\"./useOverscrollEffect\"));\nvar _useSpotlight = require(\"./useSpotlight\");\nvar _OverscrollEffectModule = _interopRequireDefault(require(\"./OverscrollEffect.module.css\"));\nvar _useScrollModule = _interopRequireDefault(require(\"./useScroll.module.css\"));\nvar _excluded = [\"className\", \"data-spotlight-container\", \"data-spotlight-container-disabled\", \"data-spotlight-id\", \"data-webos-voice-disabled\", \"data-webos-voice-focused\", \"data-webos-voice-group-label\", \"editable\", \"focusableScrollbar\", \"fadeOut\", \"horizontalScrollThumbAriaLabel\", \"noAffordance\", \"scrollMode\", \"snapToCenter\", \"style\", \"verticalScrollThumbAriaLabel\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * Sandstone-themed scrollable hook and behaviors.\n *\n * @module sandstone/useScroll\n * @exports affordanceSize\n * @exports dataIndexAttribute\n * @exports useScroll\n * @private\n */\nvar arrowKeyMultiplier = 0.2,\n  affordanceSize = exports.affordanceSize = 48,\n  paginationPageMultiplier = _useScroll.constants.paginationPageMultiplier,\n  reverseDirections = {\n    down: 'up',\n    up: 'down'\n  };\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * {@link sandstone/VirtualList.VirtualList|VirtualList} or\n * {@link sandstone/VirtualList.VirtualGridList|VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof sandstone/useScroll\n * @type {String}\n * @private\n */\nvar dataIndexAttribute = exports.dataIndexAttribute = 'data-index';\nvar isIntersecting = function isIntersecting(elem, container) {\n  return elem && (0, _utils.intersects)((0, _utils.getRect)(container), (0, _utils.getRect)(elem));\n};\nvar getIntersectingElement = function getIntersectingElement(elem, container) {\n  return isIntersecting(elem, container) && elem;\n};\nvar getTargetInViewByDirectionFromPosition = function getTargetInViewByDirectionFromPosition(direction, position, container) {\n  var target = (0, _target.getTargetByDirectionFromPosition)(direction, position, (0, _container.getContainerId)(container));\n  return getIntersectingElement(target, container);\n};\nvar useThemeScroll = function useThemeScroll(props, instances) {\n  var scrollbarTrackCss = props.scrollbarTrackCss,\n    scrollMode = props.scrollMode;\n  var themeScrollContentHandle = instances.themeScrollContentHandle,\n    scrollContentRef = instances.scrollContentRef,\n    scrollContainerHandle = instances.scrollContainerHandle,\n    scrollContainerRef = instances.scrollContainerRef;\n  var contextSharedState = (0, _react.useContext)(_SharedStateDecorator.SharedState);\n\n  // Mutable value\n\n  var mutableRef = (0, _react.useRef)({\n    animateOnFocus: true,\n    indexToFocus: null,\n    isWheeling: false,\n    lastScrollPositionOnFocus: null,\n    nodeToFocus: null,\n    pointToFocus: null\n  });\n\n  // Hooks\n\n  (0, _useSpotlight.useSpotlightRestore)(props, instances);\n  var _useOverscrollEffect = (0, _useOverscrollEffect2[\"default\"])({}, instances),\n    applyOverscrollEffect = _useOverscrollEffect.applyOverscrollEffect,\n    checkAndApplyOverscrollEffectByDirection = _useOverscrollEffect.checkAndApplyOverscrollEffectByDirection,\n    clearOverscrollEffect = _useOverscrollEffect.clearOverscrollEffect;\n  var _useEventWheel = (0, _useEvent.useEventWheel)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    })),\n    handleWheel = _useEventWheel.handleWheel;\n  var _useEventFocus = (0, _useEvent.useEventFocus)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    })),\n    calculateAndScrollTo = _useEventFocus.calculateAndScrollTo,\n    handleFocus = _useEventFocus.handleFocus,\n    hasFocus = _useEventFocus.hasFocus;\n  var _useEventKey = (0, _useEvent.useEventKey)(props, _objectSpread(_objectSpread({}, instances), {}, {\n      spottable: mutableRef\n    }), {\n      checkAndApplyOverscrollEffectByDirection: checkAndApplyOverscrollEffectByDirection,\n      hasFocus: hasFocus,\n      isContent: isContent\n    }),\n    handleKeyDown = _useEventKey.handleKeyDown,\n    lastPointer = _useEventKey.lastPointer,\n    scrollByPageOnPointerMode = _useEventKey.scrollByPageOnPointerMode;\n  (0, _useEvent.useEventMonitor)({}, instances, {\n    lastPointer: lastPointer,\n    scrollByPageOnPointerMode: scrollByPageOnPointerMode\n  });\n  var _useEventMouse = (0, _useEvent.useEventMouse)({}, instances),\n    handleFlick = _useEventMouse.handleFlick,\n    handleMouseDown = _useEventMouse.handleMouseDown;\n  var _useEventTouch = (0, _useEvent.useEventTouch)(),\n    handleTouchStart = _useEventTouch.handleTouchStart;\n  var _useEventVoice = (0, _useEvent.useEventVoice)(props, instances),\n    addVoiceEventListener = _useEventVoice.addVoiceEventListener,\n    removeVoiceEventListener = _useEventVoice.removeVoiceEventListener,\n    stopVoice = _useEventVoice.stopVoice;\n  var scrollbarProps = {\n    cbAlertScrollbarTrack: alertScrollbarTrack,\n    onInteractionForScroll: onInteractionForScroll,\n    scrollbarTrackCss: scrollbarTrackCss\n  };\n\n  // Functions\n\n  function isContent(element) {\n    return element && _utilDOM[\"default\"].containsDangerously(scrollContentRef, element);\n  }\n  function scrollTo(opt) {\n    mutableRef.current.indexToFocus = opt.focus && typeof opt.index === 'number' ? opt.index : null;\n    mutableRef.current.nodeToFocus = opt.focus && opt.node instanceof Object && opt.node.nodeType === 1 ? opt.node : null;\n  }\n  function start(animate) {\n    if (scrollMode === 'native' && !animate) {\n      focusOnItem();\n    }\n  }\n  function stop() {\n    if (!props['data-spotlight-container-disabled']) {\n      themeScrollContentHandle.current.setContainerDisabled(false);\n    }\n    if (themeScrollContentHandle.current.pauseSpotlight) {\n      themeScrollContentHandle.current.pauseSpotlight(false);\n    }\n    focusOnItem();\n    mutableRef.current.lastScrollPositionOnFocus = null;\n    mutableRef.current.isWheeling = false;\n    stopVoice();\n  }\n  function scrollStopOnScroll() {\n    stop();\n  }\n  function onInteractionForScroll(_ref) {\n    var inputType = _ref.inputType,\n      isForward = _ref.isForward,\n      isPagination = _ref.isPagination,\n      isVerticalScrollBar = _ref.isVerticalScrollBar;\n    var wheelDirection = scrollContainerHandle.current.wheelDirection,\n      bounds = scrollContainerHandle.current.getScrollBounds(),\n      direction = isForward ? 1 : -1,\n      pageSize = isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth,\n      distance = pageSize * (isPagination ? paginationPageMultiplier : arrowKeyMultiplier);\n    scrollContainerHandle.current.lastInputType = inputType;\n    if (direction !== wheelDirection) {\n      scrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n      scrollContainerHandle.current.wheelDirection = direction;\n    }\n    scrollContainerHandle.current.scrollToAccumulatedTarget(direction * distance, isVerticalScrollBar, props.overscrollEffectOn[inputType]);\n  }\n  function alertScrollbarTrack() {\n    var bounds = scrollContainerHandle.current.getScrollBounds();\n    scrollContainerHandle.current.showScrollbarTrack(bounds);\n    scrollContainerHandle.current.startHidingScrollbarTrack();\n  }\n  function focusOnItem() {\n    var isItemFocused = false;\n    if (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n      themeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n      mutableRef.current.indexToFocus = null;\n      isItemFocused = true;\n    }\n    if (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n      themeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n      mutableRef.current.nodeToFocus = null;\n      isItemFocused = true;\n    }\n    if (mutableRef.current.pointToFocus !== null) {\n      // no need to focus on pointer mode\n      if (!_spotlight[\"default\"].getPointerMode()) {\n        var _mutableRef$current$p = mutableRef.current.pointToFocus,\n          direction = _mutableRef$current$p.direction,\n          x = _mutableRef$current$p.x,\n          y = _mutableRef$current$p.y,\n          position = {\n            x: x,\n            y: y\n          },\n          elemFromPoint = document.elementFromPoint(x, y),\n          target = elemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(\".\".concat(_Spottable.spottableClass)), scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) || getTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n        if (target) {\n          _spotlight[\"default\"].focus(target);\n          isItemFocused = true;\n        }\n      }\n      mutableRef.current.pointToFocus = null;\n    }\n    if (_spotlight[\"default\"].getPointerMode() && !isItemFocused) {\n      _spotlight[\"default\"].focus(scrollContainerRef.current, {\n        enterTo: 'topmost'\n      });\n    }\n  }\n  function handleScroll(ev) {\n    var x = ev.scrollLeft,\n      y = ev.scrollTop,\n      id = props.id;\n    (0, _handle.forward)('onScroll', ev, props);\n    if (id && contextSharedState && contextSharedState.set) {\n      contextSharedState.set(ev, props);\n      contextSharedState.set(\"\".concat(id, \".scrollPosition\"), {\n        x: x,\n        y: y\n      });\n    }\n  }\n\n  // Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n  function handleScrollerUpdate() {\n    if (scrollContainerHandle.current.scrollToInfo === null) {\n      var scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n      if (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n        calculateAndScrollTo();\n      }\n    }\n\n    // oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n    // updated in calculateAndScrollTo but we might not have made it to that point), it will be\n    // out of date when we land back in this method next time.\n    scrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n  }\n  function handleResizeWindow() {\n    var focusedItem = _spotlight[\"default\"].getCurrent();\n    if (focusedItem) {\n      focusedItem.scrollIntoView(true);\n      return false;\n    }\n    return true;\n  }\n\n  // FIXME setting event handlers directly to work on the V8 snapshot.\n  function addEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').addEventListener(ref, handleFocus);\n    if (ref.current) {\n      addVoiceEventListener(ref);\n    }\n  }\n\n  // FIXME setting event handlers directly to work on the V8 snapshot.\n  function removeEventListeners(ref) {\n    // `ref` is always `scrollContentRef`.\n    (0, _utilEvent[\"default\"])('focusin').removeEventListener(ref, handleFocus);\n    if (ref.current) {\n      removeVoiceEventListener(ref);\n    }\n  }\n\n  // Return\n\n  return {\n    addEventListeners: addEventListeners,\n    applyOverscrollEffect: applyOverscrollEffect,\n    clearOverscrollEffect: clearOverscrollEffect,\n    handleFlick: handleFlick,\n    handleKeyDown: handleKeyDown,\n    handleMouseDown: handleMouseDown,\n    handleResizeWindow: handleResizeWindow,\n    handleScroll: handleScroll,\n    handleScrollerUpdate: handleScrollerUpdate,\n    handleTouchStart: handleTouchStart,\n    handleWheel: handleWheel,\n    removeEventListeners: removeEventListeners,\n    scrollbarProps: scrollbarProps,\n    scrollStopOnScroll: scrollStopOnScroll,\n    scrollTo: scrollTo,\n    start: start,\n    stop: stop\n  };\n};\n\n/**\n * A custom hook that passes Sandstone-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof sandstone/useScroll\n * @ui\n * @private\n */\nvar useScroll = exports.useScroll = function useScroll(props) {\n  var className = props.className,\n    spotlightContainer = props['data-spotlight-container'],\n    spotlightContainerDisabled = props['data-spotlight-container-disabled'],\n    spotlightId = props['data-spotlight-id'],\n    voiceDisabled = props['data-webos-voice-disabled'],\n    voiceFocused = props['data-webos-voice-focused'],\n    voiceGroupLabel = props['data-webos-voice-group-label'],\n    editable = props.editable,\n    focusableScrollbar = props.focusableScrollbar,\n    fadeOut = props.fadeOut,\n    horizontalScrollThumbAriaLabel = props.horizontalScrollThumbAriaLabel,\n    noAffordance = props.noAffordance,\n    scrollMode = props.scrollMode,\n    snapToCenter = props.snapToCenter,\n    style = props.style,\n    verticalScrollThumbAriaLabel = props.verticalScrollThumbAriaLabel,\n    rest = _objectWithoutProperties(props, _excluded);\n  delete rest.scrollbarTrackCss;\n  delete rest.scrollToContentContainerOnFocus;\n\n  // Mutable value\n\n  var scrollContainerRef = (0, _react.useRef)();\n  var scrollContentHandle = (0, _react.useRef)();\n  var scrollContentRef = (0, _react.useRef)();\n  var itemRefs = (0, _react.useRef)([]);\n  var horizontalScrollbarHandle = (0, _react.useRef)();\n  var verticalScrollbarHandle = (0, _react.useRef)();\n\n  // Handles\n\n  var _useThemeScrollConten = (0, _useThemeScrollContentHandle.useThemeScrollContentHandle)(),\n    _useThemeScrollConten2 = _slicedToArray(_useThemeScrollConten, 2),\n    themeScrollContentHandle = _useThemeScrollConten2[0],\n    setThemeScrollContentHandle = _useThemeScrollConten2[1];\n  var scrollContainerHandle = (0, _react.useRef)({}); // To prevent referencing errors before calling `setScrollContainerHandle`, an empty object is provided as a default.\n  /* Properties in `scrollContainerHandle` provided by `setScrollContainerHandle`\n  \tanimator\n  \tapplyOverscrollEffect\n  \tbounds\n  \tcalculateDistanceByWheel\n  \tcanScrollHorizontally\n  \tcanScrollVertically\n  \tcheckAndApplyOverscrollEffect\n  \tgetScrollBounds\n  \tisDragging\n  \tisScrollAnimationTargetAccumulated\n  \tlastInputType\n  \trtl\n  \tscrollBounds\n  \tscrollHeight\n  \tscrolling\n  \tscrollLeft\n  \tscrollTo\n  \tscrollToAccumulatedTarget\n  \tscrollToInfo\n  \tscrollTop\n  \tsetOverscrollStatus\n  \tshowScrollbarTrack\n  \tstart\n  \tstartHidingScrollbarTrack\n  \tstop\n  \twheelDirection\n  */\n\n  var setScrollContainerHandle = function setScrollContainerHandle(handle) {\n    scrollContainerHandle.current = handle;\n  };\n\n  // Hooks\n\n  var instance = {\n    // Ref\n    scrollContainerRef: scrollContainerRef,\n    scrollContentRef: scrollContentRef,\n    // Adapter\n    themeScrollContentHandle: themeScrollContentHandle,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle\n  };\n  var collectionOfProperties = {},\n    assignProperties = (0, _useScroll.assignPropertiesOf)(collectionOfProperties),\n    scrollProps = {};\n  var _useThemeScroll = useThemeScroll(props, instance),\n    addEventListeners = _useThemeScroll.addEventListeners,\n    applyOverscrollEffect = _useThemeScroll.applyOverscrollEffect,\n    clearOverscrollEffect = _useThemeScroll.clearOverscrollEffect,\n    handleFlick = _useThemeScroll.handleFlick,\n    handleKeyDown = _useThemeScroll.handleKeyDown,\n    handleMouseDown = _useThemeScroll.handleMouseDown,\n    handleResizeWindow = _useThemeScroll.handleResizeWindow,\n    handleScroll = _useThemeScroll.handleScroll,\n    handleScrollerUpdate = _useThemeScroll.handleScrollerUpdate,\n    handleTouchStart = _useThemeScroll.handleTouchStart,\n    handleWheel = _useThemeScroll.handleWheel,\n    removeEventListeners = _useThemeScroll.removeEventListeners,\n    scrollbarProps = _useThemeScroll.scrollbarProps,\n    scrollStopOnScroll = _useThemeScroll.scrollStopOnScroll,\n    scrollTo = _useThemeScroll.scrollTo,\n    start = _useThemeScroll.start,\n    stop = _useThemeScroll.stop;\n\n  // Render\n\n  if (scrollMode === 'translate') {\n    scrollProps.stop = stop;\n  } else {\n    scrollProps.scrollStopOnScroll = scrollStopOnScroll;\n    scrollProps.start = start;\n  }\n  var _useScrollBase = (0, _useScroll.useScrollBase)(_objectSpread(_objectSpread(_objectSpread({}, rest), scrollProps), {}, {\n      assignProperties: assignProperties,\n      noScrollByDrag: !_platform[\"default\"].touchScreen,\n      addEventListeners: addEventListeners,\n      applyOverscrollEffect: applyOverscrollEffect,\n      clearOverscrollEffect: clearOverscrollEffect,\n      handleResizeWindow: handleResizeWindow,\n      horizontalScrollbarHandle: horizontalScrollbarHandle,\n      onFlick: handleFlick,\n      onKeyDown: handleKeyDown,\n      onMouseDown: handleMouseDown,\n      onScroll: handleScroll,\n      onWheel: handleWheel,\n      removeEventListeners: removeEventListeners,\n      scrollTo: scrollTo,\n      setScrollContainerHandle: setScrollContainerHandle,\n      scrollMode: scrollMode,\n      scrollContentHandle: scrollContentHandle,\n      scrollContentRef: scrollContentRef,\n      scrollContainerRef: scrollContainerRef,\n      snapToCenter: snapToCenter,\n      spotlightContainerDisabled: spotlightContainerDisabled,\n      verticalScrollbarHandle: verticalScrollbarHandle\n    })),\n    isHorizontalScrollbarVisible = _useScrollBase.isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible = _useScrollBase.isVerticalScrollbarVisible,\n    scrollContentWrapper = _useScrollBase.scrollContentWrapper,\n    scrollObserver = _useScrollBase.scrollObserver;\n  assignProperties('scrollContainerProps', {\n    className: [className, _useScrollModule[\"default\"].scroll, _OverscrollEffectModule[\"default\"].scroll, focusableScrollbar ? _useScrollModule[\"default\"].focusableScrollbar : null, focusableScrollbar && isVerticalScrollbarVisible ? _useScrollModule[\"default\"].verticalPadding : null, isVerticalScrollbarVisible && isHorizontalScrollbarVisible ? _useScrollModule[\"default\"].bidirectional : null],\n    style: style,\n    'data-spotlight-container': spotlightContainer,\n    'data-spotlight-container-disabled': spotlightContainerDisabled,\n    'data-spotlight-id': spotlightId,\n    onTouchStart: handleTouchStart,\n    ref: scrollContainerRef\n  });\n  var voiceProps = {\n    'data-webos-voice-disabled': voiceDisabled,\n    'data-webos-voice-focused': voiceFocused,\n    'data-webos-voice-group-label': voiceGroupLabel\n  };\n  assignProperties('scrollContentProps', _objectSpread(_objectSpread(_objectSpread({}, props.itemRenderer ? {\n    itemRefs: itemRefs,\n    noAffordance: noAffordance,\n    snapToCenter: snapToCenter\n  } : {\n    editable: editable,\n    fadeOut: fadeOut\n  }), voiceProps), {}, {\n    className: [props.direction === 'both' || props.direction === 'vertical' ? _OverscrollEffectModule[\"default\"].vertical : _OverscrollEffectModule[\"default\"].horizontal, _useScrollModule[\"default\"].scrollContent],\n    onUpdate: handleScrollerUpdate,\n    scrollContainerRef: scrollContainerRef,\n    setThemeScrollContentHandle: setThemeScrollContentHandle,\n    spotlightId: spotlightId,\n    scrollContainerHandle: scrollContainerHandle,\n    scrollContentHandle: scrollContentHandle,\n    scrollContentRef: scrollContentRef\n  }));\n  var scrollThumbAriaLabelForByEnter = focusableScrollbar === 'byEnter' ? ' ' + (0, _$L[\"default\"])('press ok button to read text') : '';\n  assignProperties('horizontalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': horizontalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll left or right with left right button') + scrollThumbAriaLabelForByEnter : horizontalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].horizontalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: horizontalScrollbarHandle\n  }));\n  assignProperties('verticalScrollbarProps', _objectSpread(_objectSpread({}, scrollbarProps), {}, {\n    'aria-label': verticalScrollThumbAriaLabel == null ? (0, _$L[\"default\"])('scroll up or down with up down button') + scrollThumbAriaLabelForByEnter : verticalScrollThumbAriaLabel,\n    className: [_useScrollModule[\"default\"].verticalScrollbar],\n    focusableScrollbar: focusableScrollbar,\n    scrollbarHandle: verticalScrollbarHandle\n  }));\n  assignProperties('hoverToScrollProps', {\n    scrollContainerHandle: scrollContainerHandle,\n    scrollObserver: scrollObserver\n  });\n  return _objectSpread(_objectSpread({}, collectionOfProperties), {}, {\n    scrollContentWrapper: scrollContentWrapper,\n    scrollContentHandle: scrollContentHandle,\n    isHorizontalScrollbarVisible: isHorizontalScrollbarVisible,\n    isVerticalScrollbarVisible: isVerticalScrollbarVisible\n  });\n};\nvar _default = exports[\"default\"] = useScroll;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}