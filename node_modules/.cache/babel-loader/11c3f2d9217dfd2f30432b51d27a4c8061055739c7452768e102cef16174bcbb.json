{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.useFocusOnTransition = useFocusOnTransition;\nvar _handle = _interopRequireWildcard(require(\"@enact/core/handle\"));\nvar _useHandlers = _interopRequireDefault(require(\"@enact/core/useHandlers\"));\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\nvar _react = require(\"react\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    \"default\": e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n[\"default\"] = e, t && t.set(e, n), n;\n}\nvar transitionHandlers = {\n  onTransition: (0, _handle[\"default\"])((0, _handle.forwardWithPrevent)('onTransition'), function (ev, _ref, _ref2) {\n    var spotlightId = _ref.spotlightId;\n    var current = _ref2.current;\n    current.timerId = setTimeout(function () {\n      var currentSpotlight = _spotlight[\"default\"].getCurrent();\n      if (spotlightId && !currentSpotlight) {\n        _spotlight[\"default\"].focus(spotlightId);\n      }\n    }, 40);\n  }),\n  onWillTransition: (0, _handle[\"default\"])((0, _handle.forwardWithPrevent)('onWillTransition'), function (ev, props, _ref3) {\n    var current = _ref3.current;\n    clearTimeout(current.timerId);\n    current.timerId = null;\n    var currentSpotlight = _spotlight[\"default\"].getCurrent();\n    if (!_spotlight[\"default\"].getPointerMode() && currentSpotlight) {\n      currentSpotlight.blur();\n    }\n  })\n};\nfunction useFocusOnTransition(config) {\n  var _useRef = (0, _react.useRef)({\n      timerId: null\n    }),\n    current = _useRef.current;\n  var handlers = (0, _useHandlers[\"default\"])(transitionHandlers, config, {\n    current: current\n  });\n  return handlers;\n}\nvar _default = exports[\"default\"] = useFocusOnTransition;","map":{"version":3,"names":["Object","defineProperty","exports","value","useFocusOnTransition","_handle","_interopRequireWildcard","require","_useHandlers","_interopRequireDefault","_spotlight","_react","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","transitionHandlers","onTransition","forwardWithPrevent","ev","_ref","_ref2","spotlightId","current","timerId","setTimeout","currentSpotlight","getCurrent","focus","onWillTransition","props","_ref3","clearTimeout","getPointerMode","blur","config","_useRef","useRef","handlers","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/sandstone/internal/Panels/useFocusOnTransition.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.useFocusOnTransition = useFocusOnTransition;\nvar _handle = _interopRequireWildcard(require(\"@enact/core/handle\"));\nvar _useHandlers = _interopRequireDefault(require(\"@enact/core/useHandlers\"));\nvar _spotlight = _interopRequireDefault(require(\"@enact/spotlight\"));\nvar _react = require(\"react\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar transitionHandlers = {\n  onTransition: (0, _handle[\"default\"])((0, _handle.forwardWithPrevent)('onTransition'), function (ev, _ref, _ref2) {\n    var spotlightId = _ref.spotlightId;\n    var current = _ref2.current;\n    current.timerId = setTimeout(function () {\n      var currentSpotlight = _spotlight[\"default\"].getCurrent();\n      if (spotlightId && !currentSpotlight) {\n        _spotlight[\"default\"].focus(spotlightId);\n      }\n    }, 40);\n  }),\n  onWillTransition: (0, _handle[\"default\"])((0, _handle.forwardWithPrevent)('onWillTransition'), function (ev, props, _ref3) {\n    var current = _ref3.current;\n    clearTimeout(current.timerId);\n    current.timerId = null;\n    var currentSpotlight = _spotlight[\"default\"].getCurrent();\n    if (!_spotlight[\"default\"].getPointerMode() && currentSpotlight) {\n      currentSpotlight.blur();\n    }\n  })\n};\nfunction useFocusOnTransition(config) {\n  var _useRef = (0, _react.useRef)({\n      timerId: null\n    }),\n    current = _useRef.current;\n  var handlers = (0, _useHandlers[\"default\"])(transitionHandlers, config, {\n    current: current\n  });\n  return handlers;\n}\nvar _default = exports[\"default\"] = useFocusOnTransition;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}