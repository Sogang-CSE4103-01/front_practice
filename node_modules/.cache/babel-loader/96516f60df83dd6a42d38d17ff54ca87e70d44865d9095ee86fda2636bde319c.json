{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ScrollAnimator = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar\n  // Use eases library\n  timingFunctions = {\n    'linear': function linear(source, target, duration, curTime) {\n      curTime /= duration;\n      return (target - source) * curTime + source;\n    },\n    'ease-in': function easeIn(source, target, duration, curTime) {\n      curTime /= duration;\n      return (target - source) * curTime * curTime * curTime * curTime + source;\n    },\n    'ease-out': function easeOut(source, target, duration, curTime) {\n      curTime /= duration;\n      curTime--;\n      return (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n    },\n    'ease-in-out': function easeInOut(source, target, duration, curTime) {\n      curTime /= duration / 2;\n      if (curTime < 1) {\n        return (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n      } else {\n        curTime -= 2;\n      }\n      return (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n    }\n  },\n  // for simulate()\n  frameTime = 16.0,\n  // time for one frame\n  maxVelocity = 100,\n  // speed cap\n  stopVelocity = 0.04,\n  // velocity to stop\n  velocityFriction = 0.95,\n  // velocity decreasing factor\n  clampVelocity = (0, _clamp[\"default\"])(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nvar ScrollAnimator = exports.ScrollAnimator = /*#__PURE__*/function () {\n  /**\n   * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n   *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n   *\t`'ease-out'`.\n   * @constructor\n   * @memberof ui/useScroll.ScrollAnimator\n   */\n  function ScrollAnimator(type) {\n    _classCallCheck(this, ScrollAnimator);\n    this.rAFId = null;\n    this.type = 'ease-out';\n    this.timingFunction = timingFunctions[type || this.type];\n  }\n  _createClass(ScrollAnimator, [{\n    key: \"simulate\",\n    value: function simulate(sourceX, sourceY, velocityX, velocityY) {\n      var stepX = clampVelocity(velocityX * frameTime),\n        stepY = clampVelocity(velocityY * frameTime),\n        deltaX = 0,\n        deltaY = 0,\n        duration = 0;\n      do {\n        stepX *= velocityFriction;\n        stepY *= velocityFriction;\n        deltaX += stepX;\n        deltaY += stepY;\n        duration += frameTime;\n      } while (stepX * stepX + stepY * stepY > stopVelocity);\n      return {\n        targetX: sourceX + deltaX,\n        targetY: sourceY + deltaY,\n        duration: duration\n      };\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(rAFCallbackFuntion) {\n      var _this = this;\n      var rAF = window.requestAnimationFrame,\n        startTimeStamp = (0, _util.perfNow)(),\n        fn = function fn() {\n          var\n            // schedule next frame\n            rAFId = rAF(fn),\n            // current timestamp\n            curTimeStamp = (0, _util.perfNow)(),\n            // current time if 0 at starting position\n            curTime = curTimeStamp - startTimeStamp;\n          _this.rAFId = rAFId;\n          rAFCallbackFuntion(curTime);\n        };\n      this.rAFId = rAF(fn);\n    }\n  }, {\n    key: \"isAnimating\",\n    value: function isAnimating() {\n      return this.rAFId !== null;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var cAF = window.cancelAnimationFrame;\n      if (this.rAFId !== null) {\n        cAF(this.rAFId);\n        this.rAFId = null;\n      }\n    }\n  }]);\n  return ScrollAnimator;\n}();\nvar _default = exports[\"default\"] = ScrollAnimator;","map":{"version":3,"names":["Object","defineProperty","exports","value","ScrollAnimator","_util","require","_clamp","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","prototype","t","_toPrimitive","String","r","e","Symbol","toPrimitive","call","Number","timingFunctions","linear","source","duration","curTime","easeIn","easeOut","easeInOut","frameTime","maxVelocity","stopVelocity","velocityFriction","clampVelocity","type","rAFId","timingFunction","simulate","sourceX","sourceY","velocityX","velocityY","stepX","stepY","deltaX","deltaY","targetX","targetY","animate","rAFCallbackFuntion","_this","rAF","window","requestAnimationFrame","startTimeStamp","perfNow","fn","curTimeStamp","isAnimating","stop","cAF","cancelAnimationFrame","_default"],"sources":["/home/connected/enact-template/node_modules/@enact/ui/useScroll/ScrollAnimator.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ScrollAnimator = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _clamp = _interopRequireDefault(require(\"ramda/src/clamp\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar\n  // Use eases library\n  timingFunctions = {\n    'linear': function linear(source, target, duration, curTime) {\n      curTime /= duration;\n      return (target - source) * curTime + source;\n    },\n    'ease-in': function easeIn(source, target, duration, curTime) {\n      curTime /= duration;\n      return (target - source) * curTime * curTime * curTime * curTime + source;\n    },\n    'ease-out': function easeOut(source, target, duration, curTime) {\n      curTime /= duration;\n      curTime--;\n      return (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n    },\n    'ease-in-out': function easeInOut(source, target, duration, curTime) {\n      curTime /= duration / 2;\n      if (curTime < 1) {\n        return (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n      } else {\n        curTime -= 2;\n      }\n      return (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n    }\n  },\n  // for simulate()\n  frameTime = 16.0,\n  // time for one frame\n  maxVelocity = 100,\n  // speed cap\n  stopVelocity = 0.04,\n  // velocity to stop\n  velocityFriction = 0.95,\n  // velocity decreasing factor\n  clampVelocity = (0, _clamp[\"default\"])(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nvar ScrollAnimator = exports.ScrollAnimator = /*#__PURE__*/function () {\n  /**\n   * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n   *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n   *\t`'ease-out'`.\n   * @constructor\n   * @memberof ui/useScroll.ScrollAnimator\n   */\n  function ScrollAnimator(type) {\n    _classCallCheck(this, ScrollAnimator);\n    this.rAFId = null;\n    this.type = 'ease-out';\n    this.timingFunction = timingFunctions[type || this.type];\n  }\n  _createClass(ScrollAnimator, [{\n    key: \"simulate\",\n    value: function simulate(sourceX, sourceY, velocityX, velocityY) {\n      var stepX = clampVelocity(velocityX * frameTime),\n        stepY = clampVelocity(velocityY * frameTime),\n        deltaX = 0,\n        deltaY = 0,\n        duration = 0;\n      do {\n        stepX *= velocityFriction;\n        stepY *= velocityFriction;\n        deltaX += stepX;\n        deltaY += stepY;\n        duration += frameTime;\n      } while (stepX * stepX + stepY * stepY > stopVelocity);\n      return {\n        targetX: sourceX + deltaX,\n        targetY: sourceY + deltaY,\n        duration: duration\n      };\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(rAFCallbackFuntion) {\n      var _this = this;\n      var rAF = window.requestAnimationFrame,\n        startTimeStamp = (0, _util.perfNow)(),\n        fn = function fn() {\n          var\n            // schedule next frame\n            rAFId = rAF(fn),\n            // current timestamp\n            curTimeStamp = (0, _util.perfNow)(),\n            // current time if 0 at starting position\n            curTime = curTimeStamp - startTimeStamp;\n          _this.rAFId = rAFId;\n          rAFCallbackFuntion(curTime);\n        };\n      this.rAFId = rAF(fn);\n    }\n  }, {\n    key: \"isAnimating\",\n    value: function isAnimating() {\n      return this.rAFId !== null;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var cAF = window.cancelAnimationFrame;\n      if (this.rAFId !== null) {\n        cAF(this.rAFId);\n        this.rAFId = null;\n      }\n    }\n  }]);\n  return ScrollAnimator;\n}();\nvar _default = exports[\"default\"] = ScrollAnimator;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}